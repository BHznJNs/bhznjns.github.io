# 2.0 版本语法草案

## 变量定义&赋值

```
variable_name = <value>
```

变量的定义 or 赋值同时也是表达式，其值为： ``<value>``

错误的左值应该引发报错：

```
10 = 20
-------
AssignmentError: invalid left-hand value.
```

使用 ``glo`` 关键字赋值/定义全局变量

```
glo variable_name = <value>
```

## 数据类型

int 类型（允许无限大的数），通过不带有小数点的数字字面量创建，如 ``1``
float 类型（f64），通过带有小数点的数字字面量创建，如 ``3.14``

- float 类型通过 Epsilon 消除误差，使得诸如 ``0.1 + 0.2 == 0.3`` 的表达式为真

boolean 类型，通过全局常量 ``true`` 和 ``false`` 获取和使用

unique 类型，通过标准库内置函数 ``unique`` 创建，该类型保证每次创建的值唯一，即 ``unique("key") != unique("key")`` 的值为真

### 裸类型

裸类型是相对于部分内建对象（``String``, ``Array``, ``Map``）而言的，它们具备较弱的功能（不具备供调用的方法），同时占用内存较小。

裸字符串类型，通过双引号和单引号创建，
如 ``'string1'`` ``"string2"``
可通过中引号 + 整数的方式读取字符
如 ``string[0]``

裸数组类型，即大小不可变数组，只允许读写数组内的值，不允许改变数组长度，使用中括号创建，
如 ``[1, 2, 3]``
可通过中引号 + 整数的方式读写值
如 ``arr[0]`` ``arr[0] = <value>``

裸集合类型，集合中值相同的元素会被合并，原则上，只应将基础类型（数字、布尔值、unique、裸字符串）作为集合的元素
通过大括号创建，集合的元素通过逗号分割，
如 ``{1, 2, 3}``

裸字典类型，通过大括号创建，字典的键可使用引号包裹（可选），字典中元素可使用逗号进行分割，
如 ``{"a": 1, b: 2}``
可通过中引号 + 字符串的方式读取和设置键值对
如 ``dict["key"]`` ``dict["key"] = <value>``

> 与上述裸类型对应的对象类型在后面介绍。

## 条件判断

```
if condition {
    # ...
}
```

```
if condition {
    # ...
} else {
    # ...
}
```

```
if condition {
    # ...
} elif condition {
    # ...
} else {
    # ...
}
```

## 循环

无限循环

```
loop {
    # ...
}
```

限次数的循环

```
loop 10 {
    # ...
}
```

for ... in ... 循环，需要设计对应的{迭代器}(Iterator)
迭代器可为内置类

```
for i in arr {
    # ...
}
```

## 函数定义

```
$<function-name>(param: Type) {
    # function body
}
```

## 类定义

```
$<class-name> {
    property: Type,
    method(param: Type) {
        # method body
    }
}
```
