{"version":3,"file":"fab.min.js","sources":["../../src/components/fab.js"],"sourcesContent":["import pathManager from \"../scripts/pathManager.js\"\r\nimport config from \"../../build.config.js\"\r\nimport el from \"../utils/el.js\"\r\nimport backToTop from \"../utils/backToTop.js\"\r\nimport languageSelector from \"../utils/languageSelector.js\"\r\nimport { downsizeText, enlargeText } from \"../scripts/articleRenderer.js\"\r\n\r\nconst fabItem = (id, title) => el(\r\n    \"button\",\r\n    el(\"div\"),\r\n    { id, title }\r\n)\r\n\r\nclass FabIcon extends HTMLElement {\r\n    #switcher = null\r\n    #subItems = {}\r\n\r\n    constructor() {\r\n        super()\r\n\r\n        const switcher = this.#switcher = fabItem(\"switcher\", languageSelector(\"切换浮动操作按钮\", \"Switch The FAB\"))\r\n        this.#subItems.backToParent = fabItem(\"back-to-parent\", languageSelector(\"返回父级\", \"Back to Parent\"))\r\n        this.#subItems.backToTop    = fabItem(\"back-to-top\", languageSelector(\"返回顶部\", \"Back to Top\"))\r\n        this.#subItems.enlargeText  = fabItem(\"enlarge-text\", languageSelector(\"放大文本\", \"Enlarge Text\"))\r\n        this.#subItems.downsizeText = fabItem(\"downsize-text\", languageSelector(\"缩小文本\", \"Downsize Text\"))\r\n\r\n        const subFabItem = config.fabOrdering\r\n            .map(fabItem => this.#subItems[fabItem])\r\n            .filter(fabItem => fabItem !== undefined)\r\n        for (const [index, item] of Object.entries(subFabItem)) {\r\n            item.style.setProperty(\"--fab-item-index\", Number(index) + 1)\r\n        }\r\n\r\n        this.classList.add(\"hidden\")\r\n        this.#eventAppender()\r\n        this.style.setProperty(\"--fab-item-count\", subFabItem.length + 1)\r\n        for (const el of [switcher].concat(subFabItem)) {\r\n            this.appendChild(el)\r\n        }\r\n    }\r\n\r\n    #eventAppender() {\r\n        this.#switcher.addEventListener(\"click\", () => {\r\n            this.classList.toggle(\"hidden\")\r\n        })\r\n        this.#subItems.backToParent.addEventListener(\"click\", () => {\r\n            console.log(pathManager.parent())\r\n            pathManager.jumpTo(pathManager.parent())\r\n        })\r\n        this.#subItems.backToTop.addEventListener(\"click\", backToTop)\r\n        this.#subItems.enlargeText.addEventListener(\"click\", enlargeText)\r\n        this.#subItems.downsizeText.addEventListener(\"click\", downsizeText)\r\n    }\r\n}\r\ncustomElements.define(\"fab-icon\", FabIcon)\r\n"],"names":["fabItem","id","title","el","FabIcon","HTMLElement","switcher","subItems","constructor","super","this","languageSelector","backToParent","backToTop","enlargeText","downsizeText","subFabItem","config","fabOrdering","map","filter","undefined","index","item","Object","entries","style","setProperty","Number","classList","add","eventAppender","length","concat","appendChild","addEventListener","toggle","console","log","pathManager","parent","jumpTo","customElements","define"],"mappings":"8EAOA,MAAMA,EAAU,CAACC,EAAIC,IAAUC,EAC3B,SACAA,EAAG,OACH,CAAEF,KAAIC,UAGV,MAAME,UAAgBC,YAClBC,GAAY,KACZC,GAAY,CAAE,EAEd,WAAAC,GACIC,QAEA,MAAMH,EAAWI,MAAKJ,EAAYN,EAAQ,WAAYW,EAAiB,WAAY,mBACnFD,MAAKH,EAAUK,aAAeZ,EAAQ,iBAAkBW,EAAiB,OAAQ,mBACjFD,MAAKH,EAAUM,UAAeb,EAAQ,cAAeW,EAAiB,OAAQ,gBAC9ED,MAAKH,EAAUO,YAAed,EAAQ,eAAgBW,EAAiB,OAAQ,iBAC/ED,MAAKH,EAAUQ,aAAef,EAAQ,gBAAiBW,EAAiB,OAAQ,kBAEhF,MAAMK,EAAaC,EAAOC,YACrBC,KAAInB,GAAWU,MAAKH,EAAUP,KAC9BoB,QAAOpB,QAAuBqB,IAAZrB,IACvB,IAAK,MAAOsB,EAAOC,KAASC,OAAOC,QAAQT,GACvCO,EAAKG,MAAMC,YAAY,mBAAoBC,OAAON,GAAS,GAG/DZ,KAAKmB,UAAUC,IAAI,UACnBpB,MAAKqB,IACLrB,KAAKgB,MAAMC,YAAY,mBAAoBX,EAAWgB,OAAS,GAC/D,IAAK,MAAM7B,IAAM,CAACG,GAAU2B,OAAOjB,GAC/BN,KAAKwB,YAAY/B,EAExB,CAED,EAAA4B,GACIrB,MAAKJ,EAAU6B,iBAAiB,SAAS,KACrCzB,KAAKmB,UAAUO,OAAO,SAAS,IAEnC1B,MAAKH,EAAUK,aAAauB,iBAAiB,SAAS,KAClDE,QAAQC,IAAIC,EAAYC,UACxBD,EAAYE,OAAOF,EAAYC,SAAS,IAE5C9B,MAAKH,EAAUM,UAAUsB,iBAAiB,QAAStB,GACnDH,MAAKH,EAAUO,YAAYqB,iBAAiB,QAASrB,GACrDJ,MAAKH,EAAUQ,aAAaoB,iBAAiB,QAASpB,EACzD,EAEL2B,eAAeC,OAAO,WAAYvC"}