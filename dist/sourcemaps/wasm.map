{"version":3,"file":"wasm.min.js","sources":["../../src/libs/highlight-es/languages/wasm.js"],"sourcesContent":["/*\r\nLanguage: WebAssembly\r\nWebsite: https://webassembly.org\r\nDescription:  Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.\r\nCategory: web, common\r\nAudit: 2020\r\n*/\r\n\r\n/** @type LanguageFn */\r\nexport default function(hljs) {\r\n  const regex = hljs.regex;\r\n  const BLOCK_COMMENT = hljs.COMMENT(/\\(;/, /;\\)/);\r\n  BLOCK_COMMENT.contains.push(\"self\");\r\n  const LINE_COMMENT = hljs.COMMENT(/;;/, /$/);\r\n\r\n  const KWS = [\r\n    \"anyfunc\",\r\n    \"block\",\r\n    \"br\",\r\n    \"br_if\",\r\n    \"br_table\",\r\n    \"call\",\r\n    \"call_indirect\",\r\n    \"data\",\r\n    \"drop\",\r\n    \"elem\",\r\n    \"else\",\r\n    \"end\",\r\n    \"export\",\r\n    \"func\",\r\n    \"global.get\",\r\n    \"global.set\",\r\n    \"local.get\",\r\n    \"local.set\",\r\n    \"local.tee\",\r\n    \"get_global\",\r\n    \"get_local\",\r\n    \"global\",\r\n    \"if\",\r\n    \"import\",\r\n    \"local\",\r\n    \"loop\",\r\n    \"memory\",\r\n    \"memory.grow\",\r\n    \"memory.size\",\r\n    \"module\",\r\n    \"mut\",\r\n    \"nop\",\r\n    \"offset\",\r\n    \"param\",\r\n    \"result\",\r\n    \"return\",\r\n    \"select\",\r\n    \"set_global\",\r\n    \"set_local\",\r\n    \"start\",\r\n    \"table\",\r\n    \"tee_local\",\r\n    \"then\",\r\n    \"type\",\r\n    \"unreachable\"\r\n  ];\r\n\r\n  const FUNCTION_REFERENCE = {\r\n    begin: [\r\n      /(?:func|call|call_indirect)/,\r\n      /\\s+/,\r\n      /\\$[^\\s)]+/\r\n    ],\r\n    className: {\r\n      1: \"keyword\",\r\n      3: \"title.function\"\r\n    }\r\n  };\r\n\r\n  const ARGUMENT = {\r\n    className: \"variable\",\r\n    begin: /\\$[\\w_]+/\r\n  };\r\n\r\n  const PARENS = {\r\n    match: /(\\((?!;)|\\))+/,\r\n    className: \"punctuation\",\r\n    relevance: 0\r\n  };\r\n\r\n  const NUMBER = {\r\n    className: \"number\",\r\n    relevance: 0,\r\n    // borrowed from Prism, TODO: split out into variants\r\n    match: /[+-]?\\b(?:\\d(?:_?\\d)*(?:\\.\\d(?:_?\\d)*)?(?:[eE][+-]?\\d(?:_?\\d)*)?|0x[\\da-fA-F](?:_?[\\da-fA-F])*(?:\\.[\\da-fA-F](?:_?[\\da-fA-D])*)?(?:[pP][+-]?\\d(?:_?\\d)*)?)\\b|\\binf\\b|\\bnan(?::0x[\\da-fA-F](?:_?[\\da-fA-D])*)?\\b/\r\n  };\r\n\r\n  const TYPE = {\r\n    // look-ahead prevents us from gobbling up opcodes\r\n    match: /(i32|i64|f32|f64)(?!\\.)/,\r\n    className: \"type\"\r\n  };\r\n\r\n  const MATH_OPERATIONS = {\r\n    className: \"keyword\",\r\n    // borrowed from Prism, TODO: split out into variants\r\n    match: /\\b(f32|f64|i32|i64)(?:\\.(?:abs|add|and|ceil|clz|const|convert_[su]\\/i(?:32|64)|copysign|ctz|demote\\/f64|div(?:_[su])?|eqz?|extend_[su]\\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\\/f32|reinterpret\\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\\/f(?:32|64))?|wrap\\/i64|xor))\\b/\r\n  };\r\n\r\n  const OFFSET_ALIGN = {\r\n    match: [\r\n      /(?:offset|align)/,\r\n      /\\s*/,\r\n      /=/\r\n    ],\r\n    className: {\r\n      1: \"keyword\",\r\n      3: \"operator\"\r\n    }\r\n  };\r\n\r\n  return {\r\n    name: 'WebAssembly',\r\n    keywords: {\r\n      $pattern: /[\\w.]+/,\r\n      keyword: KWS\r\n    },\r\n    contains: [\r\n      LINE_COMMENT,\r\n      BLOCK_COMMENT,\r\n      OFFSET_ALIGN,\r\n      ARGUMENT,\r\n      PARENS,\r\n      FUNCTION_REFERENCE,\r\n      hljs.QUOTE_STRING_MODE,\r\n      TYPE,\r\n      MATH_OPERATIONS,\r\n      NUMBER\r\n    ]\r\n  };\r\n}\r\n"],"names":["wasm","hljs","regex","BLOCK_COMMENT","COMMENT","contains","push","name","keywords","$pattern","keyword","match","className","begin","relevance","QUOTE_STRING_MODE"],"mappings":"AASe,SAAQA,EAACC,GACRA,EAAKC,MACnB,MAAMC,EAAgBF,EAAKG,QAAQ,MAAO,OAC1CD,EAAcE,SAASC,KAAK,QAyG5B,MAAO,CACLC,KAAM,cACNC,SAAU,CACRC,SAAU,SACVC,QA1GQ,CACV,UACA,QACA,KACA,QACA,WACA,OACA,gBACA,OACA,OACA,OACA,OACA,MACA,SACA,OACA,aACA,aACA,YACA,YACA,YACA,aACA,YACA,SACA,KACA,SACA,QACA,OACA,SACA,cACA,cACA,SACA,MACA,MACA,SACA,QACA,SACA,SACA,SACA,aACA,YACA,QACA,QACA,YACA,OACA,OACA,gBA+DAL,SAAU,CA9GSJ,EAAKG,QAAQ,KAAM,KAgHpCD,EApBiB,CACnBQ,MAAO,CACL,mBACA,MACA,KAEFC,UAAW,CACT,EAAG,UACH,EAAG,aAtCU,CACfA,UAAW,WACXC,MAAO,YAGM,CACbF,MAAO,gBACPC,UAAW,cACXE,UAAW,GApBc,CACzBD,MAAO,CACL,8BACA,MACA,aAEFD,UAAW,CACT,EAAG,UACH,EAAG,mBA2DHX,EAAKc,kBArCI,CAEXJ,MAAO,0BACPC,UAAW,QAGW,CACtBA,UAAW,UAEXD,MAAO,qZAhBM,CACbC,UAAW,SACXE,UAAW,EAEXH,MAAO,oNA8CX"}