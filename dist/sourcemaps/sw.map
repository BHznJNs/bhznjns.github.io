{"version":3,"file":"sw.js","sources":["../src/sw.js"],"sourcesContent":["const cacheName = \"MarkdownBlog\"\r\nconst appShellFiles = [\r\n    \"./katex.min.css\",\r\n    \"./chunks/katex.min.js\",\r\n    \"./imgs/sun.svg\",\r\n    \"./imgs/moon.svg\",\r\n    \"./imgs/rss.svg\",\r\n    \"./imgs/homepage.svg\",\r\n    \"./imgs/broken.svg\",\r\n    \"./imgs/favicon.png\",\r\n    \"./fonts/KaTeX_Math-Italic.woff2\",\r\n    \"./fonts/KaTeX_Main-Regular.woff2\",\r\n    \"./fonts/KaTeX_Size4-Regular.woff2\",\r\n    \"./fonts/KaTeX_Size1-Regular.woff2\",\r\n    \"./fonts/KaTeX_AMS-Regular.woff2\",\r\n]\r\n\r\nself.addEventListener(\"install\", (e) => {\r\n    console.log(\"[Service Worker] Installing...\")\r\n    e.waitUntil((async () => {\r\n        const cache = await caches.open(cacheName)\r\n        console.log(\"[Service Worker] Caching all: app shell and content\")\r\n        for (const resource of appShellFiles) {\r\n            try {\r\n                await cache.add(resource)\r\n            } catch(e) {\r\n                console.log(\"[Service Worker] Cache error when requesting resource \" + resource)\r\n                console.error(e)\r\n            }\r\n        }\r\n    })())\r\n})\r\nself.addEventListener(\"activate\", (_) => {\r\n    console.log(\"[Service Worker] Activated\")\r\n})\r\n\r\n// block part of fetch operation\r\nself.addEventListener(\"fetch\", (e) => {\r\n    const target = e.request\r\n    if (caches.match(target)) {\r\n        e.respondWith(caches.match(target))\r\n        console.log(`[Service Worker] Used cached ${target.url} to response request`)\r\n    } else {\r\n        e.respondWith(fetch(target))\r\n        console.log(`[Service Worker] Fetching ${target.url}`)\r\n    }\r\n})\r\n"],"names":["appShellFiles","self","addEventListener","e","console","log","waitUntil","cache","caches","open","resource","add","error","_","target","request","match","respondWith","url","fetch"],"mappings":"AAAA,MACMA,EAAgB,CAClB,kBACA,wBACA,iBACA,kBACA,iBACA,sBACA,oBACA,qBACA,kCACA,mCACA,oCACA,oCACA,mCAGJC,KAAKC,iBAAiB,WAAYC,IAC9BC,QAAQC,IAAI,kCACZF,EAAEG,UAAU,WACR,MAAMC,QAAcC,OAAOC,KApBjB,gBAqBVL,QAAQC,IAAI,uDACZ,IAAK,MAAMK,KAAYV,EACnB,UACUO,EAAMI,IAAID,EACnB,CAAC,MAAMP,GACJC,QAAQC,IAAI,yDAA2DK,GACvEN,QAAQQ,MAAMT,EACjB,CAER,EAXW,GAWP,IAETF,KAAKC,iBAAiB,YAAaW,IAC/BT,QAAQC,IAAI,6BAA6B,IAI7CJ,KAAKC,iBAAiB,SAAUC,IAC5B,MAAMW,EAASX,EAAEY,QACbP,OAAOQ,MAAMF,IACbX,EAAEc,YAAYT,OAAOQ,MAAMF,IAC3BV,QAAQC,IAAI,gCAAgCS,EAAOI,6BAEnDf,EAAEc,YAAYE,MAAML,IACpBV,QAAQC,IAAI,6BAA6BS,EAAOI,OACnD"}