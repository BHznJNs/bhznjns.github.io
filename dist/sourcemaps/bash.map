{"version":3,"file":"bash.min.js","sources":["../../src/libs/highlight-es/languages/bash.js"],"sourcesContent":["/*\r\nLanguage: Bash\r\nAuthor: vah <vahtenberg@gmail.com>\r\nContributrors: Benjamin Pannell <contact@sierrasoftworks.com>\r\nWebsite: https://www.gnu.org/software/bash/\r\nCategory: common, scripting\r\n*/\r\n\r\n/** @type LanguageFn */\r\nexport default function(hljs) {\r\n  const regex = hljs.regex;\r\n  const VAR = {};\r\n  const BRACED_VAR = {\r\n    begin: /\\$\\{/,\r\n    end: /\\}/,\r\n    contains: [\r\n      \"self\",\r\n      {\r\n        begin: /:-/,\r\n        contains: [ VAR ]\r\n      } // default values\r\n    ]\r\n  };\r\n  Object.assign(VAR, {\r\n    className: 'variable',\r\n    variants: [\r\n      { begin: regex.concat(/\\$[\\w\\d#@][\\w\\d_]*/,\r\n        // negative look-ahead tries to avoid matching patterns that are not\r\n        // Perl at all like $ident$, @ident@, etc.\r\n        `(?![\\\\w\\\\d])(?![$])`) },\r\n      BRACED_VAR\r\n    ]\r\n  });\r\n\r\n  const SUBST = {\r\n    className: 'subst',\r\n    begin: /\\$\\(/,\r\n    end: /\\)/,\r\n    contains: [ hljs.BACKSLASH_ESCAPE ]\r\n  };\r\n  const COMMENT = hljs.inherit(\r\n    hljs.COMMENT(),\r\n    {\r\n      match: [\r\n        /(^|\\s)/,\r\n        /#.*$/\r\n      ],\r\n      scope: {\r\n        2: 'comment'\r\n      }\r\n    }\r\n  );\r\n  const HERE_DOC = {\r\n    begin: /<<-?\\s*(?=\\w+)/,\r\n    starts: { contains: [\r\n      hljs.END_SAME_AS_BEGIN({\r\n        begin: /(\\w+)/,\r\n        end: /(\\w+)/,\r\n        className: 'string'\r\n      })\r\n    ] }\r\n  };\r\n  const QUOTE_STRING = {\r\n    className: 'string',\r\n    begin: /\"/,\r\n    end: /\"/,\r\n    contains: [\r\n      hljs.BACKSLASH_ESCAPE,\r\n      VAR,\r\n      SUBST\r\n    ]\r\n  };\r\n  SUBST.contains.push(QUOTE_STRING);\r\n  const ESCAPED_QUOTE = {\r\n    match: /\\\\\"/\r\n  };\r\n  const APOS_STRING = {\r\n    className: 'string',\r\n    begin: /'/,\r\n    end: /'/\r\n  };\r\n  const ESCAPED_APOS = {\r\n    match: /\\\\'/\r\n  };\r\n  const ARITHMETIC = {\r\n    begin: /\\$?\\(\\(/,\r\n    end: /\\)\\)/,\r\n    contains: [\r\n      {\r\n        begin: /\\d+#[0-9a-f]+/,\r\n        className: \"number\"\r\n      },\r\n      hljs.NUMBER_MODE,\r\n      VAR\r\n    ]\r\n  };\r\n  const SH_LIKE_SHELLS = [\r\n    \"fish\",\r\n    \"bash\",\r\n    \"zsh\",\r\n    \"sh\",\r\n    \"csh\",\r\n    \"ksh\",\r\n    \"tcsh\",\r\n    \"dash\",\r\n    \"scsh\",\r\n  ];\r\n  const KNOWN_SHEBANG = hljs.SHEBANG({\r\n    binary: `(${SH_LIKE_SHELLS.join(\"|\")})`,\r\n    relevance: 10\r\n  });\r\n  const FUNCTION = {\r\n    className: 'function',\r\n    begin: /\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,\r\n    returnBegin: true,\r\n    contains: [ hljs.inherit(hljs.TITLE_MODE, { begin: /\\w[\\w\\d_]*/ }) ],\r\n    relevance: 0\r\n  };\r\n\r\n  const KEYWORDS = [\r\n    \"if\",\r\n    \"then\",\r\n    \"else\",\r\n    \"elif\",\r\n    \"fi\",\r\n    \"for\",\r\n    \"while\",\r\n    \"until\",\r\n    \"in\",\r\n    \"do\",\r\n    \"done\",\r\n    \"case\",\r\n    \"esac\",\r\n    \"function\",\r\n    \"select\"\r\n  ];\r\n\r\n  const LITERALS = [\r\n    \"true\",\r\n    \"false\"\r\n  ];\r\n\r\n  // to consume paths to prevent keyword matches inside them\r\n  const PATH_MODE = { match: /(\\/[a-z._-]+)+/ };\r\n\r\n  // http://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\r\n  const SHELL_BUILT_INS = [\r\n    \"break\",\r\n    \"cd\",\r\n    \"continue\",\r\n    \"eval\",\r\n    \"exec\",\r\n    \"exit\",\r\n    \"export\",\r\n    \"getopts\",\r\n    \"hash\",\r\n    \"pwd\",\r\n    \"readonly\",\r\n    \"return\",\r\n    \"shift\",\r\n    \"test\",\r\n    \"times\",\r\n    \"trap\",\r\n    \"umask\",\r\n    \"unset\"\r\n  ];\r\n\r\n  const BASH_BUILT_INS = [\r\n    \"alias\",\r\n    \"bind\",\r\n    \"builtin\",\r\n    \"caller\",\r\n    \"command\",\r\n    \"declare\",\r\n    \"echo\",\r\n    \"enable\",\r\n    \"help\",\r\n    \"let\",\r\n    \"local\",\r\n    \"logout\",\r\n    \"mapfile\",\r\n    \"printf\",\r\n    \"read\",\r\n    \"readarray\",\r\n    \"source\",\r\n    \"type\",\r\n    \"typeset\",\r\n    \"ulimit\",\r\n    \"unalias\"\r\n  ];\r\n\r\n  const ZSH_BUILT_INS = [\r\n    \"autoload\",\r\n    \"bg\",\r\n    \"bindkey\",\r\n    \"bye\",\r\n    \"cap\",\r\n    \"chdir\",\r\n    \"clone\",\r\n    \"comparguments\",\r\n    \"compcall\",\r\n    \"compctl\",\r\n    \"compdescribe\",\r\n    \"compfiles\",\r\n    \"compgroups\",\r\n    \"compquote\",\r\n    \"comptags\",\r\n    \"comptry\",\r\n    \"compvalues\",\r\n    \"dirs\",\r\n    \"disable\",\r\n    \"disown\",\r\n    \"echotc\",\r\n    \"echoti\",\r\n    \"emulate\",\r\n    \"fc\",\r\n    \"fg\",\r\n    \"float\",\r\n    \"functions\",\r\n    \"getcap\",\r\n    \"getln\",\r\n    \"history\",\r\n    \"integer\",\r\n    \"jobs\",\r\n    \"kill\",\r\n    \"limit\",\r\n    \"log\",\r\n    \"noglob\",\r\n    \"popd\",\r\n    \"print\",\r\n    \"pushd\",\r\n    \"pushln\",\r\n    \"rehash\",\r\n    \"sched\",\r\n    \"setcap\",\r\n    \"setopt\",\r\n    \"stat\",\r\n    \"suspend\",\r\n    \"ttyctl\",\r\n    \"unfunction\",\r\n    \"unhash\",\r\n    \"unlimit\",\r\n    \"unsetopt\",\r\n    \"vared\",\r\n    \"wait\",\r\n    \"whence\",\r\n    \"where\",\r\n    \"which\",\r\n    \"zcompile\",\r\n    \"zformat\",\r\n    \"zftp\",\r\n    \"zle\",\r\n    \"zmodload\",\r\n    \"zparseopts\",\r\n    \"zprof\",\r\n    \"zpty\",\r\n    \"zregexparse\",\r\n    \"zsocket\",\r\n    \"zstyle\",\r\n    \"ztcp\"\r\n  ];\r\n\r\n  const GNU_CORE_UTILS = [\r\n    \"chcon\",\r\n    \"chgrp\",\r\n    \"chown\",\r\n    \"chmod\",\r\n    \"cp\",\r\n    \"dd\",\r\n    \"df\",\r\n    \"dir\",\r\n    \"dircolors\",\r\n    \"ln\",\r\n    \"ls\",\r\n    \"mkdir\",\r\n    \"mkfifo\",\r\n    \"mknod\",\r\n    \"mktemp\",\r\n    \"mv\",\r\n    \"realpath\",\r\n    \"rm\",\r\n    \"rmdir\",\r\n    \"shred\",\r\n    \"sync\",\r\n    \"touch\",\r\n    \"truncate\",\r\n    \"vdir\",\r\n    \"b2sum\",\r\n    \"base32\",\r\n    \"base64\",\r\n    \"cat\",\r\n    \"cksum\",\r\n    \"comm\",\r\n    \"csplit\",\r\n    \"cut\",\r\n    \"expand\",\r\n    \"fmt\",\r\n    \"fold\",\r\n    \"head\",\r\n    \"join\",\r\n    \"md5sum\",\r\n    \"nl\",\r\n    \"numfmt\",\r\n    \"od\",\r\n    \"paste\",\r\n    \"ptx\",\r\n    \"pr\",\r\n    \"sha1sum\",\r\n    \"sha224sum\",\r\n    \"sha256sum\",\r\n    \"sha384sum\",\r\n    \"sha512sum\",\r\n    \"shuf\",\r\n    \"sort\",\r\n    \"split\",\r\n    \"sum\",\r\n    \"tac\",\r\n    \"tail\",\r\n    \"tr\",\r\n    \"tsort\",\r\n    \"unexpand\",\r\n    \"uniq\",\r\n    \"wc\",\r\n    \"arch\",\r\n    \"basename\",\r\n    \"chroot\",\r\n    \"date\",\r\n    \"dirname\",\r\n    \"du\",\r\n    \"echo\",\r\n    \"env\",\r\n    \"expr\",\r\n    \"factor\",\r\n    // \"false\", // keyword literal already\r\n    \"groups\",\r\n    \"hostid\",\r\n    \"id\",\r\n    \"link\",\r\n    \"logname\",\r\n    \"nice\",\r\n    \"nohup\",\r\n    \"nproc\",\r\n    \"pathchk\",\r\n    \"pinky\",\r\n    \"printenv\",\r\n    \"printf\",\r\n    \"pwd\",\r\n    \"readlink\",\r\n    \"runcon\",\r\n    \"seq\",\r\n    \"sleep\",\r\n    \"stat\",\r\n    \"stdbuf\",\r\n    \"stty\",\r\n    \"tee\",\r\n    \"test\",\r\n    \"timeout\",\r\n    // \"true\", // keyword literal already\r\n    \"tty\",\r\n    \"uname\",\r\n    \"unlink\",\r\n    \"uptime\",\r\n    \"users\",\r\n    \"who\",\r\n    \"whoami\",\r\n    \"yes\"\r\n  ];\r\n\r\n  return {\r\n    name: 'Bash',\r\n    aliases: [\r\n      'sh',\r\n      'zsh'\r\n    ],\r\n    keywords: {\r\n      $pattern: /\\b[a-z][a-z0-9._-]+\\b/,\r\n      keyword: KEYWORDS,\r\n      literal: LITERALS,\r\n      built_in: [\r\n        ...SHELL_BUILT_INS,\r\n        ...BASH_BUILT_INS,\r\n        // Shell modifiers\r\n        \"set\",\r\n        \"shopt\",\r\n        ...ZSH_BUILT_INS,\r\n        ...GNU_CORE_UTILS\r\n      ]\r\n    },\r\n    contains: [\r\n      KNOWN_SHEBANG, // to catch known shells and boost relevancy\r\n      hljs.SHEBANG(), // to catch unknown shells but still highlight the shebang\r\n      FUNCTION,\r\n      ARITHMETIC,\r\n      COMMENT,\r\n      HERE_DOC,\r\n      PATH_MODE,\r\n      QUOTE_STRING,\r\n      ESCAPED_QUOTE,\r\n      APOS_STRING,\r\n      ESCAPED_APOS,\r\n      VAR\r\n    ]\r\n  };\r\n}\r\n"],"names":["bash","hljs","regex","VAR","BRACED_VAR","begin","end","contains","Object","assign","className","variants","concat","SUBST","BACKSLASH_ESCAPE","COMMENT","inherit","match","scope","HERE_DOC","starts","END_SAME_AS_BEGIN","QUOTE_STRING","push","ARITHMETIC","NUMBER_MODE","KNOWN_SHEBANG","SHEBANG","binary","join","relevance","FUNCTION","returnBegin","TITLE_MODE","name","aliases","keywords","$pattern","keyword","literal","built_in"],"mappings":"AASe,SAAQA,EAACC,GACtB,MAAMC,EAAQD,EAAKC,MACbC,EAAM,CAAA,EACNC,EAAa,CACjBC,MAAO,OACPC,IAAK,KACLC,SAAU,CACR,OACA,CACEF,MAAO,KACPE,SAAU,CAAEJ,MAIlBK,OAAOC,OAAON,EAAK,CACjBO,UAAW,WACXC,SAAU,CACR,CAAEN,MAAOH,EAAMU,OAAO,qBAGpB,wBACFR,KAIJ,MAAMS,EAAQ,CACZH,UAAW,QACXL,MAAO,OACPC,IAAK,KACLC,SAAU,CAAEN,EAAKa,mBAEbC,EAAUd,EAAKe,QACnBf,EAAKc,UACL,CACEE,MAAO,CACL,SACA,QAEFC,MAAO,CACL,EAAG,aAIHC,EAAW,CACfd,MAAO,iBACPe,OAAQ,CAAEb,SAAU,CAClBN,EAAKoB,kBAAkB,CACrBhB,MAAO,QACPC,IAAK,QACLI,UAAW,cAIXY,EAAe,CACnBZ,UAAW,SACXL,MAAO,IACPC,IAAK,IACLC,SAAU,CACRN,EAAKa,iBACLX,EACAU,IAGJA,EAAMN,SAASgB,KAAKD,GACpB,MAWME,EAAa,CACjBnB,MAAO,UACPC,IAAK,OACLC,SAAU,CACR,CACEF,MAAO,gBACPK,UAAW,UAEbT,EAAKwB,YACLtB,IAcEuB,EAAgBzB,EAAK0B,QAAQ,CACjCC,OAAQ,IAZa,CACrB,OACA,OACA,MACA,KACA,MACA,MACA,OACA,OACA,QAG2BC,KAAK,QAChCC,UAAW,KAEPC,EAAW,CACfrB,UAAW,WACXL,MAAO,4BACP2B,aAAa,EACbzB,SAAU,CAAEN,EAAKe,QAAQf,EAAKgC,WAAY,CAAE5B,MAAO,gBACnDyB,UAAW,GA4Pb,MAAO,CACLI,KAAM,OACNC,QAAS,CACP,KACA,OAEFC,SAAU,CACRC,SAAU,wBACVC,QAjQa,CACf,KACA,OACA,OACA,OACA,KACA,MACA,QACA,QACA,KACA,KACA,OACA,OACA,OACA,WACA,UAmPEC,QAhPa,CACf,OACA,SA+OEC,SAAU,CAvOZ,QACA,KACA,WACA,OACA,OACA,OACA,SACA,UACA,OACA,MACA,WACA,SACA,QACA,OACA,QACA,OACA,QACA,QAIA,QACA,OACA,UACA,SACA,UACA,UACA,OACA,SACA,OACA,MACA,QACA,SACA,UACA,SACA,OACA,YACA,SACA,OACA,UACA,SACA,UAkMI,MACA,QA/LJ,WACA,KACA,UACA,MACA,MACA,QACA,QACA,gBACA,WACA,UACA,eACA,YACA,aACA,YACA,WACA,UACA,aACA,OACA,UACA,SACA,SACA,SACA,UACA,KACA,KACA,QACA,YACA,SACA,QACA,UACA,UACA,OACA,OACA,QACA,MACA,SACA,OACA,QACA,QACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,SACA,aACA,SACA,UACA,WACA,QACA,OACA,SACA,QACA,QACA,WACA,UACA,OACA,MACA,WACA,aACA,QACA,OACA,cACA,UACA,SACA,OAIA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,MACA,YACA,KACA,KACA,QACA,SACA,QACA,SACA,KACA,WACA,KACA,QACA,QACA,OACA,QACA,WACA,OACA,QACA,SACA,SACA,MACA,QACA,OACA,SACA,MACA,SACA,MACA,OACA,OACA,OACA,SACA,KACA,SACA,KACA,QACA,MACA,KACA,UACA,YACA,YACA,YACA,YACA,OACA,OACA,QACA,MACA,MACA,OACA,KACA,QACA,WACA,OACA,KACA,OACA,WACA,SACA,OACA,UACA,KACA,OACA,MACA,OACA,SAEA,SACA,SACA,KACA,OACA,UACA,OACA,QACA,QACA,UACA,QACA,WACA,SACA,MACA,WACA,SACA,MACA,QACA,OACA,SACA,OACA,MACA,OACA,UAEA,MACA,QACA,SACA,SACA,QACA,MACA,SACA,QAuBAjC,SAAU,CACRmB,EACAzB,EAAK0B,UACLI,EACAP,EACAT,EACAI,EA3Pc,CAAEF,MAAO,kBA6PvBK,EAnUkB,CACpBL,MAAO,OAEW,CAClBP,UAAW,SACXL,MAAO,IACPC,IAAK,KAEc,CACnBW,MAAO,OA8TLd,GAGN"}