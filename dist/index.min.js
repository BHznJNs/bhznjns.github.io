let t=null;async function e(e){return t&&t.abort(),t=new AbortController,await fetch(e,{signal:t.signal}).then((async e=>{const s=await e.json();return t=null,s})).catch((t=>(console.log("JSON request error: "+e),console.error(t),null)))}var s={homepage:"https://bhznjns.github.io/markdown-blog/",title:"BHznJNs' Blog",footer:"::Powered by [MarkdownBlog](https://github.com/BHznJNs/markdown-blog)::",language:"zh",enableFab:!0,fabOrdering:["catalogSwitcher","downsizeText","enlargeText","backToParent","backToTop"],enableCatalog:!0,enableRSS:!0,rssIgnoreDir:["学习笔记/"],enableNewest:!0,newestIgnoreDir:[],pageCapacity:10,RSSCapacity:16,previewPort:3e3,katexOptions:null};function n(t){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}async function i(t){await function(t){switch(t){case"../components/catalog.js":return import("./chunks/catalog.min.js");case"../components/fab.js":return import("./chunks/fab.min.js");case"../components/paging.js":return Promise.resolve().then((function(){return dt}));default:return new Promise((function(e,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`../components/${t}.js`),n(`./dist/chunks/${t}.min.css`)}const{katexOptions:a}=s;let l=null,r=null;async function o(){function t(){const t=Array.from(globalThis.__LanguageList__),e=t.filter((t=>!l.getLanguage(t))).map((t=>function(t){switch(t){case"../libs/highlight-es/languages/armasm.js":return import("./libs/highlight-es/languages/armasm.js");case"../libs/highlight-es/languages/asciidoc.js":return import("./libs/highlight-es/languages/asciidoc.js");case"../libs/highlight-es/languages/bash.js":return import("./libs/highlight-es/languages/bash.js");case"../libs/highlight-es/languages/c.js":return import("./libs/highlight-es/languages/c.js");case"../libs/highlight-es/languages/clojure.js":return import("./libs/highlight-es/languages/clojure.js");case"../libs/highlight-es/languages/cmake.js":return import("./libs/highlight-es/languages/cmake.js");case"../libs/highlight-es/languages/cpp.js":return import("./libs/highlight-es/languages/cpp.js");case"../libs/highlight-es/languages/csharp.js":return import("./libs/highlight-es/languages/csharp.js");case"../libs/highlight-es/languages/css.js":return import("./libs/highlight-es/languages/css.js");case"../libs/highlight-es/languages/dart.js":return import("./libs/highlight-es/languages/dart.js");case"../libs/highlight-es/languages/django.js":return import("./libs/highlight-es/languages/django.js");case"../libs/highlight-es/languages/dockerfile.js":return import("./libs/highlight-es/languages/dockerfile.js");case"../libs/highlight-es/languages/elixir.js":return import("./libs/highlight-es/languages/elixir.js");case"../libs/highlight-es/languages/erlang.js":return import("./libs/highlight-es/languages/erlang.js");case"../libs/highlight-es/languages/excel.js":return import("./libs/highlight-es/languages/excel.js");case"../libs/highlight-es/languages/go.js":return import("./libs/highlight-es/languages/go.js");case"../libs/highlight-es/languages/gradle.js":return import("./libs/highlight-es/languages/gradle.js");case"../libs/highlight-es/languages/groovy.js":return import("./libs/highlight-es/languages/groovy.js");case"../libs/highlight-es/languages/haml.js":return import("./libs/highlight-es/languages/haml.js");case"../libs/highlight-es/languages/haskell.js":return import("./libs/highlight-es/languages/haskell.js");case"../libs/highlight-es/languages/http.js":return import("./libs/highlight-es/languages/http.js");case"../libs/highlight-es/languages/ini.js":return import("./libs/highlight-es/languages/ini.js");case"../libs/highlight-es/languages/java.js":return import("./libs/highlight-es/languages/java.js");case"../libs/highlight-es/languages/javascript.js":return import("./libs/highlight-es/languages/javascript.js");case"../libs/highlight-es/languages/json.js":return import("./libs/highlight-es/languages/json.js");case"../libs/highlight-es/languages/julia.js":return import("./libs/highlight-es/languages/julia.js");case"../libs/highlight-es/languages/kotlin.js":return import("./libs/highlight-es/languages/kotlin.js");case"../libs/highlight-es/languages/latex.js":return import("./libs/highlight-es/languages/latex.js");case"../libs/highlight-es/languages/less.js":return import("./libs/highlight-es/languages/less.js");case"../libs/highlight-es/languages/lisp.js":return import("./libs/highlight-es/languages/lisp.js");case"../libs/highlight-es/languages/llvm.js":return import("./libs/highlight-es/languages/llvm.js");case"../libs/highlight-es/languages/lua.js":return import("./libs/highlight-es/languages/lua.js");case"../libs/highlight-es/languages/makefile.js":return import("./libs/highlight-es/languages/makefile.js");case"../libs/highlight-es/languages/markdown.js":return import("./libs/highlight-es/languages/markdown.js");case"../libs/highlight-es/languages/mathematica.js":return import("./libs/highlight-es/languages/mathematica.js");case"../libs/highlight-es/languages/matlab.js":return import("./libs/highlight-es/languages/matlab.js");case"../libs/highlight-es/languages/nginx.js":return import("./libs/highlight-es/languages/nginx.js");case"../libs/highlight-es/languages/nim.js":return import("./libs/highlight-es/languages/nim.js");case"../libs/highlight-es/languages/nix.js":return import("./libs/highlight-es/languages/nix.js");case"../libs/highlight-es/languages/objectivec.js":return import("./libs/highlight-es/languages/objectivec.js");case"../libs/highlight-es/languages/ocaml.js":return import("./libs/highlight-es/languages/ocaml.js");case"../libs/highlight-es/languages/perl.js":return import("./libs/highlight-es/languages/perl.js");case"../libs/highlight-es/languages/php.js":return import("./libs/highlight-es/languages/php.js");case"../libs/highlight-es/languages/powershell.js":return import("./libs/highlight-es/languages/powershell.js");case"../libs/highlight-es/languages/python.js":return import("./libs/highlight-es/languages/python.js");case"../libs/highlight-es/languages/ruby.js":return import("./libs/highlight-es/languages/ruby.js");case"../libs/highlight-es/languages/rust.js":return import("./libs/highlight-es/languages/rust.js");case"../libs/highlight-es/languages/scala.js":return import("./libs/highlight-es/languages/scala.js");case"../libs/highlight-es/languages/scss.js":return import("./libs/highlight-es/languages/scss.js");case"../libs/highlight-es/languages/shell.js":return import("./libs/highlight-es/languages/shell.js");case"../libs/highlight-es/languages/sql.js":return import("./libs/highlight-es/languages/sql.js");case"../libs/highlight-es/languages/stata.js":return import("./libs/highlight-es/languages/stata.js");case"../libs/highlight-es/languages/stylus.js":return import("./libs/highlight-es/languages/stylus.js");case"../libs/highlight-es/languages/swift.js":return import("./libs/highlight-es/languages/swift.js");case"../libs/highlight-es/languages/toml.js":return import("./libs/highlight-es/languages/toml.js");case"../libs/highlight-es/languages/typescript.js":return import("./libs/highlight-es/languages/typescript.js");case"../libs/highlight-es/languages/vim.js":return import("./libs/highlight-es/languages/vim.js");case"../libs/highlight-es/languages/wasm.js":return import("./libs/highlight-es/languages/wasm.js");case"../libs/highlight-es/languages/x86asm.js":return import("./libs/highlight-es/languages/x86asm.js");case"../libs/highlight-es/languages/xml.js":return import("./libs/highlight-es/languages/xml.js");case"../libs/highlight-es/languages/xquery.js":return import("./libs/highlight-es/languages/xquery.js");case"../libs/highlight-es/languages/yaml.js":return import("./libs/highlight-es/languages/yaml.js");default:return new Promise((function(e,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`../libs/highlight-es/languages/${t.toLowerCase()}.js`)));Promise.all(e).then((e=>e.forEach(((e,s)=>{const n=t[s],i=e.default;l.registerLanguage(n,i)})))).then((()=>l.highlightAll())).catch((t=>console.error(t)))}globalThis.__LanguageList__.size&&(l?t():await import("./libs/highlight-es/highlight.min.js").then((t=>l=t.default)).then(t).catch((t=>console.error(t))))}function h(t){return Object.entries(t).filter((([t,e])=>null!=e)).map((([t,e])=>`${t}="${(t=>t.toString().replaceAll('"',"&quot;"))(e)}"`)).join(" ")}function g(t,e="",s=null){if("document"in globalThis){if("text"===t)return document.createTextNode(e);const n=document.createElement(t);return function(t,e){if(e)for(const[s,n]of Object.entries(e))void 0!==n&&(n instanceof Function?t[s]=n:t.setAttribute(s,n))}(n,s),function(t,e){if(e instanceof Array)for(const s of e)t.appendChild(s);else if(e instanceof HTMLElement)t.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);t.textContent=e}}(n,e),n}switch(e instanceof Array&&(e=e.join("")),t){case"text":return e;case"hr":case"br":return`<${t}>`;case"img":case"input":return`<${t} ${s?h(s):""}>`}return`<${t}${s?" "+h(s):""}>${e}</${t}>`}function c(t,e){if(!t.includes(e))return null;let s="",n=!1;for(;t.length;){const i=t.slice(0,1);if(t=t.substr(1),"\\"!==i){if(i===e&&!n)break;s+=i,n=!1}else n=!n}return s}const u=new Map([["#","strong"],["`","code"],["_","u"],["/","i"],["-","del"],[":","span.dim"],[",","sub"],["'","sup"],["$","span.math"]]),p=new Map([["[","]"],["{","}"]]);class d{constructor(t){this.content=t}toHTML=()=>g("text",this.content)}class m{constructor(t,e){const s=u.get(t);if(s.includes(".")){const[t,e]=s.split(".");this.tagName=t,this.className=e}else this.tagName=s;this.content=e,"math"===this.className&&(globalThis.__ContainsFormula__=!0)}toHTML(){const t=void 0===this.className?null:{class:this.className};return g(this.tagName,j(this.content),t)}}class b{constructor(t,e){this.content=t,this.address=e}toHTML(){const t=j(this.content);if(this.address.startsWith("http"))return g("a",t,{href:this.address,target:"_blank"});return g("a",t,{href:"#"+("static/"+this.address)})}}class f{constructor(t,e){this.content=t,this.notation=e}toHTML(){const t=g("rp","("),e=g("rp",")"),s=g("rt",this.notation);return g("ruby",j(this.content).concat([t,s,e]),{"data-notation":this.notation})}}function j(t){const e=function(t){function e(){const e=t.charAt(0);return t=t.substring(1),e}function s(t){let e;return"["===t?e=b:"{"===t&&(e=f),e}const n=[];let i="",a="",l="",r=!1,o=!1;for(;t.length;){const h=e();if(u.has(h)){if(r){o?a+=h:i+=h;continue}if(o&&h!=l){a+=h;continue}const s=e();if(s!=h){o?a+=h:i+=h,t=s+t;continue}o?(n.push(new m(h,a)),a="",l=""):(n.push(new d(i)),i="",l=h),o=!o;continue}if(["[","{"].includes(h)&&!o&&!r){const a=h,l=p.get(a);n.push(new d(i)),i="";let r=a;const o=c(t,l);if(null!=o){r+=t.slice(0,o.length+1),t=t.substr(o.length+1);const i=e();if(r+=i,"("===i){const e=c(t,")");if(null!=e){let i=s(a);t=t.substr(e.length+1),n.push(new i(o,e));continue}}}i+=r;continue}if("\\"===h){r=!r;continue}let g;r?(g="\\"+h,r=!1):g=h,o?a+=g:i+=g}return a.length&&n.push(new m(l,a)),i.length&&n.push(new d(i)),n}(t);let s=e.filter((t=>!(t instanceof d&&!t.content.length))).map((t=>t.toHTML()));return"object"!=typeof window&&t===s[0]?(t=>t.replaceAll("<","&lt;").replaceAll(">","&gt;"))(t):s}const w=["zh","en"];const y=function(t){for(const[e,s]of Object.entries(w))if(t===s)return(...t)=>t[e];return console.warn("Unexpected language: "+t),(...t)=>t[1]}(s.language);class v{constructor(t){const e=t.split(" "),s=e[0];let n=0;for(const t of s)"#"===t&&(n+=1);n>6&&(n=0);const i=e.slice(1).join(" ");this.tagName="h"+n,this.content=j(i)}toHTML(){const t=void 0===this.id?null:{id:this.id};return g(this.tagName,this.content,t)}static pattern=t=>t.match(/^(#+ )/)}class x{tagName="p";constructor(t){this.content=t.trimStart()}toHTML(){const t=j(this.content);return g(this.tagName,t)}}class L{tagName="blockquote";children=[];constructor(t){this.children=t}toHTML(){const t=this.children.map((t=>t.toHTML()));return g(this.tagName,t)}static pattern=t=>">"===t||t.startsWith("> ")}class k{toHTML=()=>g("hr");static pattern=t=>t.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!t.match(/[a-zA-Z0-9]/)}class T{children=[];constructor(t){this.isOrdered=Boolean(T.orderedPattern(t)),this.tagName=this.isOrdered?"ol":"ul",this.children=[T.getContent(t,this.isOrdered)]}push=t=>this.children.push(t);toHTML(){const t=[];for(const e of this.children)if("string"==typeof e){const s=j(e);t.push(g("li",s))}else t.push(e.toHTML());return g(this.tagName,t)}static unorderedPattern=t=>Boolean(t.match(/^([\s\t]*[+-]+ )/));static orderedPattern=t=>Boolean(t.match(/^([\s\t]*[0-9]+. )/));static isListPattern=t=>T.orderedPattern(t)||T.unorderedPattern(t);static getContent(t,e){return e?t.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0]:t.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0]}}class _{headerCells=[""];bodyRows=[[""]];constructor(t,e){this.headerCells=t,this.bodyRows=e}#t=t=>g("th",t);#e=t=>g("td",j(t));#s=t=>g("tr",t.map(this.#t));#n=t=>g("tr",t.map(this.#e));toHTML(){const t=g("thead",this.#s(this.headerCells)),e=g("tbody",this.bodyRows.map(this.#n));return g("div",g("table",[t,e]),{class:"table"})}static pattern=t=>t.startsWith("| ")}class E{source="";description="";constructor(t){t=t.substr(2),this.description=c(t,"]"),t=t.substr(this.description.length+2),this.source=c(t,")")}static containerGenerator(t){return g("div",t,{class:"media-container"})}static patternGenerator(t){return e=>e.startsWith(t+"[")&&e.endsWith(")")}static replaceContentGenerator(t,e){return`${e}<br>${g("a",y("从这里下载！","Download Here!"),{href:t})}`}static srcUrlResolver(t){let e;if(t.startsWith("http"))e=t;else if("location"in globalThis){e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+t}else{e=globalThis.__ResourcePath__+"/"+t}return e}}class C extends E{static pattern=E.patternGenerator("!");toHTML(){const t=g("img","",{src:E.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return"object"==typeof window&&(t.onclick=t=>window.open(t.target.src),t.onerror=t=>{const e=t.target;e.onclick=null,e.title=this.description,e.classList.add("load-error")}),E.containerGenerator(t)}}class M extends E{static pattern=E.patternGenerator(":");toHTML(){const t=E.srcUrlResolver(this.source),e=g("audio",E.replaceContentGenerator(t,this.description),{src:t,controls:!0});return E.containerGenerator(e)}}class H extends E{static pattern=E.patternGenerator("?");toHTML(){const t=E.srcUrlResolver(this.source),e=g("video",E.replaceContentGenerator(t,this.description),{src:t,controls:"true"});return E.containerGenerator(e)}}const S=t=>E.patternGenerator("@")(t)||t.startsWith("@@@");class q extends E{toHTML(){const t=E.srcUrlResolver(this.source),e=g("iframe",this.description,{src:t,title:this.description,sandbox:"allow-scripts",loading:"lazy"});return E.containerGenerator(e)}}class P{constructor(t,e){this.lang=e,"object"==typeof window?this.content=t:this.content=t.replaceAll("<","&lt;").replaceAll(">","&gt;")}append(t){this.content+=t}toHTML(){const t=["plaintext","text",""].includes(this.lang);let e,s;"object"!=typeof window||t||globalThis.__LanguageList__.add(this.lang),t?(s="nohighlight",e="PLAINTEXT"):(s=`language-${this.lang}`,e=this.lang.toUpperCase());const n=g("code",this.content,{class:s,tabindex:0});return g("pre",n,{"data-language":e})}static pattern=t=>t.startsWith("```")}class N{summary="";content="";constructor(t,e){this.summary=e,this.content=J(t)}toHTML(){const t=g("summary",this.summary),e=g("details",t),s=g("div",g("div",this.content.map((t=>t.toHTML())),{class:"details-children"}),{class:"details-children-container"});return g("div",[e,s],{class:"details"})}static pattern=t=>t.startsWith(">>>")}class ${content="";description="";constructor(t,e){this.content=t,this.description=e}toHTML(){return globalThis.__ContainsFormula__=!0,g("div",this.content,{class:"math",title:this.description})}static pattern=t=>t.startsWith("$$$")}class A{static#i=t=>`<style>\n@media (prefers-color-scheme: dark) {\n  :root {\n    color: white;\n    background-color: #121212;\n  }\n}\n</style>\n<script>\nconst rootEl = document.documentElement\nfunction postHeight() {\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(rootEl).height)\n    parent.postMessage({\n        height,\n        id: "${t}"\n    }, "*")\n}\nwindow.addEventListener("load", postHeight)\nwindow.addEventListener("message", e => {\n  const { fontSize } = e.data\n  rootEl.style.fontSize = fontSize\n  postHeight()\n})\n<\/script>`;constructor(t,e){globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=e,"object"==typeof window?this.content=t+A.#i(this.id):this.content=t}toHTML(){const t=g("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return E.containerGenerator(t)}}function W(t){let e=0,s=0;for(const n of t){if(n.match(/[^\s\t]/))break;"\t"!==n?(" "===n&&(s+=1),2===s&&(s=0,e+=1)):e+=1}return e}function B(t,e){const s=W(t),n=new T(t);for(;e.length&&T.isListPattern(e[0]);){const t=e.shift(),i=W(t),a=T.orderedPattern(t);if(i>s)n.push(B(t,e));else{if(i!==s||a!==n.isOrdered){e.unshift(t);break}n.push(T.getContent(t,a))}}return n}function I(t,e){let s=t.slice(2)+"\n";for(;e.length;){const t=e.shift();if(!L.pattern(t)){e.unshift(t);break}s+=t.slice(2)+"\n"}const n=J(s);return new L(n)}function R(t){return t.split("|").filter((t=>t.length>0)).map((t=>t.trim()))}function O(t,e){const s=t,n=[];for(;e.length;){const t=e.shift();if(!_.pattern(t)){e.unshift(t);break}n.push(t)}const i=R(s),a=n.map(R);return new _(i,a)}function z(t,e){return function(s,n){const i=s.slice(3);let a="";for(;n.length;){const e=n.shift();if(e===t)break;a+=e+"\n"}return new e(a,i)}}const G=z("```",P),U=z(">>>",N),F=z("$$$",$);function D(t,e){const s=z("@@@",A);return t.startsWith("@@@")?s(t,e):new q(t)}function J(t){const e=function(t){return-1!=t.indexOf("\r")?t.split("\r\n"):t.split("\n")}(t),s=[];for(;e.length;){const t=e.shift();t.length&&(v.pattern(t)?s.push(new v(t)):k.pattern(t)?s.push(new k):L.pattern(t)?s.push(I(t,e)):T.isListPattern(t)?s.push(B(t,e)):_.pattern(t)?s.push(O(t,e)):C.pattern(t)?s.push(new C(t)):M.pattern(t)?s.push(new M(t)):H.pattern(t)?s.push(new H(t)):N.pattern(t)?s.push(U(t,e)):$.pattern(t)?s.push(F(t,e)):P.pattern(t)?s.push(G(t,e)):S(t)?s.push(D(t,e)):s.push(new x(t)))}return s}function X(t){return function(e){"Enter"!==e.key&&" "!==e.key||t.click()}}function Z(){document.body.scrollTop=0,document.documentElement.scrollTop=0}const K=new class{events=new Map;emit(t,...e){const s=this.events.get(t);s&&s.forEach((t=>{t.apply(null,e)}))}on(t,e){const s=this.events.get(t);s?s.push(e):this.events.set(t,[e])}off(t,e){const s=this.events.get(t);if(s)if(1===s.length)this.events.delete(t);else{const t=s.indexOf(e);s.splice(t,1)}}},Q=document.querySelector("article"),V=y("空文章","Empty Article");function Y(t,e){globalThis.__LanguageList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;const s=J(e);{const t=function(t){return t.filter((t=>t instanceof v)).map(((t,e)=>({id:t.id="headline-"+e,content:t.content.map((t=>t.cloneNode(!0))),level:t.tagName})))}(s);K.emit("article-rendered",t)}let i=s.map((t=>t.toHTML()));i.length||(i=el("h1",V)),t.innerHTML="",i.forEach((e=>t.appendChild(e))),t.style.display="block",t.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=X(t)})),Z(),o().then((()=>globalThis.__LanguageList__=null)),async function(){function t(){document.querySelectorAll(".math").forEach((t=>{const e=t.textContent;try{r.render(e,t,a)}catch(s){if(!(s instanceof r.ParseError))throw s;t.innerHTML=("Error in LaTeX '"+e+"': "+s.message).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}))}if(globalThis.__ContainsFormula__)if(r)t();else{n("./dist/libs/katex/katex.min.css");try{const e=await import("./libs/katex/katex.min.js");r=e.default,t()}catch(t){console.error(t)}}}().then((()=>globalThis.__ContainsFormula__=!1))}function tt(t){const e=new Date(t.timestamp),s=g("code",(new Intl.DateTimeFormat).format(e)),n=g("span",t.title,{class:"underline-target"});return g("li",[s,g("text",": "),n],{tabindex:0,class:"underline-through","data-target-blog":t.link})}function et(t){const e=g("span",t,{class:"underline-target"});return g("li",e,{class:"underline-through",tabindex:0})}K.on("catalog-toggle",(()=>{Q.classList.toggle("with-catalog")})),K.on("catalog-closed",(()=>{Q.classList.remove("with-catalog")}));const st=document.querySelector("main"),nt=document.querySelector("article"),it=st.querySelector("#article-list"),at=st.querySelector("#directory-description"),lt=st.querySelector("paging-view");function rt(t,e){const{current:s,total:n}=t;lt.setPage(s,n),at.innerHTML="","directoryDescription"in t&&Y(at,t.directoryDescription),it.innerHTML="",t.content.map(e).forEach((t=>it.appendChild(t))),it.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=X(t)})),nt.style.display="none",st.style.display="block",document.body.scrollTop=0,document.documentElement.scrollTop=0}async function ot(s){const n=document.querySelector("main"),i=document.querySelector("article"),a="./.index/";if(!location.hash)return void gt.homepage();const l=location.hash.slice(1);if(n.classList.add("disabled"),gt.isIn.newestPage()){const t=a+"newest_"+ct.current(),s=await e(t);if(!s)return;rt(s,tt)}else if(gt.isIn.directory()){const t=a+l.split("/").slice(0,-1).join("+")+"_"+ct.current(),s=await e(t);if(!s)return;rt(s,et)}else if(gt.isIn.article()){const e=await async function(e){return t&&t.abort(),t=new AbortController,await fetch(e,{signal:t.signal}).then((async e=>{if(200!=e.status)throw e.status;const s=await e.text();return t=null,s})).catch((t=>{if("number"!=typeof t)return console.error(t),null;switch(t){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";case DOMException:console.error(t);break;default:return console.log("Markdown request error: "+e),console.error(t),"# Unexpected request error"}}))}("./"+l);if(!e)return;n.style.display="none",Y(i,e)}else gt.homepage();n.setAttribute("data-is-root","static/"===l),n.classList.remove("disabled")}window.addEventListener("hashchange",ot),window.addEventListener("load",ot);const ht="static/",gt={homepage(){location.hash=ht},open(t){location.hash+=t},jumpTo(t){location.hash=t},parent(){if(this.isIn.root()||this.isIn.newestPage())return ht;const t=location.hash.slice(1).split("/");if(this.isIn.directory())return t.slice(0,-2).join("/")+"/";if(this.isIn.article())return t.slice(0,-1).join("/")+"/";throw new Error("Unexpected hash: "+location.hash)},isIn:{root:()=>location.hash==="#"+ht,newestPage:()=>"#newest/"===location.hash,directory:()=>location.hash.startsWith("#static")&&location.hash.endsWith("/"),article:()=>location.hash.startsWith("#static")&&location.hash.endsWith(".md")}};const ct=new class{#a=[1];current=()=>this.#a[this.length()-1];next=()=>this.#a[this.length()-1]+=1;prev=()=>this.#a[this.length()-1]-=1;jumpTo=t=>this.#a[this.length()-1]=Number(t);length=()=>this.#a.length;back(){this.#a.pop(),this.#a.length||this.#a.push(1)}open(){this.#a.push(1)}},ut=t=>g("button",g("span",t),{class:"icon-btn"});class pt extends HTMLElement{#l={};constructor(){super(),this.#l.input=g("input","1",{type:"number",min:1,max:1}),this.#l.maxPage=g("span","1");const t=this.#l.prevBtn=ut(y("上一页","Prev")),e=this.#l.nextBtn=ut(y("下一页","Next"));t.id="prev-btn",e.id="next-btn";const s=g("label",[this.#l.input,g("text","/"),this.#l.maxPage]);this.#r();for(const n of[t,s,e])this.appendChild(n)}#r(){this.#l.input.addEventListener("keydown",(t=>{if("Enter"!==t.key)return;const e=t.target.value;if(!/^\d+$/.test(e))return void(t.target.value=1);const s=Number(e);s>0&&s<=this.#l.input.max?(ct.jumpTo(s),ot()):t.target.value=1})),this.#l.prevBtn.addEventListener("click",(()=>{ct.current()>0&&(ct.prev(),ot())})),this.#l.nextBtn.addEventListener("click",(()=>{ct.current()<this.#l.input.max&&(ct.next(),ot())}))}setPage(t,e){let s=!1,n=!1,i=!1;1===e?i=!0:(1===t&&(s=!0),t===e&&(n=!0)),this.#l.prevBtn.disabled=i||s,this.#l.nextBtn.disabled=i||n,this.#l.maxPage.textContent=e,this.#l.input.value=t,this.#l.input.max=e,this.classList.toggle("hidden",i)}}customElements.define("paging-view",pt);var dt=Object.freeze({__proto__:null,default:ct});const mt=document.querySelector("main"),bt=mt.querySelector("#previous-dir li"),ft=mt.querySelector("#article-list");bt.addEventListener("click",(()=>{ct.back(),gt.jumpTo(gt.parent())})),ft.addEventListener("click",(t=>{const e=t.target;e!==ft&&(e.getAttribute("data-target-blog")?(ct.open(),gt.jumpTo(e.getAttribute("data-target-blog"))):(e.innerText.endsWith("/")&&ct.open(),gt.open(e.innerText)))})),i("fab"),i("catalog");const jt=document.querySelector("#light-btn"),wt=document.querySelector("#dark-btn");jt.onkeydown=X(jt),wt.onkeydown=X(wt),window.addEventListener("popstate",(()=>{location.hash.endsWith("/")&&ct.back()})),window.addEventListener("message",(t=>{if("null"!=t.origin)return;const{id:e,height:s}=t.data;document.getElementById(e).style.height=s+"px"})),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch((function(t){console.error("Registration failed with "+t)}));export{K as a,Z as b,s as c,g as e,y as l,gt as p};
//# sourceMappingURL=index.min.js.map
