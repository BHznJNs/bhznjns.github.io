import{D as s,C as e,e as t,l as i,a}from"./chunks/echarts.min.js";import n from"../user/build.config.js";let l=null;async function r(s){return l&&l.abort(),l=new AbortController,await fetch(s,{signal:l.signal}).then((async s=>{const e=await s.json();return l=null,e})).catch((e=>(console.log("JSON request error: "+s),console.error(e),null)))}function g(s){return new Promise(((e,t)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=s,document.head.appendChild(i),i.onload=e,i.onerror=t}))}const h=new class extends s{name="Highlight.js";_targetElList=()=>document.querySelectorAll("pre.code-block code");async#s(s=[]){const e=s.filter((s=>!this._module.getLanguage(s))).map((s=>function(s){switch(s){case"../../libs/highlight-es/languages/1c.js":return import("./libs/highlight-es/languages/1c.js");case"../../libs/highlight-es/languages/abnf.js":return import("./libs/highlight-es/languages/abnf.js");case"../../libs/highlight-es/languages/accesslog.js":return import("./libs/highlight-es/languages/accesslog.js");case"../../libs/highlight-es/languages/actionscript.js":return import("./libs/highlight-es/languages/actionscript.js");case"../../libs/highlight-es/languages/ada.js":return import("./libs/highlight-es/languages/ada.js");case"../../libs/highlight-es/languages/angelscript.js":return import("./libs/highlight-es/languages/angelscript.js");case"../../libs/highlight-es/languages/apache.js":return import("./libs/highlight-es/languages/apache.js");case"../../libs/highlight-es/languages/applescript.js":return import("./libs/highlight-es/languages/applescript.js");case"../../libs/highlight-es/languages/arcade.js":return import("./libs/highlight-es/languages/arcade.js");case"../../libs/highlight-es/languages/arduino.js":return import("./libs/highlight-es/languages/arduino.js");case"../../libs/highlight-es/languages/armasm.js":return import("./libs/highlight-es/languages/armasm.js");case"../../libs/highlight-es/languages/asciidoc.js":return import("./libs/highlight-es/languages/asciidoc.js");case"../../libs/highlight-es/languages/aspectj.js":return import("./libs/highlight-es/languages/aspectj.js");case"../../libs/highlight-es/languages/autohotkey.js":return import("./libs/highlight-es/languages/autohotkey.js");case"../../libs/highlight-es/languages/autoit.js":return import("./libs/highlight-es/languages/autoit.js");case"../../libs/highlight-es/languages/avrasm.js":return import("./libs/highlight-es/languages/avrasm.js");case"../../libs/highlight-es/languages/awk.js":return import("./libs/highlight-es/languages/awk.js");case"../../libs/highlight-es/languages/axapta.js":return import("./libs/highlight-es/languages/axapta.js");case"../../libs/highlight-es/languages/bash.js":return import("./libs/highlight-es/languages/bash.js");case"../../libs/highlight-es/languages/basic.js":return import("./libs/highlight-es/languages/basic.js");case"../../libs/highlight-es/languages/bnf.js":return import("./libs/highlight-es/languages/bnf.js");case"../../libs/highlight-es/languages/brainfuck.js":return import("./libs/highlight-es/languages/brainfuck.js");case"../../libs/highlight-es/languages/c.js":return import("./libs/highlight-es/languages/c.js");case"../../libs/highlight-es/languages/cal.js":return import("./libs/highlight-es/languages/cal.js");case"../../libs/highlight-es/languages/capnproto.js":return import("./libs/highlight-es/languages/capnproto.js");case"../../libs/highlight-es/languages/ceylon.js":return import("./libs/highlight-es/languages/ceylon.js");case"../../libs/highlight-es/languages/clean.js":return import("./libs/highlight-es/languages/clean.js");case"../../libs/highlight-es/languages/clojure-repl.js":return import("./libs/highlight-es/languages/clojure-repl.js");case"../../libs/highlight-es/languages/clojure.js":return import("./libs/highlight-es/languages/clojure.js");case"../../libs/highlight-es/languages/cmake.js":return import("./libs/highlight-es/languages/cmake.js");case"../../libs/highlight-es/languages/coffeescript.js":return import("./libs/highlight-es/languages/coffeescript.js");case"../../libs/highlight-es/languages/coq.js":return import("./libs/highlight-es/languages/coq.js");case"../../libs/highlight-es/languages/cos.js":return import("./libs/highlight-es/languages/cos.js");case"../../libs/highlight-es/languages/cpp.js":return import("./libs/highlight-es/languages/cpp.js");case"../../libs/highlight-es/languages/crmsh.js":return import("./libs/highlight-es/languages/crmsh.js");case"../../libs/highlight-es/languages/crystal.js":return import("./libs/highlight-es/languages/crystal.js");case"../../libs/highlight-es/languages/csharp.js":return import("./libs/highlight-es/languages/csharp.js");case"../../libs/highlight-es/languages/csp.js":return import("./libs/highlight-es/languages/csp.js");case"../../libs/highlight-es/languages/css.js":return import("./libs/highlight-es/languages/css.js");case"../../libs/highlight-es/languages/d.js":return import("./libs/highlight-es/languages/d.js");case"../../libs/highlight-es/languages/dart.js":return import("./libs/highlight-es/languages/dart.js");case"../../libs/highlight-es/languages/delphi.js":return import("./libs/highlight-es/languages/delphi.js");case"../../libs/highlight-es/languages/diff.js":return import("./libs/highlight-es/languages/diff.js");case"../../libs/highlight-es/languages/django.js":return import("./libs/highlight-es/languages/django.js");case"../../libs/highlight-es/languages/dns.js":return import("./libs/highlight-es/languages/dns.js");case"../../libs/highlight-es/languages/dockerfile.js":return import("./libs/highlight-es/languages/dockerfile.js");case"../../libs/highlight-es/languages/dos.js":return import("./libs/highlight-es/languages/dos.js");case"../../libs/highlight-es/languages/dsconfig.js":return import("./libs/highlight-es/languages/dsconfig.js");case"../../libs/highlight-es/languages/dts.js":return import("./libs/highlight-es/languages/dts.js");case"../../libs/highlight-es/languages/dust.js":return import("./libs/highlight-es/languages/dust.js");case"../../libs/highlight-es/languages/ebnf.js":return import("./libs/highlight-es/languages/ebnf.js");case"../../libs/highlight-es/languages/elixir.js":return import("./libs/highlight-es/languages/elixir.js");case"../../libs/highlight-es/languages/elm.js":return import("./libs/highlight-es/languages/elm.js");case"../../libs/highlight-es/languages/erb.js":return import("./libs/highlight-es/languages/erb.js");case"../../libs/highlight-es/languages/erlang-repl.js":return import("./libs/highlight-es/languages/erlang-repl.js");case"../../libs/highlight-es/languages/erlang.js":return import("./libs/highlight-es/languages/erlang.js");case"../../libs/highlight-es/languages/excel.js":return import("./libs/highlight-es/languages/excel.js");case"../../libs/highlight-es/languages/fix.js":return import("./libs/highlight-es/languages/fix.js");case"../../libs/highlight-es/languages/flix.js":return import("./libs/highlight-es/languages/flix.js");case"../../libs/highlight-es/languages/fortran.js":return import("./libs/highlight-es/languages/fortran.js");case"../../libs/highlight-es/languages/fsharp.js":return import("./libs/highlight-es/languages/fsharp.js");case"../../libs/highlight-es/languages/gams.js":return import("./libs/highlight-es/languages/gams.js");case"../../libs/highlight-es/languages/gauss.js":return import("./libs/highlight-es/languages/gauss.js");case"../../libs/highlight-es/languages/gcode.js":return import("./libs/highlight-es/languages/gcode.js");case"../../libs/highlight-es/languages/gherkin.js":return import("./libs/highlight-es/languages/gherkin.js");case"../../libs/highlight-es/languages/glsl.js":return import("./libs/highlight-es/languages/glsl.js");case"../../libs/highlight-es/languages/gml.js":return import("./libs/highlight-es/languages/gml.js");case"../../libs/highlight-es/languages/go.js":return import("./libs/highlight-es/languages/go.js");case"../../libs/highlight-es/languages/golo.js":return import("./libs/highlight-es/languages/golo.js");case"../../libs/highlight-es/languages/gradle.js":return import("./libs/highlight-es/languages/gradle.js");case"../../libs/highlight-es/languages/graphql.js":return import("./libs/highlight-es/languages/graphql.js");case"../../libs/highlight-es/languages/groovy.js":return import("./libs/highlight-es/languages/groovy.js");case"../../libs/highlight-es/languages/haml.js":return import("./libs/highlight-es/languages/haml.js");case"../../libs/highlight-es/languages/handlebars.js":return import("./libs/highlight-es/languages/handlebars.js");case"../../libs/highlight-es/languages/haskell.js":return import("./libs/highlight-es/languages/haskell.js");case"../../libs/highlight-es/languages/haxe.js":return import("./libs/highlight-es/languages/haxe.js");case"../../libs/highlight-es/languages/hsp.js":return import("./libs/highlight-es/languages/hsp.js");case"../../libs/highlight-es/languages/http.js":return import("./libs/highlight-es/languages/http.js");case"../../libs/highlight-es/languages/hy.js":return import("./libs/highlight-es/languages/hy.js");case"../../libs/highlight-es/languages/inform7.js":return import("./libs/highlight-es/languages/inform7.js");case"../../libs/highlight-es/languages/ini.js":return import("./libs/highlight-es/languages/ini.js");case"../../libs/highlight-es/languages/irpf90.js":return import("./libs/highlight-es/languages/irpf90.js");case"../../libs/highlight-es/languages/isbl.js":return import("./libs/highlight-es/languages/isbl.js");case"../../libs/highlight-es/languages/java.js":return import("./libs/highlight-es/languages/java.js");case"../../libs/highlight-es/languages/javascript.js":return import("./libs/highlight-es/languages/javascript.js");case"../../libs/highlight-es/languages/jboss-cli.js":return import("./libs/highlight-es/languages/jboss-cli.js");case"../../libs/highlight-es/languages/json.js":return import("./libs/highlight-es/languages/json.js");case"../../libs/highlight-es/languages/julia-repl.js":return import("./libs/highlight-es/languages/julia-repl.js");case"../../libs/highlight-es/languages/julia.js":return import("./libs/highlight-es/languages/julia.js");case"../../libs/highlight-es/languages/kotlin.js":return import("./libs/highlight-es/languages/kotlin.js");case"../../libs/highlight-es/languages/lasso.js":return import("./libs/highlight-es/languages/lasso.js");case"../../libs/highlight-es/languages/latex.js":return import("./libs/highlight-es/languages/latex.js");case"../../libs/highlight-es/languages/ldif.js":return import("./libs/highlight-es/languages/ldif.js");case"../../libs/highlight-es/languages/leaf.js":return import("./libs/highlight-es/languages/leaf.js");case"../../libs/highlight-es/languages/less.js":return import("./libs/highlight-es/languages/less.js");case"../../libs/highlight-es/languages/lisp.js":return import("./libs/highlight-es/languages/lisp.js");case"../../libs/highlight-es/languages/livecodeserver.js":return import("./libs/highlight-es/languages/livecodeserver.js");case"../../libs/highlight-es/languages/livescript.js":return import("./libs/highlight-es/languages/livescript.js");case"../../libs/highlight-es/languages/llvm.js":return import("./libs/highlight-es/languages/llvm.js");case"../../libs/highlight-es/languages/lsl.js":return import("./libs/highlight-es/languages/lsl.js");case"../../libs/highlight-es/languages/lua.js":return import("./libs/highlight-es/languages/lua.js");case"../../libs/highlight-es/languages/makefile.js":return import("./libs/highlight-es/languages/makefile.js");case"../../libs/highlight-es/languages/markdown.js":return import("./libs/highlight-es/languages/markdown.js");case"../../libs/highlight-es/languages/mathematica.js":return import("./libs/highlight-es/languages/mathematica.js");case"../../libs/highlight-es/languages/matlab.js":return import("./libs/highlight-es/languages/matlab.js");case"../../libs/highlight-es/languages/maxima.js":return import("./libs/highlight-es/languages/maxima.js");case"../../libs/highlight-es/languages/mel.js":return import("./libs/highlight-es/languages/mel.js");case"../../libs/highlight-es/languages/mercury.js":return import("./libs/highlight-es/languages/mercury.js");case"../../libs/highlight-es/languages/mipsasm.js":return import("./libs/highlight-es/languages/mipsasm.js");case"../../libs/highlight-es/languages/mizar.js":return import("./libs/highlight-es/languages/mizar.js");case"../../libs/highlight-es/languages/mojolicious.js":return import("./libs/highlight-es/languages/mojolicious.js");case"../../libs/highlight-es/languages/monkey.js":return import("./libs/highlight-es/languages/monkey.js");case"../../libs/highlight-es/languages/moonscript.js":return import("./libs/highlight-es/languages/moonscript.js");case"../../libs/highlight-es/languages/n1ql.js":return import("./libs/highlight-es/languages/n1ql.js");case"../../libs/highlight-es/languages/nestedtext.js":return import("./libs/highlight-es/languages/nestedtext.js");case"../../libs/highlight-es/languages/nginx.js":return import("./libs/highlight-es/languages/nginx.js");case"../../libs/highlight-es/languages/nim.js":return import("./libs/highlight-es/languages/nim.js");case"../../libs/highlight-es/languages/nix.js":return import("./libs/highlight-es/languages/nix.js");case"../../libs/highlight-es/languages/node-repl.js":return import("./libs/highlight-es/languages/node-repl.js");case"../../libs/highlight-es/languages/nsis.js":return import("./libs/highlight-es/languages/nsis.js");case"../../libs/highlight-es/languages/objectivec.js":return import("./libs/highlight-es/languages/objectivec.js");case"../../libs/highlight-es/languages/ocaml.js":return import("./libs/highlight-es/languages/ocaml.js");case"../../libs/highlight-es/languages/openscad.js":return import("./libs/highlight-es/languages/openscad.js");case"../../libs/highlight-es/languages/oxygene.js":return import("./libs/highlight-es/languages/oxygene.js");case"../../libs/highlight-es/languages/parser3.js":return import("./libs/highlight-es/languages/parser3.js");case"../../libs/highlight-es/languages/perl.js":return import("./libs/highlight-es/languages/perl.js");case"../../libs/highlight-es/languages/pf.js":return import("./libs/highlight-es/languages/pf.js");case"../../libs/highlight-es/languages/pgsql.js":return import("./libs/highlight-es/languages/pgsql.js");case"../../libs/highlight-es/languages/php-template.js":return import("./libs/highlight-es/languages/php-template.js");case"../../libs/highlight-es/languages/php.js":return import("./libs/highlight-es/languages/php.js");case"../../libs/highlight-es/languages/plaintext.js":return import("./libs/highlight-es/languages/plaintext.js");case"../../libs/highlight-es/languages/pony.js":return import("./libs/highlight-es/languages/pony.js");case"../../libs/highlight-es/languages/powershell.js":return import("./libs/highlight-es/languages/powershell.js");case"../../libs/highlight-es/languages/processing.js":return import("./libs/highlight-es/languages/processing.js");case"../../libs/highlight-es/languages/profile.js":return import("./libs/highlight-es/languages/profile.js");case"../../libs/highlight-es/languages/prolog.js":return import("./libs/highlight-es/languages/prolog.js");case"../../libs/highlight-es/languages/properties.js":return import("./libs/highlight-es/languages/properties.js");case"../../libs/highlight-es/languages/protobuf.js":return import("./libs/highlight-es/languages/protobuf.js");case"../../libs/highlight-es/languages/puppet.js":return import("./libs/highlight-es/languages/puppet.js");case"../../libs/highlight-es/languages/purebasic.js":return import("./libs/highlight-es/languages/purebasic.js");case"../../libs/highlight-es/languages/python-repl.js":return import("./libs/highlight-es/languages/python-repl.js");case"../../libs/highlight-es/languages/python.js":return import("./libs/highlight-es/languages/python.js");case"../../libs/highlight-es/languages/q.js":return import("./libs/highlight-es/languages/q.js");case"../../libs/highlight-es/languages/qml.js":return import("./libs/highlight-es/languages/qml.js");case"../../libs/highlight-es/languages/r.js":return import("./libs/highlight-es/languages/r.js");case"../../libs/highlight-es/languages/reasonml.js":return import("./libs/highlight-es/languages/reasonml.js");case"../../libs/highlight-es/languages/rib.js":return import("./libs/highlight-es/languages/rib.js");case"../../libs/highlight-es/languages/roboconf.js":return import("./libs/highlight-es/languages/roboconf.js");case"../../libs/highlight-es/languages/routeros.js":return import("./libs/highlight-es/languages/routeros.js");case"../../libs/highlight-es/languages/rsl.js":return import("./libs/highlight-es/languages/rsl.js");case"../../libs/highlight-es/languages/ruby.js":return import("./libs/highlight-es/languages/ruby.js");case"../../libs/highlight-es/languages/ruleslanguage.js":return import("./libs/highlight-es/languages/ruleslanguage.js");case"../../libs/highlight-es/languages/rust.js":return import("./libs/highlight-es/languages/rust.js");case"../../libs/highlight-es/languages/sas.js":return import("./libs/highlight-es/languages/sas.js");case"../../libs/highlight-es/languages/scala.js":return import("./libs/highlight-es/languages/scala.js");case"../../libs/highlight-es/languages/scheme.js":return import("./libs/highlight-es/languages/scheme.js");case"../../libs/highlight-es/languages/scilab.js":return import("./libs/highlight-es/languages/scilab.js");case"../../libs/highlight-es/languages/scss.js":return import("./libs/highlight-es/languages/scss.js");case"../../libs/highlight-es/languages/shell.js":return import("./libs/highlight-es/languages/shell.js");case"../../libs/highlight-es/languages/smali.js":return import("./libs/highlight-es/languages/smali.js");case"../../libs/highlight-es/languages/smalltalk.js":return import("./libs/highlight-es/languages/smalltalk.js");case"../../libs/highlight-es/languages/sml.js":return import("./libs/highlight-es/languages/sml.js");case"../../libs/highlight-es/languages/sqf.js":return import("./libs/highlight-es/languages/sqf.js");case"../../libs/highlight-es/languages/sql.js":return import("./libs/highlight-es/languages/sql.js");case"../../libs/highlight-es/languages/stan.js":return import("./libs/highlight-es/languages/stan.js");case"../../libs/highlight-es/languages/stata.js":return import("./libs/highlight-es/languages/stata.js");case"../../libs/highlight-es/languages/step21.js":return import("./libs/highlight-es/languages/step21.js");case"../../libs/highlight-es/languages/stylus.js":return import("./libs/highlight-es/languages/stylus.js");case"../../libs/highlight-es/languages/subunit.js":return import("./libs/highlight-es/languages/subunit.js");case"../../libs/highlight-es/languages/swift.js":return import("./libs/highlight-es/languages/swift.js");case"../../libs/highlight-es/languages/taggerscript.js":return import("./libs/highlight-es/languages/taggerscript.js");case"../../libs/highlight-es/languages/tap.js":return import("./libs/highlight-es/languages/tap.js");case"../../libs/highlight-es/languages/tcl.js":return import("./libs/highlight-es/languages/tcl.js");case"../../libs/highlight-es/languages/thrift.js":return import("./libs/highlight-es/languages/thrift.js");case"../../libs/highlight-es/languages/toml.js":return import("./libs/highlight-es/languages/toml.js");case"../../libs/highlight-es/languages/tp.js":return import("./libs/highlight-es/languages/tp.js");case"../../libs/highlight-es/languages/twig.js":return import("./libs/highlight-es/languages/twig.js");case"../../libs/highlight-es/languages/typescript.js":return import("./libs/highlight-es/languages/typescript.js");case"../../libs/highlight-es/languages/vala.js":return import("./libs/highlight-es/languages/vala.js");case"../../libs/highlight-es/languages/vbnet.js":return import("./libs/highlight-es/languages/vbnet.js");case"../../libs/highlight-es/languages/vbscript-html.js":return import("./libs/highlight-es/languages/vbscript-html.js");case"../../libs/highlight-es/languages/vbscript.js":return import("./libs/highlight-es/languages/vbscript.js");case"../../libs/highlight-es/languages/verilog.js":return import("./libs/highlight-es/languages/verilog.js");case"../../libs/highlight-es/languages/vhdl.js":return import("./libs/highlight-es/languages/vhdl.js");case"../../libs/highlight-es/languages/vim.js":return import("./libs/highlight-es/languages/vim.js");case"../../libs/highlight-es/languages/wasm.js":return import("./libs/highlight-es/languages/wasm.js");case"../../libs/highlight-es/languages/wren.js":return import("./libs/highlight-es/languages/wren.js");case"../../libs/highlight-es/languages/x86asm.js":return import("./libs/highlight-es/languages/x86asm.js");case"../../libs/highlight-es/languages/xl.js":return import("./libs/highlight-es/languages/xl.js");case"../../libs/highlight-es/languages/xml.js":return import("./libs/highlight-es/languages/xml.js");case"../../libs/highlight-es/languages/xquery.js":return import("./libs/highlight-es/languages/xquery.js");case"../../libs/highlight-es/languages/yaml.js":return import("./libs/highlight-es/languages/yaml.js");case"../../libs/highlight-es/languages/zephir.js":return import("./libs/highlight-es/languages/zephir.js");default:return new Promise((function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))}))}}(`../../libs/highlight-es/languages/${s.toLowerCase()}.js`)));await Promise.all(e).then((e=>e.forEach(((e,t)=>{const i=s[t],a=e.default;this._module.registerLanguage(i,a)})))).catch(this.loadErrResolver)}loadCondition(s){return s.size>0}renderItem(s){this._module.highlightElement(s)}async beforeRender(s=new Set){await this.#s(Array.from(s))}async importModule(){g("./dist/libs/highlight-es/github-dark.css");return(await import("./libs/highlight-es/highlight.min.js")).default}};var o=h.render.bind(h);const{katexOptions:c}=n;const u=new class extends s{name="KaTeX";_targetElList=()=>document.querySelectorAll(".math");loadCondition(s){return s}renderErrResolver(e,t){const i=t.textContent;e instanceof this._module.ParseError?t.innerHTML=("Error in LaTeX '"+i+"': "+e.message).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(t.textContent=this.name+" "+s.renderErrMsg,console.error(e))}renderItem(s){const e=s.textContent;this._module.render(e,s,c)}async importModule(){g("./dist/libs/katex/katex.min.css");return(await import("./libs/katex/katex.min.js")).default}};var p=u.render.bind(u);function m(s,e){const t=document.createElement("script");return t.src=s,t.type="text/javascript",document.head.appendChild(t),new Promise(((i,a)=>{t.onload=function(){if(!(e in globalThis)){const s=`Module ${e} does not support this import method.`;console.error(s),a(s)}const s=globalThis[e];globalThis[e]=void 0,i(s)},t.onerror=function(t){console.error(`Error loading dynamically imported module "${e}": ${s}`),a(t)}}))}globalThis.raphael=null;const{flowchartOptions:b}=n;const d=new class extends e{_targetElList=()=>document.querySelectorAll(".flowchart-container");constructor(){super()}renderItem(s,e){this._module.parse(e).drawSVG(s,b)}async importModule(){globalThis.raphael=await m("./dist/libs/flowchart.js/raphael.min.js","raphael");return await m("./dist/libs/flowchart.js/flowchart.min.js","flowchart")}};var j=d.render.bind(d);const f=new class extends e{_targetElList=()=>document.querySelectorAll(".sequencechart-container");constructor(){super()}renderItem(s,e){const t=new this._module(e);s.appendChild(t.dom())}async importModule(){return(await import("./libs/sequence-diagram/sequence-diagram-web.mjs")).SequenceDiagram}};var w=f.render.bind(f);const{language:y,ganttOptions:_}=n;"language"in _||(_.language=y);const v=new class extends e{_targetElList=()=>document.querySelectorAll(".ganttchart-container");renderItem(s,e){new this._module(s,e,_)}async importModule(){g("./dist/libs/frappe-gantt/frappe-gantt.min.css");return(await import("./libs/frappe-gantt/frappe-gantt.min.js")).default}};var T=v.render.bind(v);let L=null;const{railroadOptions:k}=n,x=/[\x00-\x7F]/,C=/['"]([^'"]*[/\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]+[^'"]*)['"]/gu;const E=new class extends e{_targetElList=()=>document.querySelectorAll(".railroad-container");renderItem(s,e=""){const t=L.CHAR_WIDTH,i=C.test(e),a=(e.match(C)||[]).map((s=>s.slice(1,-1))).every((s=>x.test(s))),n=i&&(a?13:14)||L.CHAR_WIDTH;L.CHAR_WIDTH<n&&(L.CHAR_WIDTH=n);const l=this._module.concat(s);new Function("Diagram","ComplexDiagram","Sequence","Stack","OptionalSequence","AlternatingSequence","Choice","HorizontalChoice","MultipleChoice","Optional","OneOrMore","ZeroOrMore","Group","Start","End","Terminal","NonTerminal","Comment","Skip","Block","targetElement",e+".addTo(targetElement)").apply(null,l),L.CHAR_WIDTH=t}async importModule(){g("./dist/libs/railroad-diagrams/railroad.css");const s=await import("./libs/railroad-diagrams/railroad.min.js"),{default:e,Options:t}=s;return Object.assign(t,{VS:k.verticalGap,AR:k.arcRadius,INTERNAL_ALIGNMENT:k.internalAlignment,CHAR_WIDTH:k.charWidth,COMMENT_CHAR_WIDTH:k.commentCharWidth}),L=t,[e.Diagram,e.ComplexDiagram,e.Sequence,e.Stack,e.OptionalSequence,e.AlternatingSequence,e.Choice,e.HorizontalChoice,e.MultipleChoice,e.Optional,e.OneOrMore,e.ZeroOrMore,e.Group,e.Start,e.End,e.Terminal,e.NonTerminal,e.Comment,e.Skip,e.Block]}};var q=E.render.bind(E);const{qrcodeOptions:H}=n;const S=new class extends e{_targetElList=()=>document.querySelectorAll(".qrcode-container");#e=new MutationObserver(this.renderAll.bind(this));renderItem(s){const e=getComputedStyle(document.body),t=e.getPropertyValue("--default-tx-color"),i=e.getPropertyValue("--chart-bg-color"),a=Object.assign({},H),n=s.__QRCodeContent__,l=a.width||256;a.color=t,a.background=i,a.content=n||a.content||(()=>{throw new Error("No QRCode content provided.")})();const r=new this._module(a);s.style.width=l+"px",s.innerHTML=r.svg()}async importModule(){const s=await m("./dist/libs/qrcode-svg/qrcode.min.js","QRCode"),e=document.body;return this.#e.observe(e,{attributes:!0,attributeFilter:["class"]}),s}};var M=S.render.bind(S);const A=new Map([["echarts",t],["flow-chart",j],["sequence-chart",w],["gantt-chart",T],["railroad-chart",q],["qrcode",M]]);async function I(s=new Set){for(const e of s){if(!A.has(e)){console.error("Unknown chart type: "+e);continue}const s=A.get(e);await s()}}function N(s){return Object.entries(s).filter((([s,e])=>void 0!==e||!1!==e)).map((([s,e])=>"boolean"==typeof e?s:`${s}="${function(s){return s instanceof Array?s.join(" ").replaceAll('"',"&quot;"):s.toString().replaceAll('"',"&quot;")}(e)}"`)).join(" ")}function W(s,e){return`<${s}${e?" "+N(e):""}>`}function O(s,e="",t=null){if(null!==e&&"object"==typeof e&&e.constructor===Object&&(t=e,e=""),"document"in globalThis){if("text"===s)return document.createTextNode(e);const i=document.createElement(s);return function(s,e){if(e)for(const[t,i]of Object.entries(e))void 0!==i&&!1!==i&&(i instanceof Function?s[t]=i:i instanceof Array?s.setAttribute(t,i.join(" ")):s.setAttribute(t,i))}(i,t),function(s,e){if(e instanceof Array)for(const t of e)s.appendChild(t);else if(e instanceof HTMLElement)s.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);s.textContent=e}}(i,e),i}switch(e instanceof Array&&(e=e.join("")),s){case"text":return e;case"hr":case"br":return W(s);case"img":case"input":return W(s,t)}return`<${s}${t?" "+N(t):""}>${e}</${s}>`}const P=[/[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu,/[A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]+/g,/\p{Script=Greek}+/gu,/\p{Script=Arabic}+/gu,/\p{Script=Cyrillic}+/gu,/(\-|\+)?\d+(\.\d+)?/g];function R(s=""){if(0===s.length)return[];return P.map((e=>s.match(e)||[])).reduce(((s,e)=>s.concat(e)),[])}function $(s,e,t=!1){if(!s.includes(e))return null;let i="",a=!1;for(;s.length;){const n=s.slice(0,1);if(s=s.substr(1),"\\"!==n||(a=!a,t)){if(n===e&&!a)break;i+=n,a=!1}}return i}const D=new Map([["#","strong"],["`","code"],["_","u"],["/","i"],["-","del"],[":","span.dim"],[",","sub"],["'","sup"],["$","span.math"]]),F=new Map([["[","]"],["{","}"]]);let G=null;if("undefined"==typeof window){const _e=await import("../builder/utils/renderer/index.js");G=s=>_e.render(s,"katex")}class B{constructor(s){this.content=s}count=()=>function(s=""){return 0===s.length?0:R(s).length}(this.content);toHTML=()=>O("text",this.content)}class z{constructor(s,e){const t=D.get(s);if(t.includes(".")){const[s,e]=t.split(".");this.tagName=s,this.className=e}else this.tagName=t;this.content=e,"math"===this.className&&"object"==typeof window&&(globalThis.__ContainsFormula__=!0)}count=()=>Z(this.content);toHTML(){if("math"===this.className&&"undefined"==typeof window){const s=O("img","",{src:"./"+G(this.content)});return O("span",s,{class:"math"})}const s=void 0===this.className?null:{class:this.className};return O(this.tagName,K(this.content),s)}}class U{constructor(s,e){this.content=s,this.address=e}count=()=>0;toHTML(){const s=K(this.content);if(this.address.startsWith("http"))return O("a",s,{href:this.address,target:"_blank"});if(this.address.startsWith("//"))return O("a",s,{href:this.address.slice(2)});return O("a",s,{href:"#"+("static/"+this.address)})}}class Q{constructor(s,e){this.content=s,this.notation=e}count=()=>Z(this.content);toHTML(){const s=O("rp","("),e=O("rp",")"),t=O("rt",this.notation);return O("ruby",K(this.content).concat([s,t,e]),{"data-notation":this.notation})}}function V(s){function e(){const e=s.charAt(0);return s=s.substring(1),e}function t(s){let e;return"["===s?e=U:"{"===s&&(e=Q),e}const i=[];let a="",n="",l="",r=!1,g=!1;for(;s.length;){const h=e();if(D.has(h)){if(r){g?n+="\\"+h:a+=h,r=!1;continue}if(g&&h!=l){n+=h;continue}const t=e();if(t!=h){g?n+=h:a+=h,s=t+s;continue}g?(i.push(new z(h,n)),n="",l=""):(i.push(new B(a)),a="",l=h),g=!g;continue}if(["[","{"].includes(h)&&!g&&!r){const n=h,l=F.get(n);i.push(new B(a)),a="";let r=n;const g=$(s,l,!0);if(null!=g){r+=s.slice(0,g.length+1),s=s.substr(g.length+1);const a=e();if(r+=a,"("===a){const e=$(s,")");if(null!=e){let a=t(n);s=s.substr(e.length+1),i.push(new a(g,e));continue}}}a+=r;continue}if("\\"===h){r=!r;continue}let o;r?(o="\\"+h,r=!1):o=h,g?n+=o:a+=o}return n.length&&i.push(new z(l,n)),a.length&&i.push(new B(a)),i}function Z(s){return V(s).reduce(((s,e)=>s+e.count()),0)}function K(s){const e=V(s).filter((s=>!(s instanceof B&&!s.content.length))).map((s=>s.toHTML()));return"object"!=typeof window&&s===e[0]?(s=>s.replaceAll("<","&lt;").replaceAll(">","&gt;"))(s):e}class X{constructor(s){const e=s.split(" "),t=e[0];let i=0;for(const s of t)"#"===s&&(i+=1);i>6&&(i=0);const a=e.slice(1).join(" ");this.tagName="h"+i,this.content=a}toHTML(){const s=void 0===this.id?null:{id:this.id},e=K(this.content);return O(this.tagName,e,s)}static pattern=s=>/^(#+ )/.test(s)}class Y{tagName="p";constructor(s){this.content=s.trimStart()}toHTML(){const s=K(this.content);return O(this.tagName,s)}}class J{children=[];title="";type=J.NormalTypeEnum;constructor(s){if(!(s[0]instanceof Y&&J.alertPattern(s[0].content)))return void(this.children=s);let e;const t=s[0].content,a=$(t.slice(1),"]");switch(a.toLowerCase()){case"note":case"笔记":this.type=J.NoteTypeEnum,e=i("笔记","Note");break;case"tip":case"提示":this.type=J.TipTypeEnum,e=i("提示","Tip");break;case"important":case"重要":this.type=J.ImportantTypeEnum,e=i("重要","Important");break;case"warning":case"注意":this.type=J.warningTypeEnum,e=i("注意","Warning");break;case"caution":case"警告":this.type=J.CautionTypeEnum,e=i("警告","Caution")}const n=t.slice(a.length+2).trimStart();this.title=n||e,this.children=s.slice(1)}toHTML(){if(this.type===J.NormalTypeEnum){return O("blockquote",this.children.map((s=>s.toHTML())))}const s=O("p",this.title,{class:"alert-title"}),e=this.children.map((s=>s.toHTML()));return O("blockquote",[s].concat(e),{class:["alert",this.type.description]})}static pattern=s=>">"===s||s.startsWith("> ");static alertPattern=s=>/^\[(.*)+\].*/.test(s);static NormalTypeEnum=Symbol("normal");static NoteTypeEnum=Symbol("note");static TipTypeEnum=Symbol("tip");static ImportantTypeEnum=Symbol("important");static warningTypeEnum=Symbol("warning");static CautionTypeEnum=Symbol("caution")}class ss{toHTML=()=>O("hr");static pattern=s=>s.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!s.match(/[a-zA-Z0-9]/)}class es{children=[];constructor(s){this.isOrdered=es.orderedPattern(s),this.tagName=this.isOrdered?"ol":"ul",this.children=[es.getContent(s,this.isOrdered)]}toHTML(){const s=this.children.map((s=>{if("string"==typeof s){return O("li",K(s))}return s.toHTML()}));return O(this.tagName,s)}static orderedPattern=s=>/^([\s\t]*[0-9]+\. )/.test(s);static unorderedPattern=s=>/^([\s\t]*[+-] )/.test(s);static taskListPattern=s=>/^[\s\t]*- \[( |x|\*)\] /.test(s);static isListPattern=s=>es.orderedPattern(s)||es.unorderedPattern(s);static getContent(s,e){if(e)return s.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0];if(this.taskListPattern(s)){const e=s.trimStart();return new ts(e.slice(6),e.slice(0,6))}if(this.unorderedPattern(s))return s.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0];throw new Error("Unexpected list item: "+s)}}class ts{constructor(s,e){this.content=s,this.isChecked="x"===e[3]||"*"===e[3]}count(){return Z(this.content)}toHTML(){const s=O("input","",{type:"checkbox",checked:!!this.isChecked||void 0}),e=O("text",this.content);return O("li",[s,e],{class:"task-list-item"})}}class is{elements=[];push(s){this.elements.push(s)}toHTML(){return O("div",this.elements.map((s=>s.toHTML())),{class:"qa-block"})}}class as{constructor(s){this.content=s.substr(3)}toHTML(){return O("div",K(this.content),{class:"question"})}static pattern=s=>s.startsWith("Q: ")}class ns{constructor(s){this.content=s.substr(3)}toHTML(){return O("div",K(this.content),{class:"answer"})}static pattern=s=>s.startsWith("A: ")}class ls{headerCells=[""];bodyRows=[[""]];constructor(s,e){this.headerCells=s,this.bodyRows=e}#t=s=>O("th",s);#i=s=>O("td",K(s));#a=s=>O("tr",s.map(this.#t));#n=s=>O("tr",s.map(this.#i));toHTML(){const s=O("thead",this.#a(this.headerCells)),e=O("tbody",this.bodyRows.map(this.#n));return O("div",O("table",[s,e]),{class:"table"})}static pattern=s=>s.startsWith("| ")}class rs{source="";description="";constructor(s){s=s.substr(2),this.description=$(s,"]"),s=s.substr(this.description.length+2),this.source=$(s,")")}static containerGenerator(s,e){return O("div",s,{class:["media-container",e??""]})}static patternGenerator(s){return e=>e.startsWith(s+"[")&&e.endsWith(")")}static replaceContentGenerator(s,e){return`${e}<br>${O("a",i("从这里下载！","Download Here!"),{href:s})}`}static srcUrlResolver(s){let e;if(s.startsWith("http")||s.startsWith("data"))e=s;else{e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+s}return e}}class gs extends rs{static pattern=rs.patternGenerator("!");toHTML(){const s=O("img","",{src:rs.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return s.onclick=s=>window.open(s.target.src),s.onerror=s=>{const e=s.target;e.onclick=null,e.title=this.description,e.classList.add("load-error"),e.parentNode.classList.remove("image")},rs.containerGenerator(s,"image")}}class hs extends rs{static pattern=rs.patternGenerator(":");toHTML(){const s=rs.srcUrlResolver(this.source),e=O("audio",rs.replaceContentGenerator(s,this.description),{src:s,controls:!0});return rs.containerGenerator(e)}}class os extends rs{static pattern=rs.patternGenerator("?");toHTML(){const s=rs.srcUrlResolver(this.source),e=O("video",rs.replaceContentGenerator(s,this.description),{src:s,controls:"true"});return rs.containerGenerator(e)}}const cs=s=>rs.patternGenerator("@")(s)||s.startsWith("@@@");class us extends rs{toHTML(){const s=rs.srcUrlResolver(this.source),e=O("iframe",this.description,{src:s,title:this.description,sandbox:"allow-same-origin allow-scripts",loading:"lazy"});return rs.containerGenerator(e,"iframe")}}class ps{constructor(s,e){this.lang=e,this.content=s}toHTML(){const s=["plaintext","text",""].includes(this.lang);let e,t;s||globalThis.__LanguageList__.add(this.lang),s?(t="nohighlight",e="PLAINTEXT"):(t=`language-${this.lang}`,e=this.lang.toUpperCase());const i=O("code",this.content,{class:t,tabindex:0});return O("pre",i,{class:"code-block","data-language":e})}static pattern=s=>s.startsWith("```")}class ms{summary="";content="";constructor(s,e){this.summary=e,this.content=s}toHTML(){const s=O("summary",K(this.summary)),e=O("details",s),t=O("div",O("div",this.content.map((s=>s.toHTML())),{class:"details-children"}),{class:"details-children-container"});return O("div",[e,t],{class:"details"})}static pattern=s=>s.startsWith(">>>")}class bs{content="";description="";constructor(s,e){this.content=s,this.description=e}toHTML(){return globalThis.__ContainsFormula__=!0,O("div",this.content,{class:"math",title:this.description})}static pattern=s=>s.startsWith("$$$")}class ds{static#l=s=>`<style>\nbody{transition: .3s .15s}\nbody.light{color:#333;background:#fff}\nbody.dark{color:#f7f7f7;background:#252525}</style>\n<script>\nconst rootEl = document.documentElement\nfunction postHeight() {\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(rootEl).height)\n    parent.postMessage({\n        height,\n        id: "${s}"\n    }, "*")\n}\nwindow.addEventListener("load", postHeight)\nwindow.addEventListener("message", e => {\nconst { fontSize, theme } = e.data\nif (fontSize) {\n    rootEl.style.fontSize = fontSize\n    postHeight()\n}\nif (theme) {\n    document.body.classList = theme\n}\n})\n<\/script>`;constructor(s,e){globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=e,this.content=s+ds.#l(this.id)}toHTML(){const s=O("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return rs.containerGenerator(s,"iframe")}}class js{constructor(s){const e=new Function("let option;"+s+";return option")();this.chartOptions=e,globalThis.__ChartTypeList__.add("echarts")}toHTML(){const s=O("div","",{class:"echarts-container"});return s.__ChartOptions__=this.chartOptions,s}}class fs{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("flow-chart")}toHTML(){const s=O("div","",{class:"flowchart-container"});return s.__ChartContent__=this.content,s}}class ws{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("sequence-chart")}toHTML(){const s=O("div","",{class:"sequencechart-container"});return s.__ChartContent__=this.content,s}}class ys{constructor(s){this.content=new Function(`const tasks = [${s}]; return tasks`)(),globalThis.__ChartTypeList__.add("gantt-chart")}toHTML(){const s=O("div","",{class:"ganttchart-container"});return s.__ChartContent__=this.content,s}}class _s{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("railroad-chart")}toHTML(){const s=O("div","",{class:"railroad-container"});return s.__ChartContent__=this.content,s}}class vs{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("qrcode")}toHTML(){const s=O("div","",{class:"qrcode-container"});return s.__QRCodeContent__=this.content,s}}class Ts{constructor(s){this.content=s}toHTML(){return O("span",this.content)}}class Ls{static pattern=s=>s.startsWith("!!!");#r=null;constructor(s,e){switch(e){case"":case"echarts":this.#r=new js(s);break;case"flow":case"flowchart":case"flow chart":case"flow-chart":this.#r=new fs(s);break;case"sequence":case"sequencechart":case"sequence char":case"sequence-chart":this.#r=new ws(s);break;case"gantt":case"ganttchart":case"gantt chart":case"gantt-chart":this.#r=new ys(s);break;case"rail":case"railroad":case"railroadchart":case"railroad chart":case"railroad-chart":this.#r=new _s(s);break;case"qrcode":case"qr-code":case"qr code":this.#r=new vs(s);break;default:const t="Unknown chart type: "+e;console.error(t),this.#r=new Ts(t)}}toHTML(){const s=this.#r.toHTML();return rs.containerGenerator(s)}}function ks(s){let e=0,t=0;for(const i of s){if(i.match(/[^\s\t]/))break;"\t"!==i?(" "===i&&(t+=1),2===t&&(t=0,e+=1)):e+=1}return e}function xs(s,e){const t=ks(s),i=new es(s);for(;e.length&&es.isListPattern(e[0]);){const s=e.shift(),a=ks(s),n=es.orderedPattern(s);if(a>t)i.children.push(xs(s,e));else{if(a!==t||n!==i.isOrdered){e.unshift(s);break}i.children.push(es.getContent(s,n))}}return i}function Cs(s,e){let t=s.slice(2)+"\n";for(;e.length;){const s=e.shift();if(!J.pattern(s)){e.unshift(s);break}t+=s.slice(2)+"\n"}const i=Os(t);return new J(i)}function Es(s){return s.split("|").filter((s=>s.length>0)).map((s=>s.trim()))}function qs(s,e){const t=s,i=[];for(;e.length;){const s=e.shift();if(!ls.pattern(s)){e.unshift(s);break}i.push(s)}const a=Es(t),n=i.map(Es);return new ls(a,n)}function Hs(s,e){const t=new is;for(e.unshift(s);e.length;){const s=e[0],i=as.pattern(s),a=ns.pattern(s);if(i)t.push(new as(s));else{if(!a)break;t.push(new ns(s))}e.shift()}return t}function Ss(s,e){return function(t,i){const a=t.slice(3);let n="";for(;i.length;){const e=i.shift();if(e===s)break;n+=e+"\n"}return new e(n,a)}}const Ms=Ss("```",ps),As=Ss("!!!",Ls),Is=Ss("$$$",bs);function Ns(s,e){const t=Ss(">>>",ms)(s,e);return t.content=Os(t.content),t}function Ws(s,e){const t=Ss("@@@",ds);return s.startsWith("@@@")?t(s,e):new us(s)}function Os(s){const e=function(s){return-1!=s.indexOf("\r")?s.split("\r\n"):s.split("\n")}(s),t=[];for(;e.length;){const s=e.shift();s.length&&(X.pattern(s)?t.push(new X(s)):ss.pattern(s)?t.push(new ss):J.pattern(s)?t.push(Cs(s,e)):es.isListPattern(s)?t.push(xs(s,e)):as.pattern(s)||ns.pattern(s)?t.push(Hs(s,e)):ls.pattern(s)?t.push(qs(s,e)):gs.pattern(s)?t.push(new gs(s)):hs.pattern(s)?t.push(new hs(s)):os.pattern(s)?t.push(new os(s)):ms.pattern(s)?t.push(Ns(s,e)):bs.pattern(s)?t.push(Is(s,e)):ps.pattern(s)?t.push(Ms(s,e)):Ls.pattern(s)?t.push(As(s,e)):cs(s)?t.push(Ws(s,e)):t.push(new Y(s)))}return t}function Ps(s){return function(e){"Enter"!==e.key&&" "!==e.key||s.click()}}function Rs(s){window.scroll({top:s,behavior:"smooth"})}function $s(s,e){Rs(s.offsetTop+-e)}function Ds(){Rs(0)}const Fs=()=>document.querySelectorAll("iframe[srcdoc]");function Gs(s){Fs().forEach((e=>e.contentWindow.postMessage({fontSize:s},"*")))}function Bs(){const s=document.body.classList.contains("dark")?"dark":"light";Fs().forEach((e=>e.contentWindow.postMessage({theme:s},"*")))}const zs=i("空文章","Empty Article");function Us(s,e){globalThis.__LanguageList__=new Set,globalThis.__ChartTypeList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;const t=Os(e);if(n.catalog.enable){const s=function(s){return s.filter((s=>s instanceof X)).map(((s,e)=>({id:s.id="headline-"+e,content:K(s.content),level:s.tagName})))}(t);a.emit("article-rendered",s)}let i=t.map((s=>s.toHTML()));i.length||(i=[O("h1",zs)]);const l=document.createDocumentFragment();i.forEach((s=>l.appendChild(s))),s.innerHTML="",s.appendChild(l),async function(){const s=Array.from(Fs()).map((s=>new Promise(((e,t)=>s.onload=e))));await Promise.all(s)}().then(Bs),s.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Ps(s)})),Promise.all([o(globalThis.__LanguageList__),p(globalThis.__ContainsFormula__),I(globalThis.__ChartTypeList__)]).then((()=>{globalThis.__LanguageList__=null,globalThis.__ContainsFormula__=!1,globalThis.__ChartTypeList__=null;const s=sessionStorage.getItem("last-leave-page"),e=sessionStorage.getItem("last-leave-position")||0;sessionStorage.removeItem("last-leave-page"),sessionStorage.removeItem("last-leave-position"),window.scrollY>0||location.hash===s&&Rs(Number.parseInt(e))}))}function Qs(s){const e=new Date(s);return(new Intl.DateTimeFormat).format(e)}function Vs(s){const e=O("span",s.title,{class:"underline-target"}),t=O("code",Qs(s.createTime));return O("li",[e,t],{class:"underline-through","data-jumpto":s.link,tabindex:0})}function Zs(s){const e=O("span",s.name,{class:"underline-target"}),t=O("code",Qs(s.modifyTime));return O("li",[e,t],{class:"underline-through","data-relative":s.name,tabindex:0})}const Ks=document.querySelector("main"),Xs=document.querySelector("article"),Ys=Ks.querySelector("#article-list"),Js=Ks.querySelector("#directory-description"),se=Ks.querySelector("#update-time code"),ee=Ks.querySelector("paging-view");function te(s,e){const{current:t,total:i,updateTime:a}=s;ee.setPage(t,i),Js.innerHTML="","dirDescription"in s&&Us(Js,s.dirDescription),se.textContent=a?Qs(a):"";const n=document.createDocumentFragment();s.content.map(e).forEach((s=>n.appendChild(s))),Ys.innerHTML="",Ys.appendChild(n),Ys.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Ps(s)})),Xs.innerHTML="",Ks.classList.remove("hidden"),Ds()}const ie=document.querySelector("main"),ae=document.querySelector("#newest-header"),ne=document.querySelector("#directory-header"),le=document.querySelector("article"),re="./.index/";async function ge(s){if(!location.hash)return void oe.homepage();const e=location.hash.slice(1);if(ie.classList.add("disabled"),oe.isIn.newestPage()){const s=re+"newest_"+ce.current(),e=await r(s);if(!e)return;ae.classList.remove("hidden"),ne.classList.add("hidden"),te(e,Vs)}else if(oe.isIn.directory()){const s=e.split("/").slice(0,-1),t=re+s.join("+")+"_"+ce.current(),i=await r(t);if(!i)return;ae.classList.add("hidden"),ne.classList.remove("hidden"),te(i,Zs)}else if(oe.isIn.article()){le.innerHTML="";const s=await async function(s){return l&&l.abort(),l=new AbortController,await fetch(s,{signal:l.signal}).then((async s=>{if(200!=s.status)throw s.status;const e=await s.text();return l=null,e})).catch((e=>{if("number"!=typeof e)return console.error(e),null;switch(e){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";case DOMException:console.error(e);break;default:return console.log("Markdown request error: "+s),console.error(e),"# Unexpected request error"}}))}("./"+e);if(!s)return;ie.classList.add("hidden"),Us(le,s)}else oe.homepage();ie.setAttribute("data-is-root","static/"===e),ie.setAttribute("data-is-newest",e.startsWith("newest/")),ie.classList.remove("disabled");const t=s=>new URL(s).hash;s instanceof HashChangeEvent&&oe.isIn.directory(t(s.oldURL))&&oe.isIn.article(t(s.newURL))&&Ds()}window.addEventListener("hashchange",ge),window.addEventListener("load",ge);const he="static/",oe={homepage(){location.hash=he},open(s){location.hash+=s},jumpTo(s){location.hash=s},parent(){if(this.isIn.root()||this.isIn.newestPage())return he;const s=location.hash.slice(1).split("/");if(this.isIn.directory())return s.slice(0,-2).join("/")+"/";if(this.isIn.article())return s.slice(0,-1).join("/")+"/";throw new Error("Unexpected hash: "+location.hash)},isIn:{root:()=>location.hash==="#"+he,newestPage:()=>"#newest/"===location.hash,directory(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith("/")},article(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith(".md")}}};const ce=new class{#g=[1];current=()=>this.#g[this.length()-1];next=()=>this.#g[this.length()-1]+=1;prev=()=>this.#g[this.length()-1]-=1;jumpTo=s=>this.#g[this.length()-1]=Number(s);length=()=>this.#g.length;back(){this.#g.pop(),this.#g.length||this.#g.push(1)}open(){this.#g.push(1)}},ue=s=>O("button",O("span",s,{class:"underline-target"}),{class:"icon-btn underline-side"});class pe extends HTMLElement{#h={};constructor(){super(),this.#h.input=O("input","1",{type:"number",min:1,max:1}),this.#h.maxPage=O("span","1");const s=this.#h.prevBtn=ue(i("上一页","Prev")),e=this.#h.nextBtn=ue(i("下一页","Next"));s.id="prev-btn",s.classList.add("left"),e.id="next-btn",e.classList.add("right");const t=O("label",[this.#h.input,O("text","/"),this.#h.maxPage]);this.#o();for(const i of[s,t,e])this.appendChild(i)}#o(){this.#h.input.addEventListener("keydown",(s=>{if("Enter"!==s.key)return;const e=s.target.value;if(!/^\d+$/.test(e))return void(s.target.value=1);const t=Number(e);t>0&&t<=this.#h.input.max?(ce.jumpTo(t),ge()):s.target.value=1})),this.#h.prevBtn.addEventListener("click",(()=>{ce.current()>0&&(ce.prev(),ge())})),this.#h.nextBtn.addEventListener("click",(()=>{ce.current()<this.#h.input.max&&(ce.next(),ge())}))}setPage(s,e){let t=!1,i=!1,a=!1;1===e?a=!0:(1===s&&(t=!0),s===e&&(i=!0)),this.#h.prevBtn.disabled=a||t,this.#h.nextBtn.disabled=a||i,this.#h.maxPage.textContent=e,this.#h.input.value=s,this.#h.input.max=e,this.classList.toggle("hidden",a)}}customElements.define("paging-view",pe);const me=document.querySelector("main"),be=me.querySelector("#newest"),de=me.querySelector("#previous-dir"),je=me.querySelector("#article-list");if(be.onkeydown=Ps(be),de.onkeydown=Ps(de),de.addEventListener("click",(()=>{ce.back(),oe.jumpTo(oe.parent())})),je.addEventListener("click",(s=>{const e=s.target;if(e===je)return;const t=e.getAttribute("data-relative"),i=e.getAttribute("data-jumpto");t&&(t.endsWith("/")&&ce.open(),oe.open(t)),i&&(ce.open(),oe.jumpTo(i))})),g("dist/chunks/skeleton.min.css"),n.fab.enable&&import("./chunks/fab.min.js"),n.search.enable&&import("./chunks/searchBox.min.js"),n.catalog.enable){function ve(){Le&&a.emit("article-rendered",ke)}let Te=!1,Le=!1,ke=null;import("./chunks/catalog.min.js").then((()=>Te=!0)).then(ve),a.on("article-rendered",(s=>{Te||(Le=!0,ke=s)}))}const fe=document.getElementById("search-btn"),we=document.getElementById("light-btn"),ye=document.getElementById("dark-btn");fe.onclick=()=>a.emit("searchbox-show"),we.onkeydown=Ps(we),ye.onkeydown=Ps(ye),window.addEventListener("popstate",(()=>{location.hash.endsWith("/")&&ce.back()})),window.addEventListener("beforeunload",(s=>{oe.isIn.article()&&(sessionStorage.setItem("last-leave-page",location.hash),sessionStorage.setItem("last-leave-position",window.scrollY))}));new MutationObserver(Bs).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("message",(s=>{if("null"!=s.origin)return;const{id:e,height:t}=s.data;document.getElementById(e).style.height=t+"px"})),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch((function(s){console.error("Registration failed with "+s)}));export{Ds as a,$s as b,O as e,g as i,Ps as k,oe as p,Gs as s,R as t};
//# sourceMappingURL=index.min.js.map
