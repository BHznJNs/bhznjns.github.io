async function t(t){return await fetch(t).then((t=>t.json())).catch((e=>{console.log("JSON request error: "+t),console.error(e)}))}function e(t){return function(e){"Enter"!=e.key&&" "!=e.key||t.click()}}function s(t,e,s=null){if("document"in globalThis){if("text"==t)return document.createTextNode(e);const n=document.createElement(t);return function(t,e){if(e)for(const[s,n]of Object.entries(e))t.setAttribute(s,n)}(n,s),function(t,e){if(e instanceof Array)for(const s of e)t.appendChild(s);else if(e instanceof HTMLElement)t.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);t.textContent=e}}(n,e),n}{function i(t){const e=[];for(const[s,n]of Object.entries(t))e.push(`${s}="${n.toString()}"`);return e.join(" ")}switch(e instanceof Array&&(e=e.join("")),t){case"text":return e;case"hr":return"<hr>";case"img":return`<img ${s?" "+i(s):""}>`}return`<${t}${s?" "+i(s):""}>${e}</${t}>`}}const n=["#","`","_","/","-",":",",","'","$"],i=new Map([["##","strong"],["``","code"],["__","u"],["//","i"],["--","del"],["::","span.dim"],[",,","sub"],["''","sup"],["$$","span.math"]]);class r{constructor(t,e){this.type=t,this.content=e}static key=Symbol("key");static link=Symbol("link");static text=Symbol("text")}class a extends r{constructor(t,e){super(),this.type=r.link,this.content=t,this.address=e}toHTML(){if(this.address.startsWith("http"))return s("a",this.content,{href:this.address,target:"_blank"});const t="static/"+this.address;return s("a",this.content,{href:"#"+t})}}function l(t,e){let s="",n=!1;for(;t.length;){const i=t.slice(0,1);if(t=t.substr(1),"\\"!=i){if(i==e&&!n)break;s+=i,n=!1}else n=!n}return s}function o(t){const e=function(t){let e=[],n="",a="";for(const l of t)switch(l.type){case r.key:if(n.length&&l.content==n){const t=i.get(n);if(t.includes(".")){const[i,r]=t.split(".");"$$"==n&&(globalThis.__ContainsFormula__=!0),e.push(s(i,a,{class:r}))}else e.push(s(t,a));n="",a=""}else n=l.content;break;case r.text:n.length?a=l.content:e.push(s("text",l.content));break;case r.link:e.push(l.toHTML())}return e}(function(t){const e=[];let s="",i="",o=!1;for(;t.length;){const c=t.slice(0,1);if(t=t.substr(1),"["!=c||o)if(n.includes(c)&&!o)i.length&&i==c?(e.push(new r(r.text,s)),e.push(new r(r.key,i+c)),i="",s=""):i=c;else{if("\\"==c){o=!o;continue}i.length&&(s+=i,i=""),o=!1,s+=c}else{e.push(new r(r.text,s)),s="";const n=l(t,"]");let i=(t=t.substr(n.length+1)).slice(0,1);if(t=t.substr(1),"("==i&&!o){const s=l(t,")");t=t.substr(s.length+1),e.push(new a(n,s))}}}return s.length&&e.push(new r(r.text,s)),i.length&&e.push(new r(r.text,i)),e}(t));return e}class c{tagName="";content="";toHTML(){const t=o(this.content);return s(this.tagName,t)}}class h extends c{constructor(t){super();const e=t.split(" "),s=e[0];let n=0;for(const t of s)"#"==t&&(n+=1);n>6&&(n=0),this.tagName="h"+n,this.content=e.slice(1).join(" ")}static pattern=t=>t.match(/^(#+ )/)}class u extends c{tagName="p";constructor(t){super(),this.content=t.trimStart()}}class g extends c{tagName="blockquote";children=[];constructor(t){super(),this.children=t}toHTML(){const t=this.children.map((t=>t.toHTML()));return s(this.tagName,t)}static pattern=t=>t.startsWith("> ")}class m extends c{toHTML=()=>s("hr",[]);static pattern=t=>t.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!t.match(/[a-zA-Z0-9]/)}class p extends c{children=[];constructor(t){super(),this.isOrdered=Boolean(p.orderedPattern(t)),this.tagName=this.isOrdered?"ol":"ul",this.children=[p.getContent(t,this.isOrdered)]}push=t=>this.children.push(t);toHTML(){const t=[];for(const e of this.children)if("string"==typeof e){const n=o(e);t.push(s("li",n))}else t.push(e.toHTML());return s(this.tagName,t)}static unorderedPattern=t=>Boolean(t.match(/^([\s\t]*[+-]+ )/));static orderedPattern=t=>Boolean(t.match(/^([\s\t]*[0-9]+. )/));static isListPattern=t=>p.orderedPattern(t)||p.unorderedPattern(t);static getContent(t,e){return e?t.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0]:t.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0]}}class d extends c{headerCells=[""];bodyRows=[[""]];constructor(t,e){super(),this.headerCells=t,this.bodyRows=e}#t=t=>s("th",t);#e=t=>s("td",o(t));#s=t=>s("tr",t.map(this.#t));#n=t=>s("tr",t.map(this.#e));toHTML(){const t=s("thead",this.#s(this.headerCells)),e=s("tbody",this.bodyRows.map(this.#n));return s("table",[t,e])}static pattern=t=>t.startsWith("| ")}class b extends c{constructor(t,e){super(),this.lang=e,"object"==typeof window?this.content=t:this.content=t.replaceAll("<","&lt;").replaceAll(">","&gt;")}append(t){this.content+=t}toHTML(){"object"==typeof window&&globalThis.__LanguageList__.add(this.lang);const t=s("code",this.content,{class:`language-${this.lang}`,"data-language":this.lang.toUpperCase()});return s("pre",t)}static pattern=t=>t.startsWith("```")}class j extends c{tagName="div";content="";constructor(t){super(),this.content=t,globalThis.__ContainsFormula__=!0}toHTML=()=>s(this.tagName,this.content,{class:"math"});static pattern=t=>t.startsWith("$$$")}class f extends c{source="";description="";constructor(t){super(),t=t.substr(2),this.description=l(t,"]"),t=t.substr(this.description.length+2),this.source=l(t,")")}static containerGenerator(t){return s("div",t,{class:"media-container"})}static patternGenerator(t){return e=>e.startsWith(t+"[")&&e.endsWith(")")}static replaceContentGenerator(t,e){return`${e}<br>${s("a","从这里下载！",{href:t})}<br>${s("a","Download this!",{href:t})}`}static srcUrlResolver(t){let e;if(t.startsWith("http"))e=t;else if("location"in globalThis){e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+t}else{e=globalThis.__ResourcePath__+"/"+t}return e}}class k extends f{static pattern=f.patternGenerator("!");toHTML(){const t=s("img",[],{src:f.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return f.containerGenerator(t)}}class _ extends f{static pattern=f.patternGenerator(":");toHTML(){const t=f.srcUrlResolver(this.source),e=s("audio",f.replaceContentGenerator(t,this.description),{src:t,controls:!0});return f.containerGenerator(e)}}class y extends f{static pattern=f.patternGenerator("?");toHTML(){const t=f.srcUrlResolver(this.source),e=s("video",f.replaceContentGenerator(t,this.description),{src:t,controls:"true"});return f.containerGenerator(e)}}const w=t=>f.patternGenerator("@")(t)||t.startsWith("@@@");class x extends c{tagName="iframe";static#i=t=>`<script>\nwindow.addEventListener("load", (e) => {\n    const iframeRootEl = e.target.documentElement\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(iframeRootEl).height)\n    parent.postMessage({\n        height,\n        id: "${t}"\n    }, "*")\n})\n<\/script>`;constructor(t,e){super(),globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.content=t+x.#i(this.id),this.description=e}toHTML(){const t=s(this.tagName,this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return f.containerGenerator(t)}}class T extends f{toHTML(){const t=f.srcUrlResolver(this.source),e=s("iframe",this.description,{src:t,title:this.description,sandbox:"allow-scripts"});return f.containerGenerator(e)}}function L(t,e){const s=t.slice(3);let n="";for(;e.length;){const t=e.shift();if("```"==t)break;n+=t+"\n"}return new b(n,s)}function C(t){let e=0,s=0;for(const n of t){if(n.match(/[^\s\t]/))break;"\t"!=n?(" "==n&&(s+=1),2==s&&(s=0,e+=1)):e+=1}return e}function v(t,e){const s=C(t),n=new p(t);for(;e.length&&p.isListPattern(e[0]);){const t=e.shift(),i=C(t),r=p.orderedPattern(t);if(i>s)n.push(v(t,e));else{if(i!=s||r!=n.isOrdered){e.unshift(t);break}n.push(p.getContent(t,r))}}return n}function E(t,e){let s=t.slice(2)+"\n";for(;e.length;){const t=e.shift();if(!g.pattern(t)){e.unshift(t);break}s+=t.slice(2)+"\n"}const n=P(s);return new g(n)}function H(t){return t.split("|").filter((t=>t.length>0)).map((t=>t.trim()))}function M(t,e){const s=t,n=[];for(;e.length;){const t=e.shift();if(!d.pattern(t)){e.unshift(t);break}n.push(t)}const i=H(s),r=n.map(H);return new d(i,r)}function $(t,e){let s="";for(;e.length;){const t=e.shift();if("$$$"==t)break;s+=t+"\n"}return new j(s)}function S(t,e){if(!t.startsWith("@@@"))return new T(t);const s=t.slice(3);let n="";for(;e.length;){const t=e.shift();if("@@@"==t)break;n+=t+"\n"}return new x(n,s)}function P(t){const e=function(t){return-1!=t.indexOf("\r")?t.split("\r\n"):t.split("\n")}(t),s=[];for(;e.length;){const t=e.shift();0!=t.length&&(h.pattern(t)?s.push(new h(t)):m.pattern(t)?s.push(new m):g.pattern(t)?s.push(E(t,e)):p.isListPattern(t)?s.push(v(t,e)):b.pattern(t)?s.push(L(t,e)):d.pattern(t)?s.push(M(t,e)):j.pattern(t)?s.push($(0,e)):k.pattern(t)?s.push(new k(t)):_.pattern(t)?s.push(new _(t)):y.pattern(t)?s.push(new y(t)):w(t)?s.push(S(t,e)):s.push(new u(t)))}return s}let q=null,A=null;async function N(){function t(){const t=Array.from(globalThis.__LanguageList__),e=t.filter((t=>!q.getLanguage(t))).map((t=>function(t){switch(t){case"../libs/highlight-es/languages/armasm.js":return import("./chunks/armasm.min.js");case"../libs/highlight-es/languages/asciidoc.js":return import("./chunks/asciidoc.min.js");case"../libs/highlight-es/languages/bash.js":return import("./chunks/bash.min.js");case"../libs/highlight-es/languages/c.js":return import("./chunks/c.min.js");case"../libs/highlight-es/languages/clojure.js":return import("./chunks/clojure.min.js");case"../libs/highlight-es/languages/cmake.js":return import("./chunks/cmake.min.js");case"../libs/highlight-es/languages/cos.js":return import("./chunks/cos.min.js");case"../libs/highlight-es/languages/cpp.js":return import("./chunks/cpp.min.js");case"../libs/highlight-es/languages/csharp.js":return import("./chunks/csharp.min.js");case"../libs/highlight-es/languages/css.js":return import("./chunks/css.min.js");case"../libs/highlight-es/languages/dart.js":return import("./chunks/dart.min.js");case"../libs/highlight-es/languages/django.js":return import("./chunks/django.min.js");case"../libs/highlight-es/languages/dockerfile.js":return import("./chunks/dockerfile.min.js");case"../libs/highlight-es/languages/elixir.js":return import("./chunks/elixir.min.js");case"../libs/highlight-es/languages/erlang.js":return import("./chunks/erlang.min.js");case"../libs/highlight-es/languages/excel.js":return import("./chunks/excel.min.js");case"../libs/highlight-es/languages/go.js":return import("./chunks/go.min.js");case"../libs/highlight-es/languages/gradle.js":return import("./chunks/gradle.min.js");case"../libs/highlight-es/languages/groovy.js":return import("./chunks/groovy.min.js");case"../libs/highlight-es/languages/haml.js":return import("./chunks/haml.min.js");case"../libs/highlight-es/languages/haskell.js":return import("./chunks/haskell.min.js");case"../libs/highlight-es/languages/http.js":return import("./chunks/http.min.js");case"../libs/highlight-es/languages/ini.js":return import("./chunks/ini.min.js");case"../libs/highlight-es/languages/java.js":return import("./chunks/java.min.js");case"../libs/highlight-es/languages/javascript.js":return import("./chunks/javascript.min.js").then((function(t){return t.b}));case"../libs/highlight-es/languages/json.js":return import("./chunks/json.min.js");case"../libs/highlight-es/languages/julia.js":return import("./chunks/julia.min.js");case"../libs/highlight-es/languages/kotlin.js":return import("./chunks/kotlin.min.js");case"../libs/highlight-es/languages/latex.js":return import("./chunks/latex.min.js");case"../libs/highlight-es/languages/less.js":return import("./chunks/less.min.js");case"../libs/highlight-es/languages/lisp.js":return import("./chunks/lisp.min.js");case"../libs/highlight-es/languages/llvm.js":return import("./chunks/llvm.min.js");case"../libs/highlight-es/languages/lua.js":return import("./chunks/lua.min.js");case"../libs/highlight-es/languages/makefile.js":return import("./chunks/makefile.min.js");case"../libs/highlight-es/languages/markdown.js":return import("./chunks/markdown.min.js");case"../libs/highlight-es/languages/mathematica.js":return import("./chunks/mathematica.min.js");case"../libs/highlight-es/languages/matlab.js":return import("./chunks/matlab.min.js");case"../libs/highlight-es/languages/nginx.js":return import("./chunks/nginx.min.js");case"../libs/highlight-es/languages/nim.js":return import("./chunks/nim.min.js");case"../libs/highlight-es/languages/nix.js":return import("./chunks/nix.min.js");case"../libs/highlight-es/languages/objectivec.js":return import("./chunks/objectivec.min.js");case"../libs/highlight-es/languages/ocaml.js":return import("./chunks/ocaml.min.js");case"../libs/highlight-es/languages/perl.js":return import("./chunks/perl.min.js");case"../libs/highlight-es/languages/php.js":return import("./chunks/php.min.js");case"../libs/highlight-es/languages/powershell.js":return import("./chunks/powershell.min.js");case"../libs/highlight-es/languages/python.js":return import("./chunks/python.min.js");case"../libs/highlight-es/languages/ruby.js":return import("./chunks/ruby.min.js");case"../libs/highlight-es/languages/rust.js":return import("./chunks/rust.min.js");case"../libs/highlight-es/languages/scala.js":return import("./chunks/scala.min.js");case"../libs/highlight-es/languages/scss.js":return import("./chunks/scss.min.js");case"../libs/highlight-es/languages/shell.js":return import("./chunks/shell.min.js");case"../libs/highlight-es/languages/sql.js":return import("./chunks/sql.min.js");case"../libs/highlight-es/languages/stata.js":return import("./chunks/stata.min.js");case"../libs/highlight-es/languages/stylus.js":return import("./chunks/stylus.min.js");case"../libs/highlight-es/languages/swift.js":return import("./chunks/swift.min.js");case"../libs/highlight-es/languages/toml.js":return import("./chunks/toml.min.js");case"../libs/highlight-es/languages/typescript.js":return import("./chunks/typescript.min.js");case"../libs/highlight-es/languages/vim.js":return import("./chunks/vim.min.js");case"../libs/highlight-es/languages/wasm.js":return import("./chunks/wasm.min.js");case"../libs/highlight-es/languages/x86asm.js":return import("./chunks/x86asm.min.js");case"../libs/highlight-es/languages/xml.js":return import("./chunks/xml.min.js");case"../libs/highlight-es/languages/xquery.js":return import("./chunks/xquery.min.js");case"../libs/highlight-es/languages/yaml.js":return import("./chunks/yaml.min.js");default:return new Promise((function(e,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`../libs/highlight-es/languages/${t.toLowerCase()}.js`)));Promise.all(e).then((e=>e.forEach(((e,s)=>{const n=t[s],i=e.default;q.registerLanguage(n,i)})))).then((()=>q.highlightAll())).catch((t=>console.error(t)))}0!=globalThis.__LanguageList__.size&&(q?t():await import("./chunks/highlight.min.js").then((t=>q=t.default)).then(t).catch((t=>console.error(t))))}const R=document.querySelector("article"),G=document.querySelector("main"),W=G.querySelector("#previous-dir li"),B=G.querySelector("#article-list");function F(t){globalThis.__LanguageList__=new Set,globalThis.__ContainsFormula__=!1;let n=t.map((t=>t.toHTML()));n.length||(n=s("h1","404 Not Found")),R.innerHTML="",n.forEach((t=>R.appendChild(t))),G.style.display="none",R.style.display="block",R.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=e(t)})),document.body.scrollTop=0,document.documentElement.scrollTop=0,N().then((()=>globalThis.__LanguageList__=null)),async function(){function t(){document.querySelectorAll(".math").forEach((t=>A.render(t.textContent,t)))}if(!globalThis.__ContainsFormula__)return;if(A)return void t();const e=[import("./chunks/katex.min.js"),fetch("dist/katex.min.css")];await Promise.all(e).then((([e,s])=>(A=e.default,t(),s.text()))).then((t=>{const e=document.createElement("style");e.textContent=t,document.head.appendChild(e)})).catch((t=>console.error(t)))}().then((()=>globalThis.__ContainsFormula__=!1))}function O(t,s){const{current:n,total:i}=t;let r=!1,a=!1,l=!1;1==i?l=!0:(1==n&&(r=!0),n==i&&(a=!0)),G.setAttribute("data-is-first-page",r),G.setAttribute("data-is-last-page",a),G.setAttribute("data-is-only-page",l),B.innerHTML="",t.content.map(s).forEach((t=>B.appendChild(t))),B.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=e(t)})),R.style.display="none",G.style.display="block"}R.addEventListener("click",(t=>{const e=t.target;"IMG"==e.tagName&&window.open(e.src)})),W.addEventListener("click",(()=>{const t=location.hash.split("/");globalThis.__CurrentPage__=1,location.hash=t.slice(0,-2).join("/")+"/"})),B.addEventListener("click",(t=>{const e=t.target;e.getAttribute("data-target-blog")?(globalThis.__CurrentPage__=1,location.hash=e.getAttribute("data-target-blog")):(e.innerText.endsWith("/")&&(globalThis.__CurrentPage__=1),location.hash+=e.innerText)})),globalThis.__CurrentPage__=1;const U="./.index/",I=document.querySelector("#light-btn"),z=document.querySelector("#dark-btn"),D=document.querySelector("button#previous"),J=document.querySelector("button#next");I.onkeydown=e(I),z.onkeydown=e(z),D.addEventListener("click",(()=>{globalThis.__CurrentPage__>0&&(globalThis.__CurrentPage__-=1,Q())})),J.addEventListener("click",(()=>{globalThis.__CurrentPage__+=1,Q()}));const Z=document.querySelector("main"),K=document.getElementById("article-list");async function Q(){if(!location.hash)return void(location.hash="static/");const e=location.hash.slice(1);if(K.classList.add("disabled"),"newest/"==e){O(await t(U+"newest_"+globalThis.__CurrentPage__),(t=>{const e=s("code",t.date),n=s("span",t.title);return s("li",[e,s("text",": "),n],{tabindex:0,"data-target-blog":t.link})}))}else if(e.startsWith("static")&&e.endsWith("/")){const n=e.split("/").slice(0,-1),i=U+n.join("+")+"_"+globalThis.__CurrentPage__;O(await t(i),(t=>s("li",s("span",t),{tabindex:0})))}else{if(!e.startsWith("static")||!e.endsWith(".md"))return void(location.hash="static/");{const t=await async function(t){return await fetch(t).then((t=>{if(200!=t.status)throw t.status;return t.body})).then((async t=>{const e=t.getReader(),s=new TextDecoder("utf-8");let n="";const i=t=>t.done?n:(n+=s.decode(t.value,{stream:!0}),e.read().then(i)),r=await e.read();return i(r)})).catch((e=>{switch(e){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";default:console.log("Markdown request error: "+t),console.error(e)}}))}("./"+e);globalThis.__IframeCounter__=0;F(P(t))}}Z.setAttribute("data-is-root","static/"==e),K.classList.remove("disabled")}window.onload=Q,window.addEventListener("hashchange",Q),window.addEventListener("message",(t=>{if("null"!=t.origin)return;const{id:e,height:s}=t.data;document.getElementById(e).style.height=s+"px"}),!1);
//# sourceMappingURL=./sourcemaps/index.map
