import{D as s,C as e,e as t,l as i,d as a,a as n}from"./chunks/echarts.min.js";import l from"../user/build.config.js";let r=null;async function g(s){return r&&r.abort(),r=new AbortController,await fetch(s,{signal:r.signal}).then((async s=>{const e=await s.json();return r=null,e})).catch((e=>(console.log("JSON request error: "+s),console.error(e),null)))}function h(s){return new Promise(((e,t)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=s,document.head.appendChild(i),i.onload=e,i.onerror=t}))}const o=new class extends s{name="Highlight.js";_targetElList=()=>document.querySelectorAll("pre.code-block code");async#s(s=[]){const e=s.filter((s=>!this._module.getLanguage(s))).map((s=>function(s){switch(s){case"../../libs/highlight-es/languages/1c.js":return import("./libs/highlight-es/languages/1c.js");case"../../libs/highlight-es/languages/abnf.js":return import("./libs/highlight-es/languages/abnf.js");case"../../libs/highlight-es/languages/accesslog.js":return import("./libs/highlight-es/languages/accesslog.js");case"../../libs/highlight-es/languages/actionscript.js":return import("./libs/highlight-es/languages/actionscript.js");case"../../libs/highlight-es/languages/ada.js":return import("./libs/highlight-es/languages/ada.js");case"../../libs/highlight-es/languages/angelscript.js":return import("./libs/highlight-es/languages/angelscript.js");case"../../libs/highlight-es/languages/apache.js":return import("./libs/highlight-es/languages/apache.js");case"../../libs/highlight-es/languages/applescript.js":return import("./libs/highlight-es/languages/applescript.js");case"../../libs/highlight-es/languages/arcade.js":return import("./libs/highlight-es/languages/arcade.js");case"../../libs/highlight-es/languages/arduino.js":return import("./libs/highlight-es/languages/arduino.js");case"../../libs/highlight-es/languages/armasm.js":return import("./libs/highlight-es/languages/armasm.js");case"../../libs/highlight-es/languages/asciidoc.js":return import("./libs/highlight-es/languages/asciidoc.js");case"../../libs/highlight-es/languages/aspectj.js":return import("./libs/highlight-es/languages/aspectj.js");case"../../libs/highlight-es/languages/autohotkey.js":return import("./libs/highlight-es/languages/autohotkey.js");case"../../libs/highlight-es/languages/autoit.js":return import("./libs/highlight-es/languages/autoit.js");case"../../libs/highlight-es/languages/avrasm.js":return import("./libs/highlight-es/languages/avrasm.js");case"../../libs/highlight-es/languages/awk.js":return import("./libs/highlight-es/languages/awk.js");case"../../libs/highlight-es/languages/axapta.js":return import("./libs/highlight-es/languages/axapta.js");case"../../libs/highlight-es/languages/bash.js":return import("./libs/highlight-es/languages/bash.js");case"../../libs/highlight-es/languages/basic.js":return import("./libs/highlight-es/languages/basic.js");case"../../libs/highlight-es/languages/bnf.js":return import("./libs/highlight-es/languages/bnf.js");case"../../libs/highlight-es/languages/brainfuck.js":return import("./libs/highlight-es/languages/brainfuck.js");case"../../libs/highlight-es/languages/c.js":return import("./libs/highlight-es/languages/c.js");case"../../libs/highlight-es/languages/cal.js":return import("./libs/highlight-es/languages/cal.js");case"../../libs/highlight-es/languages/capnproto.js":return import("./libs/highlight-es/languages/capnproto.js");case"../../libs/highlight-es/languages/ceylon.js":return import("./libs/highlight-es/languages/ceylon.js");case"../../libs/highlight-es/languages/clean.js":return import("./libs/highlight-es/languages/clean.js");case"../../libs/highlight-es/languages/clojure-repl.js":return import("./libs/highlight-es/languages/clojure-repl.js");case"../../libs/highlight-es/languages/clojure.js":return import("./libs/highlight-es/languages/clojure.js");case"../../libs/highlight-es/languages/cmake.js":return import("./libs/highlight-es/languages/cmake.js");case"../../libs/highlight-es/languages/coffeescript.js":return import("./libs/highlight-es/languages/coffeescript.js");case"../../libs/highlight-es/languages/coq.js":return import("./libs/highlight-es/languages/coq.js");case"../../libs/highlight-es/languages/cos.js":return import("./libs/highlight-es/languages/cos.js");case"../../libs/highlight-es/languages/cpp.js":return import("./libs/highlight-es/languages/cpp.js");case"../../libs/highlight-es/languages/crmsh.js":return import("./libs/highlight-es/languages/crmsh.js");case"../../libs/highlight-es/languages/crystal.js":return import("./libs/highlight-es/languages/crystal.js");case"../../libs/highlight-es/languages/csharp.js":return import("./libs/highlight-es/languages/csharp.js");case"../../libs/highlight-es/languages/csp.js":return import("./libs/highlight-es/languages/csp.js");case"../../libs/highlight-es/languages/css.js":return import("./libs/highlight-es/languages/css.js");case"../../libs/highlight-es/languages/d.js":return import("./libs/highlight-es/languages/d.js");case"../../libs/highlight-es/languages/dart.js":return import("./libs/highlight-es/languages/dart.js");case"../../libs/highlight-es/languages/delphi.js":return import("./libs/highlight-es/languages/delphi.js");case"../../libs/highlight-es/languages/diff.js":return import("./libs/highlight-es/languages/diff.js");case"../../libs/highlight-es/languages/django.js":return import("./libs/highlight-es/languages/django.js");case"../../libs/highlight-es/languages/dns.js":return import("./libs/highlight-es/languages/dns.js");case"../../libs/highlight-es/languages/dockerfile.js":return import("./libs/highlight-es/languages/dockerfile.js");case"../../libs/highlight-es/languages/dos.js":return import("./libs/highlight-es/languages/dos.js");case"../../libs/highlight-es/languages/dsconfig.js":return import("./libs/highlight-es/languages/dsconfig.js");case"../../libs/highlight-es/languages/dts.js":return import("./libs/highlight-es/languages/dts.js");case"../../libs/highlight-es/languages/dust.js":return import("./libs/highlight-es/languages/dust.js");case"../../libs/highlight-es/languages/ebnf.js":return import("./libs/highlight-es/languages/ebnf.js");case"../../libs/highlight-es/languages/elixir.js":return import("./libs/highlight-es/languages/elixir.js");case"../../libs/highlight-es/languages/elm.js":return import("./libs/highlight-es/languages/elm.js");case"../../libs/highlight-es/languages/erb.js":return import("./libs/highlight-es/languages/erb.js");case"../../libs/highlight-es/languages/erlang-repl.js":return import("./libs/highlight-es/languages/erlang-repl.js");case"../../libs/highlight-es/languages/erlang.js":return import("./libs/highlight-es/languages/erlang.js");case"../../libs/highlight-es/languages/excel.js":return import("./libs/highlight-es/languages/excel.js");case"../../libs/highlight-es/languages/fix.js":return import("./libs/highlight-es/languages/fix.js");case"../../libs/highlight-es/languages/flix.js":return import("./libs/highlight-es/languages/flix.js");case"../../libs/highlight-es/languages/fortran.js":return import("./libs/highlight-es/languages/fortran.js");case"../../libs/highlight-es/languages/fsharp.js":return import("./libs/highlight-es/languages/fsharp.js");case"../../libs/highlight-es/languages/gams.js":return import("./libs/highlight-es/languages/gams.js");case"../../libs/highlight-es/languages/gauss.js":return import("./libs/highlight-es/languages/gauss.js");case"../../libs/highlight-es/languages/gcode.js":return import("./libs/highlight-es/languages/gcode.js");case"../../libs/highlight-es/languages/gherkin.js":return import("./libs/highlight-es/languages/gherkin.js");case"../../libs/highlight-es/languages/glsl.js":return import("./libs/highlight-es/languages/glsl.js");case"../../libs/highlight-es/languages/gml.js":return import("./libs/highlight-es/languages/gml.js");case"../../libs/highlight-es/languages/go.js":return import("./libs/highlight-es/languages/go.js");case"../../libs/highlight-es/languages/golo.js":return import("./libs/highlight-es/languages/golo.js");case"../../libs/highlight-es/languages/gradle.js":return import("./libs/highlight-es/languages/gradle.js");case"../../libs/highlight-es/languages/graphql.js":return import("./libs/highlight-es/languages/graphql.js");case"../../libs/highlight-es/languages/groovy.js":return import("./libs/highlight-es/languages/groovy.js");case"../../libs/highlight-es/languages/haml.js":return import("./libs/highlight-es/languages/haml.js");case"../../libs/highlight-es/languages/handlebars.js":return import("./libs/highlight-es/languages/handlebars.js");case"../../libs/highlight-es/languages/haskell.js":return import("./libs/highlight-es/languages/haskell.js");case"../../libs/highlight-es/languages/haxe.js":return import("./libs/highlight-es/languages/haxe.js");case"../../libs/highlight-es/languages/hsp.js":return import("./libs/highlight-es/languages/hsp.js");case"../../libs/highlight-es/languages/http.js":return import("./libs/highlight-es/languages/http.js");case"../../libs/highlight-es/languages/hy.js":return import("./libs/highlight-es/languages/hy.js");case"../../libs/highlight-es/languages/inform7.js":return import("./libs/highlight-es/languages/inform7.js");case"../../libs/highlight-es/languages/ini.js":return import("./libs/highlight-es/languages/ini.js");case"../../libs/highlight-es/languages/irpf90.js":return import("./libs/highlight-es/languages/irpf90.js");case"../../libs/highlight-es/languages/isbl.js":return import("./libs/highlight-es/languages/isbl.js");case"../../libs/highlight-es/languages/java.js":return import("./libs/highlight-es/languages/java.js");case"../../libs/highlight-es/languages/javascript.js":return import("./libs/highlight-es/languages/javascript.js");case"../../libs/highlight-es/languages/jboss-cli.js":return import("./libs/highlight-es/languages/jboss-cli.js");case"../../libs/highlight-es/languages/json.js":return import("./libs/highlight-es/languages/json.js");case"../../libs/highlight-es/languages/julia-repl.js":return import("./libs/highlight-es/languages/julia-repl.js");case"../../libs/highlight-es/languages/julia.js":return import("./libs/highlight-es/languages/julia.js");case"../../libs/highlight-es/languages/kotlin.js":return import("./libs/highlight-es/languages/kotlin.js");case"../../libs/highlight-es/languages/lasso.js":return import("./libs/highlight-es/languages/lasso.js");case"../../libs/highlight-es/languages/latex.js":return import("./libs/highlight-es/languages/latex.js");case"../../libs/highlight-es/languages/ldif.js":return import("./libs/highlight-es/languages/ldif.js");case"../../libs/highlight-es/languages/leaf.js":return import("./libs/highlight-es/languages/leaf.js");case"../../libs/highlight-es/languages/less.js":return import("./libs/highlight-es/languages/less.js");case"../../libs/highlight-es/languages/lisp.js":return import("./libs/highlight-es/languages/lisp.js");case"../../libs/highlight-es/languages/livecodeserver.js":return import("./libs/highlight-es/languages/livecodeserver.js");case"../../libs/highlight-es/languages/livescript.js":return import("./libs/highlight-es/languages/livescript.js");case"../../libs/highlight-es/languages/llvm.js":return import("./libs/highlight-es/languages/llvm.js");case"../../libs/highlight-es/languages/lsl.js":return import("./libs/highlight-es/languages/lsl.js");case"../../libs/highlight-es/languages/lua.js":return import("./libs/highlight-es/languages/lua.js");case"../../libs/highlight-es/languages/makefile.js":return import("./libs/highlight-es/languages/makefile.js");case"../../libs/highlight-es/languages/markdown.js":return import("./libs/highlight-es/languages/markdown.js");case"../../libs/highlight-es/languages/mathematica.js":return import("./libs/highlight-es/languages/mathematica.js");case"../../libs/highlight-es/languages/matlab.js":return import("./libs/highlight-es/languages/matlab.js");case"../../libs/highlight-es/languages/maxima.js":return import("./libs/highlight-es/languages/maxima.js");case"../../libs/highlight-es/languages/mel.js":return import("./libs/highlight-es/languages/mel.js");case"../../libs/highlight-es/languages/mercury.js":return import("./libs/highlight-es/languages/mercury.js");case"../../libs/highlight-es/languages/mipsasm.js":return import("./libs/highlight-es/languages/mipsasm.js");case"../../libs/highlight-es/languages/mizar.js":return import("./libs/highlight-es/languages/mizar.js");case"../../libs/highlight-es/languages/mojolicious.js":return import("./libs/highlight-es/languages/mojolicious.js");case"../../libs/highlight-es/languages/monkey.js":return import("./libs/highlight-es/languages/monkey.js");case"../../libs/highlight-es/languages/moonscript.js":return import("./libs/highlight-es/languages/moonscript.js");case"../../libs/highlight-es/languages/n1ql.js":return import("./libs/highlight-es/languages/n1ql.js");case"../../libs/highlight-es/languages/nestedtext.js":return import("./libs/highlight-es/languages/nestedtext.js");case"../../libs/highlight-es/languages/nginx.js":return import("./libs/highlight-es/languages/nginx.js");case"../../libs/highlight-es/languages/nim.js":return import("./libs/highlight-es/languages/nim.js");case"../../libs/highlight-es/languages/nix.js":return import("./libs/highlight-es/languages/nix.js");case"../../libs/highlight-es/languages/node-repl.js":return import("./libs/highlight-es/languages/node-repl.js");case"../../libs/highlight-es/languages/nsis.js":return import("./libs/highlight-es/languages/nsis.js");case"../../libs/highlight-es/languages/objectivec.js":return import("./libs/highlight-es/languages/objectivec.js");case"../../libs/highlight-es/languages/ocaml.js":return import("./libs/highlight-es/languages/ocaml.js");case"../../libs/highlight-es/languages/openscad.js":return import("./libs/highlight-es/languages/openscad.js");case"../../libs/highlight-es/languages/oxygene.js":return import("./libs/highlight-es/languages/oxygene.js");case"../../libs/highlight-es/languages/parser3.js":return import("./libs/highlight-es/languages/parser3.js");case"../../libs/highlight-es/languages/perl.js":return import("./libs/highlight-es/languages/perl.js");case"../../libs/highlight-es/languages/pf.js":return import("./libs/highlight-es/languages/pf.js");case"../../libs/highlight-es/languages/pgsql.js":return import("./libs/highlight-es/languages/pgsql.js");case"../../libs/highlight-es/languages/php-template.js":return import("./libs/highlight-es/languages/php-template.js");case"../../libs/highlight-es/languages/php.js":return import("./libs/highlight-es/languages/php.js");case"../../libs/highlight-es/languages/plaintext.js":return import("./libs/highlight-es/languages/plaintext.js");case"../../libs/highlight-es/languages/pony.js":return import("./libs/highlight-es/languages/pony.js");case"../../libs/highlight-es/languages/powershell.js":return import("./libs/highlight-es/languages/powershell.js");case"../../libs/highlight-es/languages/processing.js":return import("./libs/highlight-es/languages/processing.js");case"../../libs/highlight-es/languages/profile.js":return import("./libs/highlight-es/languages/profile.js");case"../../libs/highlight-es/languages/prolog.js":return import("./libs/highlight-es/languages/prolog.js");case"../../libs/highlight-es/languages/properties.js":return import("./libs/highlight-es/languages/properties.js");case"../../libs/highlight-es/languages/protobuf.js":return import("./libs/highlight-es/languages/protobuf.js");case"../../libs/highlight-es/languages/puppet.js":return import("./libs/highlight-es/languages/puppet.js");case"../../libs/highlight-es/languages/purebasic.js":return import("./libs/highlight-es/languages/purebasic.js");case"../../libs/highlight-es/languages/python-repl.js":return import("./libs/highlight-es/languages/python-repl.js");case"../../libs/highlight-es/languages/python.js":return import("./libs/highlight-es/languages/python.js");case"../../libs/highlight-es/languages/q.js":return import("./libs/highlight-es/languages/q.js");case"../../libs/highlight-es/languages/qml.js":return import("./libs/highlight-es/languages/qml.js");case"../../libs/highlight-es/languages/r.js":return import("./libs/highlight-es/languages/r.js");case"../../libs/highlight-es/languages/reasonml.js":return import("./libs/highlight-es/languages/reasonml.js");case"../../libs/highlight-es/languages/rib.js":return import("./libs/highlight-es/languages/rib.js");case"../../libs/highlight-es/languages/roboconf.js":return import("./libs/highlight-es/languages/roboconf.js");case"../../libs/highlight-es/languages/routeros.js":return import("./libs/highlight-es/languages/routeros.js");case"../../libs/highlight-es/languages/rsl.js":return import("./libs/highlight-es/languages/rsl.js");case"../../libs/highlight-es/languages/ruby.js":return import("./libs/highlight-es/languages/ruby.js");case"../../libs/highlight-es/languages/ruleslanguage.js":return import("./libs/highlight-es/languages/ruleslanguage.js");case"../../libs/highlight-es/languages/rust.js":return import("./libs/highlight-es/languages/rust.js");case"../../libs/highlight-es/languages/sas.js":return import("./libs/highlight-es/languages/sas.js");case"../../libs/highlight-es/languages/scala.js":return import("./libs/highlight-es/languages/scala.js");case"../../libs/highlight-es/languages/scheme.js":return import("./libs/highlight-es/languages/scheme.js");case"../../libs/highlight-es/languages/scilab.js":return import("./libs/highlight-es/languages/scilab.js");case"../../libs/highlight-es/languages/scss.js":return import("./libs/highlight-es/languages/scss.js");case"../../libs/highlight-es/languages/shell.js":return import("./libs/highlight-es/languages/shell.js");case"../../libs/highlight-es/languages/smali.js":return import("./libs/highlight-es/languages/smali.js");case"../../libs/highlight-es/languages/smalltalk.js":return import("./libs/highlight-es/languages/smalltalk.js");case"../../libs/highlight-es/languages/sml.js":return import("./libs/highlight-es/languages/sml.js");case"../../libs/highlight-es/languages/sqf.js":return import("./libs/highlight-es/languages/sqf.js");case"../../libs/highlight-es/languages/sql.js":return import("./libs/highlight-es/languages/sql.js");case"../../libs/highlight-es/languages/stan.js":return import("./libs/highlight-es/languages/stan.js");case"../../libs/highlight-es/languages/stata.js":return import("./libs/highlight-es/languages/stata.js");case"../../libs/highlight-es/languages/step21.js":return import("./libs/highlight-es/languages/step21.js");case"../../libs/highlight-es/languages/stylus.js":return import("./libs/highlight-es/languages/stylus.js");case"../../libs/highlight-es/languages/subunit.js":return import("./libs/highlight-es/languages/subunit.js");case"../../libs/highlight-es/languages/swift.js":return import("./libs/highlight-es/languages/swift.js");case"../../libs/highlight-es/languages/taggerscript.js":return import("./libs/highlight-es/languages/taggerscript.js");case"../../libs/highlight-es/languages/tap.js":return import("./libs/highlight-es/languages/tap.js");case"../../libs/highlight-es/languages/tcl.js":return import("./libs/highlight-es/languages/tcl.js");case"../../libs/highlight-es/languages/thrift.js":return import("./libs/highlight-es/languages/thrift.js");case"../../libs/highlight-es/languages/toml.js":return import("./libs/highlight-es/languages/toml.js");case"../../libs/highlight-es/languages/tp.js":return import("./libs/highlight-es/languages/tp.js");case"../../libs/highlight-es/languages/twig.js":return import("./libs/highlight-es/languages/twig.js");case"../../libs/highlight-es/languages/typescript.js":return import("./libs/highlight-es/languages/typescript.js");case"../../libs/highlight-es/languages/vala.js":return import("./libs/highlight-es/languages/vala.js");case"../../libs/highlight-es/languages/vbnet.js":return import("./libs/highlight-es/languages/vbnet.js");case"../../libs/highlight-es/languages/vbscript-html.js":return import("./libs/highlight-es/languages/vbscript-html.js");case"../../libs/highlight-es/languages/vbscript.js":return import("./libs/highlight-es/languages/vbscript.js");case"../../libs/highlight-es/languages/verilog.js":return import("./libs/highlight-es/languages/verilog.js");case"../../libs/highlight-es/languages/vhdl.js":return import("./libs/highlight-es/languages/vhdl.js");case"../../libs/highlight-es/languages/vim.js":return import("./libs/highlight-es/languages/vim.js");case"../../libs/highlight-es/languages/wasm.js":return import("./libs/highlight-es/languages/wasm.js");case"../../libs/highlight-es/languages/wren.js":return import("./libs/highlight-es/languages/wren.js");case"../../libs/highlight-es/languages/x86asm.js":return import("./libs/highlight-es/languages/x86asm.js");case"../../libs/highlight-es/languages/xl.js":return import("./libs/highlight-es/languages/xl.js");case"../../libs/highlight-es/languages/xml.js":return import("./libs/highlight-es/languages/xml.js");case"../../libs/highlight-es/languages/xquery.js":return import("./libs/highlight-es/languages/xquery.js");case"../../libs/highlight-es/languages/yaml.js":return import("./libs/highlight-es/languages/yaml.js");case"../../libs/highlight-es/languages/zephir.js":return import("./libs/highlight-es/languages/zephir.js");default:return new Promise((function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))}))}}(`../../libs/highlight-es/languages/${s.toLowerCase()}.js`)));await Promise.all(e).then((e=>e.forEach(((e,t)=>{const i=s[t],a=e.default;this._module.registerLanguage(i,a)})))).catch(this.loadErrResolver)}loadCondition(s){return s.size>0}renderItem(s){this._module.highlightElement(s)}async beforeRender(s=new Set){await this.#s(Array.from(s))}async importModule(){h("./dist/libs/highlight-es/github-dark.css");return(await import("./libs/highlight-es/highlight.min.js")).default}};var c=o.render.bind(o);const{katexOptions:u}=l;const p=new class extends s{name="KaTeX";_targetElList=()=>document.querySelectorAll(".math");loadCondition(s){return s}renderErrResolver(e,t){const i=t.textContent;e instanceof this._module.ParseError?t.innerHTML=("Error in LaTeX '"+i+"': "+e.message).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(t.textContent=this.name+" "+s.renderErrMsg,console.error(e))}renderItem(s){const e=s.textContent;this._module.render(e,s,u)}async importModule(){h("./dist/libs/katex/katex.min.css");return(await import("./libs/katex/katex.min.js")).default}};var m=p.render.bind(p);function b(s,e){const t=document.createElement("script");return t.src=s,t.type="text/javascript",document.head.appendChild(t),new Promise(((i,a)=>{t.onload=function(){if(!(e in globalThis)){const s=`Module ${e} does not support this import method.`;console.error(s),a(s)}const s=globalThis[e];globalThis[e]=void 0,i(s)},t.onerror=function(t){console.error(`Error loading dynamically imported module "${e}": ${s}`),a(t)}}))}globalThis.raphael=null;const{flowchartOptions:d}=l;const j=new class extends e{_targetElList=()=>document.querySelectorAll(".flowchart-container");constructor(){super()}renderItem(s,e){this._module.parse(e).drawSVG(s,d)}async importModule(){globalThis.raphael=await b("./dist/libs/flowchart.js/raphael.min.js","raphael");return await b("./dist/libs/flowchart.js/flowchart.min.js","flowchart")}};var f=j.render.bind(j);const w=new class extends e{_targetElList=()=>document.querySelectorAll(".sequencechart-container");constructor(){super()}renderItem(s,e){const t=new this._module(e);s.appendChild(t.dom())}async importModule(){return(await import("./libs/sequence-diagram/sequence-diagram-web.mjs")).SequenceDiagram}};var y=w.render.bind(w);const{language:_,ganttOptions:v}=l;"language"in v||(v.language=_);const T=new class extends e{_targetElList=()=>document.querySelectorAll(".ganttchart-container");renderItem(s,e){new this._module(s,e,v)}async importModule(){h("./dist/libs/frappe-gantt/frappe-gantt.min.css");return(await import("./libs/frappe-gantt/frappe-gantt.min.js")).default}};var L=T.render.bind(T);let k=null;const{railroadOptions:x}=l,C=/[\x00-\x7F]/,E=/['"]([^'"]*[/\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]+[^'"]*)['"]/gu;const S=new class extends e{_targetElList=()=>document.querySelectorAll(".railroad-container");renderItem(s,e=""){const t=k.CHAR_WIDTH,i=E.test(e),a=(e.match(E)||[]).map((s=>s.slice(1,-1))).every((s=>C.test(s))),n=i&&(a?13:14)||k.CHAR_WIDTH;k.CHAR_WIDTH<n&&(k.CHAR_WIDTH=n);const l=this._module.concat(s);new Function("Diagram","ComplexDiagram","Sequence","Stack","OptionalSequence","AlternatingSequence","Choice","HorizontalChoice","MultipleChoice","Optional","OneOrMore","ZeroOrMore","Group","Start","End","Terminal","NonTerminal","Comment","Skip","Block","targetElement",e+".addTo(targetElement)").apply(null,l),k.CHAR_WIDTH=t}async importModule(){h("./dist/libs/railroad-diagrams/railroad.css");const s=await import("./libs/railroad-diagrams/railroad.min.js"),{default:e,Options:t}=s;return Object.assign(t,{VS:x.verticalGap,AR:x.arcRadius,INTERNAL_ALIGNMENT:x.internalAlignment,CHAR_WIDTH:x.charWidth,COMMENT_CHAR_WIDTH:x.commentCharWidth}),k=t,[e.Diagram,e.ComplexDiagram,e.Sequence,e.Stack,e.OptionalSequence,e.AlternatingSequence,e.Choice,e.HorizontalChoice,e.MultipleChoice,e.Optional,e.OneOrMore,e.ZeroOrMore,e.Group,e.Start,e.End,e.Terminal,e.NonTerminal,e.Comment,e.Skip,e.Block]}};var q=S.render.bind(S);const{qrcodeOptions:H}=l;const M=new class extends e{_targetElList=()=>document.querySelectorAll(".qrcode-container");#e=new MutationObserver(this.renderAll.bind(this));renderItem(s){const e=getComputedStyle(document.body),t=e.getPropertyValue("--default-tx-color"),i=e.getPropertyValue("--chart-bg-color"),a=Object.assign({},H),n=s.__QRCodeContent__,l=a.width||256;a.color=t,a.background=i,a.content=n||a.content||(()=>{throw new Error("No QRCode content provided.")})();const r=new this._module(a);s.style.width=l+"px",s.innerHTML=r.svg()}async importModule(){const s=await b("./dist/libs/qrcode-svg/qrcode.min.js","QRCode"),e=document.body;return this.#e.observe(e,{attributes:!0,attributeFilter:["class"]}),s}};var A=M.render.bind(M);const I=new Map([["echarts",t],["flow-chart",f],["sequence-chart",y],["gantt-chart",L],["railroad-chart",q],["qrcode",A]]);async function W(s=new Set){for(const e of s){if(!I.has(e)){console.error("Unknown chart type: "+e);continue}const s=I.get(e);await s()}}const N=()=>document.querySelectorAll("iframe[srcdoc]");function O(s){N().forEach((e=>e.contentWindow.postMessage({fontSize:s},"*")))}function P(){const s=document.body.classList.contains("dark")?"dark":"light";N().forEach((e=>e.contentWindow.postMessage({theme:s},"*")))}function R(s){return Object.entries(s).filter((([s,e])=>void 0!==e||!1!==e)).map((([s,e])=>"boolean"==typeof e?s:`${s}="${function(s){return s instanceof Array?s.join(" ").replaceAll('"',"&quot;"):s.toString().replaceAll('"',"&quot;")}(e)}"`)).join(" ")}function $(s,e){return`<${s}${e?" "+R(e):""}>`}function D(s,e="",t=null){if(null!==e&&"object"==typeof e&&e.constructor===Object&&(t=e,e=""),"document"in globalThis){if("text"===s)return document.createTextNode(e);const i=document.createElement(s);return function(s,e){if(e)for(const[t,i]of Object.entries(e))void 0!==i&&!1!==i&&(i instanceof Function?s[t]=i:i instanceof Array?s.setAttribute(t,i.join(" ")):s.setAttribute(t,i))}(i,t),function(s,e){if(e instanceof Array)for(const t of e)s.appendChild(t);else if(e instanceof HTMLElement)s.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);s.textContent=e}}(i,e),i}switch(e instanceof Array&&(e=e.join("")),s){case"text":return e;case"hr":case"br":return $(s);case"img":case"input":return $(s,t)}return`<${s}${t?" "+R(t):""}>${e}</${s}>`}const F=[/[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu,/[A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]+/g,/\p{Script=Greek}+/gu,/\p{Script=Arabic}+/gu,/\p{Script=Cyrillic}+/gu,/(\-|\+)?\d+(\.\d+)?/g];function G(s=""){if(0===s.length)return[];return F.map((e=>s.match(e)||[])).reduce(((s,e)=>s.concat(e)),[])}function B(s,e,t=!1){if(!s.includes(e))return null;let i="",a=!1;for(;s.length;){const n=s.slice(0,1);if(s=s.substr(1),"\\"!==n||(a=!a,t)){if(n===e&&!a)break;i+=n,a=!1}}return i}const z=new Map([["#","strong"],["`","code"],["_","u"],["/","i"],["-","del"],[":","span.dim"],[",","sub"],["'","sup"],["$","span.math"]]),U=new Map([["[","]"],["{","}"]]);let Q=null;if("undefined"==typeof window){const Le=await import("../builder/utils/renderer/index.js");Q=s=>Le.render(s,"katex")}class V{constructor(s){this.content=s}count=()=>function(s=""){return 0===s.length?0:G(s).length}(this.content);toHTML=()=>D("text",this.content)}class Z{constructor(s,e){const t=z.get(s);if(t.includes(".")){const[s,e]=t.split(".");this.tagName=s,this.className=e}else this.tagName=t;this.content=e,"math"===this.className&&"object"==typeof window&&(globalThis.__ContainsFormula__=!0)}count=()=>J(this.content);toHTML(){if("math"===this.className&&"undefined"==typeof window){const s=D("img","",{src:"./"+Q(this.content)});return D("span",s,{class:"math"})}const s=void 0===this.className?null:{class:this.className};return D(this.tagName,ss(this.content),s)}}class K{constructor(s,e){this.content=s,this.address=e}count=()=>0;toHTML(){const s=ss(this.content);if(this.address.startsWith("http"))return D("a",s,{href:this.address,target:"_blank"});if(this.address.startsWith("//"))return D("a",s,{href:this.address.slice(2)});return D("a",s,{href:"#"+("static/"+this.address)})}}class X{constructor(s,e){this.content=s,this.notation=e}count=()=>J(this.content);toHTML(){const s=D("rp","("),e=D("rp",")"),t=D("rt",this.notation);return D("ruby",ss(this.content).concat([s,t,e]),{"data-notation":this.notation})}}function Y(s){function e(){const e=s.charAt(0);return s=s.substring(1),e}function t(s){let e;return"["===s?e=K:"{"===s&&(e=X),e}const i=[];let a="",n="",l="",r=!1,g=!1;for(;s.length;){const h=e();if(z.has(h)){if(r){g?n+="\\"+h:a+=h,r=!1;continue}if(g&&h!=l){n+=h;continue}const t=e();if(t!=h){g?n+=h:a+=h,s=t+s;continue}g?(i.push(new Z(h,n)),n="",l=""):(i.push(new V(a)),a="",l=h),g=!g;continue}if(["[","{"].includes(h)&&!g&&!r){const n=h,l=U.get(n);i.push(new V(a)),a="";let r=n;const g=B(s,l,!0);if(null!=g){r+=s.slice(0,g.length+1),s=s.substr(g.length+1);const a=e();if(r+=a,"("===a){const e=B(s,")");if(null!=e){let a=t(n);s=s.substr(e.length+1),i.push(new a(g,e));continue}}}a+=r;continue}if("\\"===h){r=!r;continue}let o;r?(o="\\"+h,r=!1):o=h,g?n+=o:a+=o}return n.length&&i.push(new Z(l,n)),a.length&&i.push(new V(a)),i}function J(s){return Y(s).reduce(((s,e)=>s+e.count()),0)}function ss(s){const e=Y(s).filter((s=>!(s instanceof V&&!s.content.length))).map((s=>s.toHTML()));return"object"!=typeof window&&s===e[0]?(s=>s.replaceAll("<","&lt;").replaceAll(">","&gt;"))(s):e}class es{constructor(s){const e=s.split(" "),t=e[0];let i=0;for(const s of t)"#"===s&&(i+=1);i>6&&(i=0);const a=e.slice(1).join(" ");this.tagName="h"+i,this.content=a}toHTML(){const s=void 0===this.id?null:{id:this.id},e=ss(this.content);return D(this.tagName,e,s)}static pattern=s=>/^(#+ )/.test(s)}class ts{tagName="p";constructor(s){this.content=s.trimStart()}toHTML(){const s=ss(this.content);return D(this.tagName,s)}}class is{children=[];title="";type=is.NormalTypeEnum;constructor(s){if(!(s[0]instanceof ts&&is.alertPattern(s[0].content)))return void(this.children=s);let e;const t=s[0].content,a=B(t.slice(1),"]");switch(a.toLowerCase()){case"note":case"笔记":this.type=is.NoteTypeEnum,e=i("笔记","Note");break;case"tip":case"提示":this.type=is.TipTypeEnum,e=i("提示","Tip");break;case"important":case"重要":this.type=is.ImportantTypeEnum,e=i("重要","Important");break;case"warning":case"注意":this.type=is.warningTypeEnum,e=i("注意","Warning");break;case"caution":case"警告":this.type=is.CautionTypeEnum,e=i("警告","Caution")}const n=t.slice(a.length+2).trimStart();this.title=n||e,this.children=s.slice(1)}toHTML(){if(this.type===is.NormalTypeEnum){return D("blockquote",this.children.map((s=>s.toHTML())))}const s=D("p",this.title,{class:"alert-title"}),e=this.children.map((s=>s.toHTML()));return D("blockquote",[s].concat(e),{class:["alert",this.type.description]})}static pattern=s=>">"===s||s.startsWith("> ");static alertPattern=s=>/^\[(.*)+\].*/.test(s);static NormalTypeEnum=Symbol("normal");static NoteTypeEnum=Symbol("note");static TipTypeEnum=Symbol("tip");static ImportantTypeEnum=Symbol("important");static warningTypeEnum=Symbol("warning");static CautionTypeEnum=Symbol("caution")}class as{toHTML=()=>D("hr");static pattern=s=>s.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!s.match(/[a-zA-Z0-9]/)}class ns{children=[];constructor(s){this.isOrdered=ns.orderedPattern(s),this.tagName=this.isOrdered?"ol":"ul",this.children=[ns.getContent(s,this.isOrdered)]}toHTML(){const s=this.children.map((s=>{if("string"==typeof s){return D("li",ss(s))}return s.toHTML()}));return D(this.tagName,s)}static orderedPattern=s=>/^([\s\t]*[0-9]+\. )/.test(s);static unorderedPattern=s=>/^([\s\t]*[+-] )/.test(s);static taskListPattern=s=>/^[\s\t]*- \[( |x|\*)\] /.test(s);static isListPattern=s=>ns.orderedPattern(s)||ns.unorderedPattern(s);static getContent(s,e){if(e)return s.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0];if(this.taskListPattern(s)){const e=s.trimStart();return new ls(e.slice(6),e.slice(0,6))}if(this.unorderedPattern(s))return s.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0];throw new Error("Unexpected list item: "+s)}}class ls{constructor(s,e){this.content=s,this.isChecked="x"===e[3]||"*"===e[3]}count(){return J(this.content)}toHTML(){const s=D("input","",{type:"checkbox",checked:!!this.isChecked||void 0}),e=D("text",this.content);return D("li",[s,e],{class:"task-list-item"})}}class rs{elements=[];push(s){this.elements.push(s)}toHTML(){return D("div",this.elements.map((s=>s.toHTML())),{class:"qa-block"})}}class gs{constructor(s){this.content=s.substr(3)}toHTML(){return D("div",ss(this.content),{class:"question"})}static pattern=s=>s.startsWith("Q: ")}class hs{constructor(s){this.content=s.substr(3)}toHTML(){return D("div",ss(this.content),{class:"answer"})}static pattern=s=>s.startsWith("A: ")}class os{headerCells=[""];bodyRows=[[""]];constructor(s,e){this.headerCells=s,this.bodyRows=e}#t=s=>D("th",s);#i=s=>D("td",ss(s));#a=s=>D("tr",s.map(this.#t));#n=s=>D("tr",s.map(this.#i));toHTML(){const s=D("thead",this.#a(this.headerCells)),e=D("tbody",this.bodyRows.map(this.#n));return D("div",D("table",[s,e]),{class:"table"})}static pattern=s=>s.startsWith("| ")}class cs{source="";description="";constructor(s){s=s.substr(2),this.description=B(s,"]"),s=s.substr(this.description.length+2),this.source=B(s,")")}static containerGenerator(s,e){return D("div",s,{class:["media-container",e??""]})}static patternGenerator(s){return e=>e.startsWith(s+"[")&&e.endsWith(")")}static replaceContentGenerator(s,e){return`${e}<br>${D("a",i("从这里下载！","Download Here!"),{href:s})}`}static srcUrlResolver(s){let e;if(s.startsWith("http")||s.startsWith("data"))e=s;else{e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+s}return e}}class us extends cs{static pattern=cs.patternGenerator("!");toHTML(){const s=D("img","",{src:cs.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return s.onclick=s=>window.open(s.target.src),s.onerror=s=>{const e=s.target;e.onclick=null,e.title=this.description,e.classList.add("load-error"),e.parentNode.classList.remove("image")},cs.containerGenerator(s,"image")}}class ps extends cs{static pattern=cs.patternGenerator(":");toHTML(){const s=cs.srcUrlResolver(this.source),e=D("audio",cs.replaceContentGenerator(s,this.description),{src:s,controls:!0});return cs.containerGenerator(e)}}class ms extends cs{static pattern=cs.patternGenerator("?");toHTML(){const s=cs.srcUrlResolver(this.source),e=D("video",cs.replaceContentGenerator(s,this.description),{src:s,controls:"true"});return cs.containerGenerator(e)}}const bs=s=>cs.patternGenerator("@")(s)||s.startsWith("@@@");class ds extends cs{toHTML(){const s=cs.srcUrlResolver(this.source),e=D("iframe",this.description,{src:s,title:this.description,sandbox:"allow-same-origin allow-scripts",loading:"lazy"});return cs.containerGenerator(e,"iframe")}}class js{constructor(s,e){this.lang=e,this.content=s}toHTML(){const s=["plaintext","text",""].includes(this.lang);let e,t;s||globalThis.__LanguageList__.add(this.lang),s?(t="nohighlight",e="PLAINTEXT"):(t=`language-${this.lang}`,e=this.lang.toUpperCase());const i=D("code",this.content,{class:t,tabindex:0});return D("pre",i,{class:"code-block","data-language":e})}static pattern=s=>s.startsWith("```")}class fs{summary="";content="";constructor(s,e){this.summary=e,this.content=s}toHTML(){const s=D("summary",ss(this.summary)),e=D("details",s),t=D("div",D("div",this.content.map((s=>s.toHTML())),{class:"details-children"}),{class:"details-children-container"});return D("div",[e,t],{class:"details"})}static pattern=s=>s.startsWith(">>>")}class ws{content="";description="";constructor(s,e){this.content=s,this.description=e}toHTML(){return globalThis.__ContainsFormula__=!0,D("div",this.content,{class:"math",title:this.description})}static pattern=s=>s.startsWith("$$$")}class ys{static#l=s=>`<style>\nbody{transition: .3s .15s}\nbody.light{color:#333;background:#fff}\nbody.dark{color:#f7f7f7;background:#252525}</style>\n<script>\nconst rootEl = document.documentElement\nfunction postHeight() {\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(rootEl).height)\n    parent.postMessage({\n        height,\n        id: "${s}"\n    }, "*")\n}\nwindow.addEventListener("load", postHeight)\nwindow.addEventListener("message", e => {\nconst { fontSize, theme } = e.data\nif (fontSize) {\n    rootEl.style.fontSize = fontSize\n    postHeight()\n}\nif (theme) {\n    document.body.classList = theme\n}\n})\n<\/script>`;constructor(s,e){globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=e,this.content=s+ys.#l(this.id)}toHTML(){const s=D("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return cs.containerGenerator(s,"iframe")}}class _s{constructor(s){const e=new Function("let option;"+s+";return option")();this.chartOptions=e,globalThis.__ChartTypeList__.add("echarts")}toHTML(){const s=D("div","",{class:"echarts-container"});return s.__ChartOptions__=this.chartOptions,s}}class vs{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("flow-chart")}toHTML(){const s=D("div","",{class:"flowchart-container"});return s.__ChartContent__=this.content,s}}class Ts{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("sequence-chart")}toHTML(){const s=D("div","",{class:"sequencechart-container"});return s.__ChartContent__=this.content,s}}class Ls{constructor(s){this.content=new Function(`const tasks = [${s}]; return tasks`)(),globalThis.__ChartTypeList__.add("gantt-chart")}toHTML(){const s=D("div","",{class:"ganttchart-container"});return s.__ChartContent__=this.content,s}}class ks{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("railroad-chart")}toHTML(){const s=D("div","",{class:"railroad-container"});return s.__ChartContent__=this.content,s}}class xs{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("qrcode")}toHTML(){const s=D("div","",{class:"qrcode-container"});return s.__QRCodeContent__=this.content,s}}class Cs{constructor(s){this.content=s}toHTML(){return D("span",this.content)}}class Es{static pattern=s=>s.startsWith("!!!");#r=null;constructor(s,e){switch(e){case"":case"echarts":this.#r=new _s(s);break;case"flow":case"flowchart":case"flow chart":case"flow-chart":this.#r=new vs(s);break;case"sequence":case"sequencechart":case"sequence char":case"sequence-chart":this.#r=new Ts(s);break;case"gantt":case"ganttchart":case"gantt chart":case"gantt-chart":this.#r=new Ls(s);break;case"rail":case"railroad":case"railroadchart":case"railroad chart":case"railroad-chart":this.#r=new ks(s);break;case"qrcode":case"qr-code":case"qr code":this.#r=new xs(s);break;default:const t="Unknown chart type: "+e;console.error(t),this.#r=new Cs(t)}}toHTML(){const s=this.#r.toHTML();return cs.containerGenerator(s)}}function Ss(s){let e=0,t=0;for(const i of s){if(i.match(/[^\s\t]/))break;"\t"!==i?(" "===i&&(t+=1),2===t&&(t=0,e+=1)):e+=1}return e}function qs(s,e){const t=Ss(s),i=new ns(s);for(;e.length&&ns.isListPattern(e[0]);){const s=e.shift(),a=Ss(s),n=ns.orderedPattern(s);if(a>t)i.children.push(qs(s,e));else{if(a!==t||n!==i.isOrdered){e.unshift(s);break}i.children.push(ns.getContent(s,n))}}return i}function Hs(s,e){let t=s.slice(2)+"\n";for(;e.length;){const s=e.shift();if(!is.pattern(s)){e.unshift(s);break}t+=s.slice(2)+"\n"}const i=Ds(t);return new is(i)}function Ms(s){return s.split("|").filter((s=>s.length>0)).map((s=>s.trim()))}function As(s,e){const t=s,i=[];for(;e.length;){const s=e.shift();if(!os.pattern(s)){e.unshift(s);break}i.push(s)}const a=Ms(t),n=i.map(Ms);return new os(a,n)}function Is(s,e){const t=new rs;for(e.unshift(s);e.length;){const s=e[0],i=gs.pattern(s),a=hs.pattern(s);if(i)t.push(new gs(s));else{if(!a)break;t.push(new hs(s))}e.shift()}return t}function Ws(s,e){return function(t,i){const a=t.slice(3);let n="";for(;i.length;){const e=i.shift();if(e===s)break;n+=e+"\n"}return new e(n,a)}}const Ns=Ws("```",js),Os=Ws("!!!",Es),Ps=Ws("$$$",ws);function Rs(s,e){const t=Ws(">>>",fs)(s,e);return t.content=Ds(t.content),t}function $s(s,e){const t=Ws("@@@",ys);return s.startsWith("@@@")?t(s,e):new ds(s)}function Ds(s){const e=function(s){return-1!=s.indexOf("\r")?s.split("\r\n"):s.split("\n")}(s),t=[];for(;e.length;){const s=e.shift();s.length&&(es.pattern(s)?t.push(new es(s)):as.pattern(s)?t.push(new as):is.pattern(s)?t.push(Hs(s,e)):ns.isListPattern(s)?t.push(qs(s,e)):gs.pattern(s)||hs.pattern(s)?t.push(Is(s,e)):os.pattern(s)?t.push(As(s,e)):us.pattern(s)?t.push(new us(s)):ps.pattern(s)?t.push(new ps(s)):ms.pattern(s)?t.push(new ms(s)):fs.pattern(s)?t.push(Rs(s,e)):ws.pattern(s)?t.push(Ps(s,e)):js.pattern(s)?t.push(Ns(s,e)):Es.pattern(s)?t.push(Os(s,e)):bs(s)?t.push($s(s,e)):t.push(new ts(s)))}return t}function Fs(s){return function(e){"Enter"!==e.key&&" "!==e.key||s.click()}}const Gs=()=>window.scrollY||document.documentElement.scrollTop;function Bs(s){window.scroll({top:s,behavior:"smooth"})}function zs(s,e){Bs(s.offsetTop+-e)}function Us(){Bs(0)}const Qs=i("空文章","Empty Article");function Vs(s,e){globalThis.__LanguageList__=new Set,globalThis.__ChartTypeList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;const t=Ds(e);if(l.catalog.enable){const s=function(s){return s.filter((s=>s instanceof es)).map(((s,e)=>({id:s.id="headline-"+e,content:ss(s.content),level:s.tagName})))}(t);n.emit("article-rendered",s)}let i=t.map((s=>s.toHTML()));i.length||(i=[D("h1",Qs)]);const r=document.createDocumentFragment();i.forEach((s=>r.appendChild(s))),s.innerHTML="",s.appendChild(r),async function(){const s=Array.from(N()).map((s=>new Promise(((e,t)=>s.onload=e))));await Promise.all(s)}().then(P),s.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Fs(s)})),Promise.all([c(globalThis.__LanguageList__),m(globalThis.__ContainsFormula__),W(globalThis.__ChartTypeList__)]).then((()=>{globalThis.__LanguageList__=null,globalThis.__ContainsFormula__=!1,globalThis.__ChartTypeList__=null;const s=sessionStorage.getItem("last-leave-page"),e=sessionStorage.getItem("last-leave-position")||0;if(sessionStorage.removeItem("last-leave-page"),sessionStorage.removeItem("last-leave-position"),Gs()>0)return;if(location.hash!==s)return;const t=Number.parseInt(e);!function(s,e){const t=a((function(){e()?window.removeEventListener("scroll",t):s()}),30);window.addEventListener("scroll",t),s()}((()=>Bs(t)),(()=>t-Gs()<100))}))}function Zs(s){const e=new Date(s);return(new Intl.DateTimeFormat).format(e)}function Ks(s){const e=D("span",s.title,{class:"underline-target"}),t=D("code",Zs(s.createTime));return D("li",[e,t],{class:"underline-through","data-jumpto":s.link,tabindex:0})}function Xs(s){const e=D("span",s.name,{class:"underline-target"}),t=D("code",Zs(s.modifyTime));return D("li",[e,t],{class:"underline-through","data-relative":s.name,tabindex:0})}const Ys=document.querySelector("main"),Js=document.querySelector("article"),se=Ys.querySelector("#article-list"),ee=Ys.querySelector("#directory-description"),te=Ys.querySelector("#update-time code"),ie=Ys.querySelector("paging-view");function ae(s,e){const{current:t,total:i,updateTime:a}=s;ie.setPage(t,i),ee.innerHTML="","dirDescription"in s&&Vs(ee,s.dirDescription),te.textContent=a?Zs(a):"";const n=document.createDocumentFragment();s.content.map(e).forEach((s=>n.appendChild(s))),se.innerHTML="",se.appendChild(n),se.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Fs(s)})),Js.innerHTML="",Ys.classList.remove("hidden"),Us()}function ne(s,e){return new Promise(((t,i)=>{const a=document.createElement("link");a.rel="prefetch",a.href=s,a.as=e,document.head.appendChild(a),a.onload=t,a.onerror=i}))}const le=document.querySelector("main"),re=document.querySelector("#newest-header"),ge=document.querySelector("#directory-header"),he=document.querySelector("article");function oe(s=location.hash.slice(1)){return"./.index/"+s.split("/").slice(0,-1).join("+")+"_"+me.current()}async function ce(s){if(!location.hash)return void pe.homepage();const e=location.hash.slice(1);if(le.classList.add("disabled"),pe.isIn.newestPage()){const s=await g(oe());if(!s)return;re.classList.remove("hidden"),ge.classList.add("hidden"),ae(s,Ks)}else if(pe.isIn.directory()){const s=await g(oe());if(!s)return;re.classList.add("hidden"),ge.classList.remove("hidden"),async function(s){const e=location.hash.slice(1),t=[];for(const i of s){if(t.length>=40)break;if(!i.name.endsWith("/"))continue;const s=oe(e+i.name);t.push(ne(s,"fetch"))}await Promise.all(t)}(s.content),ae(s,Xs)}else if(pe.isIn.article()){he.innerHTML="";const s=await async function(s){return r&&r.abort(),r=new AbortController,await fetch(s,{signal:r.signal}).then((async s=>{if(200!=s.status)throw s.status;const e=await s.text();return r=null,e})).catch((e=>{if("number"!=typeof e)return console.error(e),null;switch(e){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";case DOMException:console.error(e);break;default:return console.log("Markdown request error: "+s),console.error(e),"# Unexpected request error"}}))}("./"+e);if(!s)return;le.classList.add("hidden"),Vs(he,s)}else pe.homepage();le.setAttribute("data-is-root","static/"===e),le.setAttribute("data-is-newest",e.startsWith("newest/")),le.classList.remove("disabled");const t=s=>new URL(s).hash;s instanceof HashChangeEvent&&pe.isIn.directory(t(s.oldURL))&&pe.isIn.article(t(s.newURL))&&Us()}window.addEventListener("hashchange",ce),window.addEventListener("load",ce);const ue="static/",pe={homepage(){location.hash=ue},open(s){location.hash+=s},jumpTo(s){location.hash=s},parent(){if(this.isIn.root()||this.isIn.newestPage())return ue;const s=location.hash.slice(1).split("/");if(this.isIn.directory())return s.slice(0,-2).join("/")+"/";if(this.isIn.article())return s.slice(0,-1).join("/")+"/";throw new Error("Unexpected hash: "+location.hash)},isIn:{root:()=>location.hash==="#"+ue,newestPage:()=>"#newest/"===location.hash,directory(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith("/")},article(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith(".md")}}};const me=new class{#g=[1];current=()=>this.#g[this.length()-1];next=()=>this.#g[this.length()-1]+=1;prev=()=>this.#g[this.length()-1]-=1;jumpTo=s=>this.#g[this.length()-1]=Number(s);length=()=>this.#g.length;back(){this.#g.pop(),this.#g.length||this.#g.push(1)}open(){this.#g.push(1)}},be=s=>D("button",D("span",s,{class:"underline-target"}),{class:"icon-btn underline-side"});class de extends HTMLElement{#h={};constructor(){super(),this.#h.input=D("input","1",{type:"number",min:1,max:1}),this.#h.maxPage=D("span","1");const s=this.#h.prevBtn=be(i("上一页","Prev")),e=this.#h.nextBtn=be(i("下一页","Next"));s.id="prev-btn",s.classList.add("left"),e.id="next-btn",e.classList.add("right");const t=D("label",[this.#h.input,D("text","/"),this.#h.maxPage]);this.#o();for(const i of[s,t,e])this.appendChild(i)}#o(){this.#h.input.addEventListener("keydown",(s=>{if("Enter"!==s.key)return;const e=s.target.value;if(!/^\d+$/.test(e))return void(s.target.value=1);const t=Number(e);t>0&&t<=this.#h.input.max?(me.jumpTo(t),ce()):s.target.value=1})),this.#h.prevBtn.addEventListener("click",(()=>{me.current()>0&&(me.prev(),ce())})),this.#h.nextBtn.addEventListener("click",(()=>{me.current()<this.#h.input.max&&(me.next(),ce())}))}setPage(s,e){let t=!1,i=!1,a=!1;1===e?a=!0:(1===s&&(t=!0),s===e&&(i=!0)),this.#h.prevBtn.disabled=a||t,this.#h.nextBtn.disabled=a||i,this.#h.maxPage.textContent=e,this.#h.input.value=s,this.#h.input.max=e,this.classList.toggle("hidden",a)}}customElements.define("paging-view",de);const je=document.querySelector("main"),fe=je.querySelector("#newest"),we=je.querySelector("#previous-dir"),ye=je.querySelector("#article-list");if(fe.onkeydown=Fs(fe),we.onkeydown=Fs(we),we.addEventListener("click",(()=>{me.back(),pe.jumpTo(pe.parent())})),ye.addEventListener("click",(s=>{const e=s.target;if(e===ye)return;const t=e.getAttribute("data-relative"),i=e.getAttribute("data-jumpto");t&&(t.endsWith("/")&&me.open(),pe.open(t)),i&&(me.open(),pe.jumpTo(i))})),h("dist/chunks/skeleton.min.css"),l.fab.enable&&import("./chunks/fab.min.js"),l.search.enable&&import("./chunks/searchBox.min.js"),l.catalog.enable){function ke(){Ce&&n.emit("article-rendered",Ee)}let xe=!1,Ce=!1,Ee=null;import("./chunks/catalog.min.js").then((()=>xe=!0)).then(ke),n.on("article-rendered",(s=>{xe||(Ce=!0,Ee=s)}))}const _e=document.getElementById("search-btn"),ve=document.getElementById("light-btn"),Te=document.getElementById("dark-btn");_e.onclick=()=>n.emit("searchbox-show"),ve.onkeydown=Fs(ve),Te.onkeydown=Fs(Te),window.addEventListener("popstate",(()=>{location.hash.endsWith("/")&&me.back()})),window.addEventListener("beforeunload",(s=>{pe.isIn.article()&&(sessionStorage.setItem("last-leave-page",location.hash),sessionStorage.setItem("last-leave-position",window.scrollY))}));new MutationObserver(P).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("message",(s=>{if("null"!=s.origin)return;const{id:e,height:t}=s.data;document.getElementById(e).style.height=t+"px"})),async function(){if(!("WebSocket"in window))return;const s="ws://"+location.host;new WebSocket(s).addEventListener("message",(s=>{"refresh"===s.data&&location.reload()}))}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch((function(s){console.error("Registration failed with "+s)}));export{Us as a,zs as b,D as e,h as i,Fs as k,pe as p,O as s,G as t};
//# sourceMappingURL=index.min.js.map
