import{D as e,C as s,e as t,l as i,d as a,a as n}from"./chunks/echarts.min.js";import l from"../user/build.config.js";let r=null;async function g(e){return r&&r.abort(),r=new AbortController,await fetch(e,{signal:r.signal}).then((async e=>{const s=await e.json();return r=null,s})).catch((s=>(console.log("JSON request error: "+e),console.error(s),null)))}function h(e){return new Promise(((s,t)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=e,document.head.appendChild(i),i.onload=s,i.onerror=t}))}const o=new class extends e{name="Highlight.js";_targetElList=()=>document.querySelectorAll("pre.code-block code");async#e(e=[]){const s=e.filter((e=>!this._module.getLanguage(e))).map((e=>function(e){switch(e){case"../../libs/highlight-es/languages/1c.js":return import("./libs/highlight-es/languages/1c.js");case"../../libs/highlight-es/languages/abnf.js":return import("./libs/highlight-es/languages/abnf.js");case"../../libs/highlight-es/languages/accesslog.js":return import("./libs/highlight-es/languages/accesslog.js");case"../../libs/highlight-es/languages/actionscript.js":return import("./libs/highlight-es/languages/actionscript.js");case"../../libs/highlight-es/languages/ada.js":return import("./libs/highlight-es/languages/ada.js");case"../../libs/highlight-es/languages/angelscript.js":return import("./libs/highlight-es/languages/angelscript.js");case"../../libs/highlight-es/languages/apache.js":return import("./libs/highlight-es/languages/apache.js");case"../../libs/highlight-es/languages/applescript.js":return import("./libs/highlight-es/languages/applescript.js");case"../../libs/highlight-es/languages/arcade.js":return import("./libs/highlight-es/languages/arcade.js");case"../../libs/highlight-es/languages/arduino.js":return import("./libs/highlight-es/languages/arduino.js");case"../../libs/highlight-es/languages/armasm.js":return import("./libs/highlight-es/languages/armasm.js");case"../../libs/highlight-es/languages/asciidoc.js":return import("./libs/highlight-es/languages/asciidoc.js");case"../../libs/highlight-es/languages/aspectj.js":return import("./libs/highlight-es/languages/aspectj.js");case"../../libs/highlight-es/languages/autohotkey.js":return import("./libs/highlight-es/languages/autohotkey.js");case"../../libs/highlight-es/languages/autoit.js":return import("./libs/highlight-es/languages/autoit.js");case"../../libs/highlight-es/languages/avrasm.js":return import("./libs/highlight-es/languages/avrasm.js");case"../../libs/highlight-es/languages/awk.js":return import("./libs/highlight-es/languages/awk.js");case"../../libs/highlight-es/languages/axapta.js":return import("./libs/highlight-es/languages/axapta.js");case"../../libs/highlight-es/languages/bash.js":return import("./libs/highlight-es/languages/bash.js");case"../../libs/highlight-es/languages/basic.js":return import("./libs/highlight-es/languages/basic.js");case"../../libs/highlight-es/languages/bnf.js":return import("./libs/highlight-es/languages/bnf.js");case"../../libs/highlight-es/languages/brainfuck.js":return import("./libs/highlight-es/languages/brainfuck.js");case"../../libs/highlight-es/languages/c.js":return import("./libs/highlight-es/languages/c.js");case"../../libs/highlight-es/languages/cal.js":return import("./libs/highlight-es/languages/cal.js");case"../../libs/highlight-es/languages/capnproto.js":return import("./libs/highlight-es/languages/capnproto.js");case"../../libs/highlight-es/languages/ceylon.js":return import("./libs/highlight-es/languages/ceylon.js");case"../../libs/highlight-es/languages/clean.js":return import("./libs/highlight-es/languages/clean.js");case"../../libs/highlight-es/languages/clojure-repl.js":return import("./libs/highlight-es/languages/clojure-repl.js");case"../../libs/highlight-es/languages/clojure.js":return import("./libs/highlight-es/languages/clojure.js");case"../../libs/highlight-es/languages/cmake.js":return import("./libs/highlight-es/languages/cmake.js");case"../../libs/highlight-es/languages/coffeescript.js":return import("./libs/highlight-es/languages/coffeescript.js");case"../../libs/highlight-es/languages/coq.js":return import("./libs/highlight-es/languages/coq.js");case"../../libs/highlight-es/languages/cos.js":return import("./libs/highlight-es/languages/cos.js");case"../../libs/highlight-es/languages/cpp.js":return import("./libs/highlight-es/languages/cpp.js");case"../../libs/highlight-es/languages/crmsh.js":return import("./libs/highlight-es/languages/crmsh.js");case"../../libs/highlight-es/languages/crystal.js":return import("./libs/highlight-es/languages/crystal.js");case"../../libs/highlight-es/languages/csharp.js":return import("./libs/highlight-es/languages/csharp.js");case"../../libs/highlight-es/languages/csp.js":return import("./libs/highlight-es/languages/csp.js");case"../../libs/highlight-es/languages/css.js":return import("./libs/highlight-es/languages/css.js");case"../../libs/highlight-es/languages/d.js":return import("./libs/highlight-es/languages/d.js");case"../../libs/highlight-es/languages/dart.js":return import("./libs/highlight-es/languages/dart.js");case"../../libs/highlight-es/languages/delphi.js":return import("./libs/highlight-es/languages/delphi.js");case"../../libs/highlight-es/languages/diff.js":return import("./libs/highlight-es/languages/diff.js");case"../../libs/highlight-es/languages/django.js":return import("./libs/highlight-es/languages/django.js");case"../../libs/highlight-es/languages/dns.js":return import("./libs/highlight-es/languages/dns.js");case"../../libs/highlight-es/languages/dockerfile.js":return import("./libs/highlight-es/languages/dockerfile.js");case"../../libs/highlight-es/languages/dos.js":return import("./libs/highlight-es/languages/dos.js");case"../../libs/highlight-es/languages/dsconfig.js":return import("./libs/highlight-es/languages/dsconfig.js");case"../../libs/highlight-es/languages/dts.js":return import("./libs/highlight-es/languages/dts.js");case"../../libs/highlight-es/languages/dust.js":return import("./libs/highlight-es/languages/dust.js");case"../../libs/highlight-es/languages/ebnf.js":return import("./libs/highlight-es/languages/ebnf.js");case"../../libs/highlight-es/languages/elixir.js":return import("./libs/highlight-es/languages/elixir.js");case"../../libs/highlight-es/languages/elm.js":return import("./libs/highlight-es/languages/elm.js");case"../../libs/highlight-es/languages/erb.js":return import("./libs/highlight-es/languages/erb.js");case"../../libs/highlight-es/languages/erlang-repl.js":return import("./libs/highlight-es/languages/erlang-repl.js");case"../../libs/highlight-es/languages/erlang.js":return import("./libs/highlight-es/languages/erlang.js");case"../../libs/highlight-es/languages/excel.js":return import("./libs/highlight-es/languages/excel.js");case"../../libs/highlight-es/languages/fix.js":return import("./libs/highlight-es/languages/fix.js");case"../../libs/highlight-es/languages/flix.js":return import("./libs/highlight-es/languages/flix.js");case"../../libs/highlight-es/languages/fortran.js":return import("./libs/highlight-es/languages/fortran.js");case"../../libs/highlight-es/languages/fsharp.js":return import("./libs/highlight-es/languages/fsharp.js");case"../../libs/highlight-es/languages/gams.js":return import("./libs/highlight-es/languages/gams.js");case"../../libs/highlight-es/languages/gauss.js":return import("./libs/highlight-es/languages/gauss.js");case"../../libs/highlight-es/languages/gcode.js":return import("./libs/highlight-es/languages/gcode.js");case"../../libs/highlight-es/languages/gherkin.js":return import("./libs/highlight-es/languages/gherkin.js");case"../../libs/highlight-es/languages/glsl.js":return import("./libs/highlight-es/languages/glsl.js");case"../../libs/highlight-es/languages/gml.js":return import("./libs/highlight-es/languages/gml.js");case"../../libs/highlight-es/languages/go.js":return import("./libs/highlight-es/languages/go.js");case"../../libs/highlight-es/languages/golo.js":return import("./libs/highlight-es/languages/golo.js");case"../../libs/highlight-es/languages/gradle.js":return import("./libs/highlight-es/languages/gradle.js");case"../../libs/highlight-es/languages/graphql.js":return import("./libs/highlight-es/languages/graphql.js");case"../../libs/highlight-es/languages/groovy.js":return import("./libs/highlight-es/languages/groovy.js");case"../../libs/highlight-es/languages/haml.js":return import("./libs/highlight-es/languages/haml.js");case"../../libs/highlight-es/languages/handlebars.js":return import("./libs/highlight-es/languages/handlebars.js");case"../../libs/highlight-es/languages/haskell.js":return import("./libs/highlight-es/languages/haskell.js");case"../../libs/highlight-es/languages/haxe.js":return import("./libs/highlight-es/languages/haxe.js");case"../../libs/highlight-es/languages/hsp.js":return import("./libs/highlight-es/languages/hsp.js");case"../../libs/highlight-es/languages/http.js":return import("./libs/highlight-es/languages/http.js");case"../../libs/highlight-es/languages/hy.js":return import("./libs/highlight-es/languages/hy.js");case"../../libs/highlight-es/languages/inform7.js":return import("./libs/highlight-es/languages/inform7.js");case"../../libs/highlight-es/languages/ini.js":return import("./libs/highlight-es/languages/ini.js");case"../../libs/highlight-es/languages/irpf90.js":return import("./libs/highlight-es/languages/irpf90.js");case"../../libs/highlight-es/languages/isbl.js":return import("./libs/highlight-es/languages/isbl.js");case"../../libs/highlight-es/languages/java.js":return import("./libs/highlight-es/languages/java.js");case"../../libs/highlight-es/languages/javascript.js":return import("./libs/highlight-es/languages/javascript.js");case"../../libs/highlight-es/languages/jboss-cli.js":return import("./libs/highlight-es/languages/jboss-cli.js");case"../../libs/highlight-es/languages/json.js":return import("./libs/highlight-es/languages/json.js");case"../../libs/highlight-es/languages/julia-repl.js":return import("./libs/highlight-es/languages/julia-repl.js");case"../../libs/highlight-es/languages/julia.js":return import("./libs/highlight-es/languages/julia.js");case"../../libs/highlight-es/languages/kotlin.js":return import("./libs/highlight-es/languages/kotlin.js");case"../../libs/highlight-es/languages/lasso.js":return import("./libs/highlight-es/languages/lasso.js");case"../../libs/highlight-es/languages/latex.js":return import("./libs/highlight-es/languages/latex.js");case"../../libs/highlight-es/languages/ldif.js":return import("./libs/highlight-es/languages/ldif.js");case"../../libs/highlight-es/languages/leaf.js":return import("./libs/highlight-es/languages/leaf.js");case"../../libs/highlight-es/languages/less.js":return import("./libs/highlight-es/languages/less.js");case"../../libs/highlight-es/languages/lisp.js":return import("./libs/highlight-es/languages/lisp.js");case"../../libs/highlight-es/languages/livecodeserver.js":return import("./libs/highlight-es/languages/livecodeserver.js");case"../../libs/highlight-es/languages/livescript.js":return import("./libs/highlight-es/languages/livescript.js");case"../../libs/highlight-es/languages/llvm.js":return import("./libs/highlight-es/languages/llvm.js");case"../../libs/highlight-es/languages/lsl.js":return import("./libs/highlight-es/languages/lsl.js");case"../../libs/highlight-es/languages/lua.js":return import("./libs/highlight-es/languages/lua.js");case"../../libs/highlight-es/languages/makefile.js":return import("./libs/highlight-es/languages/makefile.js");case"../../libs/highlight-es/languages/markdown.js":return import("./libs/highlight-es/languages/markdown.js");case"../../libs/highlight-es/languages/mathematica.js":return import("./libs/highlight-es/languages/mathematica.js");case"../../libs/highlight-es/languages/matlab.js":return import("./libs/highlight-es/languages/matlab.js");case"../../libs/highlight-es/languages/maxima.js":return import("./libs/highlight-es/languages/maxima.js");case"../../libs/highlight-es/languages/mel.js":return import("./libs/highlight-es/languages/mel.js");case"../../libs/highlight-es/languages/mercury.js":return import("./libs/highlight-es/languages/mercury.js");case"../../libs/highlight-es/languages/mipsasm.js":return import("./libs/highlight-es/languages/mipsasm.js");case"../../libs/highlight-es/languages/mizar.js":return import("./libs/highlight-es/languages/mizar.js");case"../../libs/highlight-es/languages/mojolicious.js":return import("./libs/highlight-es/languages/mojolicious.js");case"../../libs/highlight-es/languages/monkey.js":return import("./libs/highlight-es/languages/monkey.js");case"../../libs/highlight-es/languages/moonscript.js":return import("./libs/highlight-es/languages/moonscript.js");case"../../libs/highlight-es/languages/n1ql.js":return import("./libs/highlight-es/languages/n1ql.js");case"../../libs/highlight-es/languages/nestedtext.js":return import("./libs/highlight-es/languages/nestedtext.js");case"../../libs/highlight-es/languages/nginx.js":return import("./libs/highlight-es/languages/nginx.js");case"../../libs/highlight-es/languages/nim.js":return import("./libs/highlight-es/languages/nim.js");case"../../libs/highlight-es/languages/nix.js":return import("./libs/highlight-es/languages/nix.js");case"../../libs/highlight-es/languages/node-repl.js":return import("./libs/highlight-es/languages/node-repl.js");case"../../libs/highlight-es/languages/nsis.js":return import("./libs/highlight-es/languages/nsis.js");case"../../libs/highlight-es/languages/objectivec.js":return import("./libs/highlight-es/languages/objectivec.js");case"../../libs/highlight-es/languages/ocaml.js":return import("./libs/highlight-es/languages/ocaml.js");case"../../libs/highlight-es/languages/openscad.js":return import("./libs/highlight-es/languages/openscad.js");case"../../libs/highlight-es/languages/oxygene.js":return import("./libs/highlight-es/languages/oxygene.js");case"../../libs/highlight-es/languages/parser3.js":return import("./libs/highlight-es/languages/parser3.js");case"../../libs/highlight-es/languages/perl.js":return import("./libs/highlight-es/languages/perl.js");case"../../libs/highlight-es/languages/pf.js":return import("./libs/highlight-es/languages/pf.js");case"../../libs/highlight-es/languages/pgsql.js":return import("./libs/highlight-es/languages/pgsql.js");case"../../libs/highlight-es/languages/php-template.js":return import("./libs/highlight-es/languages/php-template.js");case"../../libs/highlight-es/languages/php.js":return import("./libs/highlight-es/languages/php.js");case"../../libs/highlight-es/languages/plaintext.js":return import("./libs/highlight-es/languages/plaintext.js");case"../../libs/highlight-es/languages/pony.js":return import("./libs/highlight-es/languages/pony.js");case"../../libs/highlight-es/languages/powershell.js":return import("./libs/highlight-es/languages/powershell.js");case"../../libs/highlight-es/languages/processing.js":return import("./libs/highlight-es/languages/processing.js");case"../../libs/highlight-es/languages/profile.js":return import("./libs/highlight-es/languages/profile.js");case"../../libs/highlight-es/languages/prolog.js":return import("./libs/highlight-es/languages/prolog.js");case"../../libs/highlight-es/languages/properties.js":return import("./libs/highlight-es/languages/properties.js");case"../../libs/highlight-es/languages/protobuf.js":return import("./libs/highlight-es/languages/protobuf.js");case"../../libs/highlight-es/languages/puppet.js":return import("./libs/highlight-es/languages/puppet.js");case"../../libs/highlight-es/languages/purebasic.js":return import("./libs/highlight-es/languages/purebasic.js");case"../../libs/highlight-es/languages/python-repl.js":return import("./libs/highlight-es/languages/python-repl.js");case"../../libs/highlight-es/languages/python.js":return import("./libs/highlight-es/languages/python.js");case"../../libs/highlight-es/languages/q.js":return import("./libs/highlight-es/languages/q.js");case"../../libs/highlight-es/languages/qml.js":return import("./libs/highlight-es/languages/qml.js");case"../../libs/highlight-es/languages/r.js":return import("./libs/highlight-es/languages/r.js");case"../../libs/highlight-es/languages/reasonml.js":return import("./libs/highlight-es/languages/reasonml.js");case"../../libs/highlight-es/languages/rib.js":return import("./libs/highlight-es/languages/rib.js");case"../../libs/highlight-es/languages/roboconf.js":return import("./libs/highlight-es/languages/roboconf.js");case"../../libs/highlight-es/languages/routeros.js":return import("./libs/highlight-es/languages/routeros.js");case"../../libs/highlight-es/languages/rsl.js":return import("./libs/highlight-es/languages/rsl.js");case"../../libs/highlight-es/languages/ruby.js":return import("./libs/highlight-es/languages/ruby.js");case"../../libs/highlight-es/languages/ruleslanguage.js":return import("./libs/highlight-es/languages/ruleslanguage.js");case"../../libs/highlight-es/languages/rust.js":return import("./libs/highlight-es/languages/rust.js");case"../../libs/highlight-es/languages/sas.js":return import("./libs/highlight-es/languages/sas.js");case"../../libs/highlight-es/languages/scala.js":return import("./libs/highlight-es/languages/scala.js");case"../../libs/highlight-es/languages/scheme.js":return import("./libs/highlight-es/languages/scheme.js");case"../../libs/highlight-es/languages/scilab.js":return import("./libs/highlight-es/languages/scilab.js");case"../../libs/highlight-es/languages/scss.js":return import("./libs/highlight-es/languages/scss.js");case"../../libs/highlight-es/languages/shell.js":return import("./libs/highlight-es/languages/shell.js");case"../../libs/highlight-es/languages/smali.js":return import("./libs/highlight-es/languages/smali.js");case"../../libs/highlight-es/languages/smalltalk.js":return import("./libs/highlight-es/languages/smalltalk.js");case"../../libs/highlight-es/languages/sml.js":return import("./libs/highlight-es/languages/sml.js");case"../../libs/highlight-es/languages/sqf.js":return import("./libs/highlight-es/languages/sqf.js");case"../../libs/highlight-es/languages/sql.js":return import("./libs/highlight-es/languages/sql.js");case"../../libs/highlight-es/languages/stan.js":return import("./libs/highlight-es/languages/stan.js");case"../../libs/highlight-es/languages/stata.js":return import("./libs/highlight-es/languages/stata.js");case"../../libs/highlight-es/languages/step21.js":return import("./libs/highlight-es/languages/step21.js");case"../../libs/highlight-es/languages/stylus.js":return import("./libs/highlight-es/languages/stylus.js");case"../../libs/highlight-es/languages/subunit.js":return import("./libs/highlight-es/languages/subunit.js");case"../../libs/highlight-es/languages/swift.js":return import("./libs/highlight-es/languages/swift.js");case"../../libs/highlight-es/languages/taggerscript.js":return import("./libs/highlight-es/languages/taggerscript.js");case"../../libs/highlight-es/languages/tap.js":return import("./libs/highlight-es/languages/tap.js");case"../../libs/highlight-es/languages/tcl.js":return import("./libs/highlight-es/languages/tcl.js");case"../../libs/highlight-es/languages/thrift.js":return import("./libs/highlight-es/languages/thrift.js");case"../../libs/highlight-es/languages/toml.js":return import("./libs/highlight-es/languages/toml.js");case"../../libs/highlight-es/languages/tp.js":return import("./libs/highlight-es/languages/tp.js");case"../../libs/highlight-es/languages/twig.js":return import("./libs/highlight-es/languages/twig.js");case"../../libs/highlight-es/languages/typescript.js":return import("./libs/highlight-es/languages/typescript.js");case"../../libs/highlight-es/languages/vala.js":return import("./libs/highlight-es/languages/vala.js");case"../../libs/highlight-es/languages/vbnet.js":return import("./libs/highlight-es/languages/vbnet.js");case"../../libs/highlight-es/languages/vbscript-html.js":return import("./libs/highlight-es/languages/vbscript-html.js");case"../../libs/highlight-es/languages/vbscript.js":return import("./libs/highlight-es/languages/vbscript.js");case"../../libs/highlight-es/languages/verilog.js":return import("./libs/highlight-es/languages/verilog.js");case"../../libs/highlight-es/languages/vhdl.js":return import("./libs/highlight-es/languages/vhdl.js");case"../../libs/highlight-es/languages/vim.js":return import("./libs/highlight-es/languages/vim.js");case"../../libs/highlight-es/languages/wasm.js":return import("./libs/highlight-es/languages/wasm.js");case"../../libs/highlight-es/languages/wren.js":return import("./libs/highlight-es/languages/wren.js");case"../../libs/highlight-es/languages/x86asm.js":return import("./libs/highlight-es/languages/x86asm.js");case"../../libs/highlight-es/languages/xl.js":return import("./libs/highlight-es/languages/xl.js");case"../../libs/highlight-es/languages/xml.js":return import("./libs/highlight-es/languages/xml.js");case"../../libs/highlight-es/languages/xquery.js":return import("./libs/highlight-es/languages/xquery.js");case"../../libs/highlight-es/languages/yaml.js":return import("./libs/highlight-es/languages/yaml.js");case"../../libs/highlight-es/languages/zephir.js":return import("./libs/highlight-es/languages/zephir.js");default:return new Promise((function(s,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../../libs/highlight-es/languages/${e.toLowerCase()}.js`)));await Promise.all(s).then((s=>s.forEach(((s,t)=>{const i=e[t],a=s.default;this._module.registerLanguage(i,a)})))).catch(this.loadErrResolver)}loadCondition(e){return e.size>0}renderItem(e){this._module.highlightElement(e)}async beforeRender(e=new Set){await this.#e(Array.from(e))}async importModule(){h("./dist/libs/highlight-es/github-dark.css");return(await import("./libs/highlight-es/highlight.min.js")).default}};var c=o.render.bind(o);const{katexOptions:u}=l;const p=new class extends e{name="KaTeX";_targetElList=()=>document.querySelectorAll(".math");loadCondition(e){return e}renderErrResolver(s,t){const i=t.textContent;s instanceof this._module.ParseError?t.innerHTML=("Error in LaTeX '"+i+"': "+s.message).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(t.textContent=this.name+" "+e.renderErrMsg,console.error(s))}renderItem(e){const s=e.textContent;this._module.render(s,e,u)}async importModule(){h("./dist/libs/katex/katex.min.css");return(await import("./libs/katex/katex.min.js")).default}};var d=p.render.bind(p);function m(e,s){const t=document.createElement("script");return t.src=e,t.type="text/javascript",document.head.appendChild(t),new Promise(((i,a)=>{t.onload=function(){if(!(s in globalThis)){const e=`Module ${s} does not support this import method.`;console.error(e),a(e)}const e=globalThis[s];globalThis[s]=void 0,i(e)},t.onerror=function(t){console.error(`Error loading dynamically imported module "${s}": ${e}`),a(t)}}))}globalThis.raphael=null;const{flowchartOptions:b}=l;const j=new class extends s{_targetElList=()=>document.querySelectorAll(".flowchart-container");constructor(){super()}renderItem(e,s){this._module.parse(s).drawSVG(e,b)}async importModule(){globalThis.raphael=await m("./dist/libs/flowchart.js/raphael.min.js","raphael");return await m("./dist/libs/flowchart.js/flowchart.min.js","flowchart")}};var f=j.render.bind(j);const w=new class extends s{_targetElList=()=>document.querySelectorAll(".sequencechart-container");constructor(){super()}renderItem(e,s){const t=new this._module(s);e.appendChild(t.dom())}async importModule(){return(await import("./libs/sequence-diagram/sequence-diagram-web.mjs")).SequenceDiagram}};var y=w.render.bind(w);const{language:v,ganttOptions:_}=l;"language"in _||(_.language=v);const L=new class extends s{_targetElList=()=>document.querySelectorAll(".ganttchart-container");renderItem(e,s){new this._module(e,s,_)}async importModule(){h("./dist/libs/frappe-gantt/frappe-gantt.min.css");return(await import("./libs/frappe-gantt/frappe-gantt.min.js")).default}};var T=L.render.bind(L);let k=null;const{railroadOptions:C}=l,x=/[\x00-\x7F]/,E=/['"]([^'"]*[/\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]+[^'"]*)['"]/gu;const S=new class extends s{_targetElList=()=>document.querySelectorAll(".railroad-container");renderItem(e,s=""){const t=k.CHAR_WIDTH,i=E.test(s),a=(s.match(E)||[]).map((e=>e.slice(1,-1))).every((e=>x.test(e))),n=i&&(a?13:14)||k.CHAR_WIDTH;k.CHAR_WIDTH<n&&(k.CHAR_WIDTH=n);const l=this._module.concat(e);new Function("Diagram","ComplexDiagram","Sequence","Stack","OptionalSequence","AlternatingSequence","Choice","HorizontalChoice","MultipleChoice","Optional","OneOrMore","ZeroOrMore","Group","Start","End","Terminal","NonTerminal","Comment","Skip","Block","targetElement",s+".addTo(targetElement)").apply(null,l),k.CHAR_WIDTH=t}async importModule(){h("./dist/libs/railroad-diagrams/railroad.css");const e=await import("./libs/railroad-diagrams/railroad.min.js"),{default:s,Options:t}=e;return Object.assign(t,{VS:C.verticalGap,AR:C.arcRadius,INTERNAL_ALIGNMENT:C.internalAlignment,CHAR_WIDTH:C.charWidth,COMMENT_CHAR_WIDTH:C.commentCharWidth}),k=t,[s.Diagram,s.ComplexDiagram,s.Sequence,s.Stack,s.OptionalSequence,s.AlternatingSequence,s.Choice,s.HorizontalChoice,s.MultipleChoice,s.Optional,s.OneOrMore,s.ZeroOrMore,s.Group,s.Start,s.End,s.Terminal,s.NonTerminal,s.Comment,s.Skip,s.Block]}};var q=S.render.bind(S);const{qrcodeOptions:H}=l;const M=new class extends s{_targetElList=()=>document.querySelectorAll(".qrcode-container");#s=new MutationObserver(this.renderAll.bind(this));renderItem(e){const s=getComputedStyle(document.body),t=s.getPropertyValue("--default-tx-color"),i=s.getPropertyValue("--chart-bg-color"),a=Object.assign({},H),n=e.__QRCodeContent__,l=a.width||256;a.color=t,a.background=i,a.content=n||a.content||(()=>{throw new Error("No QRCode content provided.")})();const r=new this._module(a);e.style.width=l+"px",e.innerHTML=r.svg()}async importModule(){const e=await m("./dist/libs/qrcode-svg/qrcode.min.js","QRCode"),s=document.body;return this.#s.observe(s,{attributes:!0,attributeFilter:["class"]}),e}};var I=M.render.bind(M);const A=new Map([["echarts",t],["flow-chart",f],["sequence-chart",y],["gantt-chart",T],["railroad-chart",q],["qrcode",I]]);async function R(e=new Set){for(const s of e){if(!A.has(s)){console.error("Unknown chart type: "+s);continue}const e=A.get(s);await e()}}const W=()=>document.querySelectorAll("iframe[srcdoc]");function N(e){W().forEach((s=>s.contentWindow.postMessage({fontSize:e},"*")))}function O(){const e=document.body.classList.contains("dark")?"dark":"light";W().forEach((s=>s.contentWindow.postMessage({theme:e},"*")))}function P(e){return Object.entries(e).filter((([e,s])=>void 0!==s||!1!==s)).map((([e,s])=>"boolean"==typeof s?e:`${e}="${function(e){return e instanceof Array?e.join(" ").replaceAll('"',"&quot;"):e.toString().replaceAll('"',"&quot;")}(s)}"`)).join(" ")}function $(e,s){return`<${e}${s?" "+P(s):""}>`}function D(e,s="",t=null){if(null!==s&&"object"==typeof s&&s.constructor===Object&&(t=s,s=""),"document"in globalThis){if("text"===e)return document.createTextNode(s);const i=document.createElement(e);return function(e,s){if(s)for(const[t,i]of Object.entries(s))void 0!==i&&!1!==i&&(i instanceof Function?e[t]=i:i instanceof Array?e.setAttribute(t,i.join(" ")):e.setAttribute(t,i))}(i,t),function(e,s){if(s instanceof Array)for(const t of s)e.appendChild(t);else if(s instanceof HTMLElement)e.appendChild(s);else{if("string"!=typeof s)throw Error("Unexpected element content: "+s);e.textContent=s}}(i,s),i}switch(s instanceof Array&&(s=s.join("")),e){case"text":return s;case"hr":case"br":return $(e);case"img":case"input":return $(e,t)}return`<${e}${t?" "+P(t):""}>${s}</${e}>`}const F=[/[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu,/[A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]+/g,/\p{Script=Greek}+/gu,/\p{Script=Arabic}+/gu,/\p{Script=Cyrillic}+/gu,/(\-|\+)?\d+(\.\d+)?/g];function G(e=""){if(0===e.length)return[];return F.map((s=>e.match(s)||[])).reduce(((e,s)=>e.concat(s)),[])}function U(e,s,t=!1){if(!e.includes(s))return null;let i="",a=!1;for(;e.length;){const n=e.slice(0,1);if(e=e.substr(1),"\\"!==n||(a=!a,t)){if(n===s&&!a)break;i+=n,a=!1}}return i}const B=new Map([["#","strong"],["`","code"],["_","u"],["/","i"],["-","del"],[":","span.dim"],[",","sub"],["'","sup"],["$","span.math"]]),z=new Map([["[","]"],["{","}"]]);let Q=null;if("undefined"==typeof window){const ks=await import("../builder/utils/renderer/index.js");Q=e=>ks.render(e,"katex")}class V{constructor(e){this.content=e}count=()=>function(e=""){return 0===e.length?0:G(e).length}(this.content);toHTML=()=>D("text",this.content)}class Z{constructor(e,s){const t=B.get(e);if(t.includes(".")){const[e,s]=t.split(".");this.tagName=e,this.className=s}else this.tagName=t;this.content=s,"math"===this.className&&"object"==typeof window&&(globalThis.__ContainsFormula__=!0)}count=()=>J(this.content);toHTML(){if("math"===this.className&&"undefined"==typeof window){const e=D("img","",{src:"./"+Q(this.content)});return D("span",e,{class:"math"})}const e=void 0===this.className?null:{class:this.className};return D(this.tagName,ee(this.content),e)}}class K{constructor(e,s){this.content=e,this.address=s}count=()=>0;toHTML(){const e=ee(this.content);if(this.address.startsWith("http"))return D("a",e,{href:this.address,target:"_blank"});if(this.address.startsWith("//"))return D("a",e,{href:this.address.slice(2)});return D("a",e,{href:"#"+("static/"+this.address)})}}class X{constructor(e,s){this.content=e,this.notation=s}count=()=>J(this.content);toHTML(){const e=D("rp","("),s=D("rp",")"),t=D("rt",this.notation);return D("ruby",ee(this.content).concat([e,t,s]),{"data-notation":this.notation})}}function Y(e){function s(){const s=e.charAt(0);return e=e.substring(1),s}function t(e){let s;return"["===e?s=K:"{"===e&&(s=X),s}const i=[];let a="",n="",l="",r=!1,g=!1;for(;e.length;){const h=s();if(B.has(h)){if(r){g?n+="\\"+h:a+=h,r=!1;continue}if(g&&h!=l){n+=h;continue}const t=s();if(t!=h){g?n+=h:a+=h,e=t+e;continue}g?(i.push(new Z(h,n)),n="",l=""):(i.push(new V(a)),a="",l=h),g=!g;continue}if(["[","{"].includes(h)&&!g&&!r){const n=h,l=z.get(n);i.push(new V(a)),a="";let r=n;const g=U(e,l,!0);if(null!=g){r+=e.slice(0,g.length+1),e=e.substr(g.length+1);const a=s();if(r+=a,"("===a){const s=U(e,")");if(null!=s){let a=t(n);e=e.substr(s.length+1),i.push(new a(g,s));continue}}}a+=r;continue}if("\\"===h){r=!r;continue}let o;r?(o="\\"+h,r=!1):o=h,g?n+=o:a+=o}return n.length&&i.push(new Z(l,n)),a.length&&i.push(new V(a)),i}function J(e){return Y(e).reduce(((e,s)=>e+s.count()),0)}function ee(e){const s=Y(e).filter((e=>!(e instanceof V&&!e.content.length))).map((e=>e.toHTML()));return"object"!=typeof window&&e===s[0]?(e=>e.replaceAll("<","&lt;").replaceAll(">","&gt;"))(e):s}class se{constructor(e){const s=e.split(" "),t=s[0];let i=0;for(const e of t)"#"===e&&(i+=1);i>6&&(i=0);const a=s.slice(1).join(" ");this.tagName="h"+i,this.content=a}toHTML(){const e=void 0===this.id?null:{id:this.id},s=ee(this.content);return D(this.tagName,s,e)}static pattern=e=>/^(#+ )/.test(e)}class te{tagName="p";constructor(e){this.content=e.trimStart()}toHTML(){const e=ee(this.content);return D(this.tagName,e)}}class ie{children=[];title="";type=ie.NormalTypeEnum;constructor(e){if(!(e[0]instanceof te&&ie.alertPattern(e[0].content)))return void(this.children=e);let s;const t=e[0].content,a=U(t.slice(1),"]");switch(a.toLowerCase()){case"note":case"笔记":this.type=ie.NoteTypeEnum,s=i("笔记","Note");break;case"tip":case"提示":this.type=ie.TipTypeEnum,s=i("提示","Tip");break;case"important":case"重要":this.type=ie.ImportantTypeEnum,s=i("重要","Important");break;case"warning":case"注意":this.type=ie.warningTypeEnum,s=i("注意","Warning");break;case"caution":case"警告":this.type=ie.CautionTypeEnum,s=i("警告","Caution")}const n=t.slice(a.length+2).trimStart();this.title=n||s,this.children=e.slice(1)}toHTML(){if(this.type===ie.NormalTypeEnum){return D("blockquote",this.children.map((e=>e.toHTML())))}const e=D("p",this.title,{class:"alert-title"}),s=this.children.map((e=>e.toHTML()));return D("blockquote",[e].concat(s),{class:["alert",this.type.description]})}static pattern=e=>">"===e||e.startsWith("> ");static alertPattern=e=>/^\[(.*)+\].*/.test(e);static NormalTypeEnum=Symbol("normal");static NoteTypeEnum=Symbol("note");static TipTypeEnum=Symbol("tip");static ImportantTypeEnum=Symbol("important");static warningTypeEnum=Symbol("warning");static CautionTypeEnum=Symbol("caution")}class ae{toHTML=()=>D("hr");static pattern=e=>e.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!e.match(/[a-zA-Z0-9]/)}class ne{children=[];constructor(e){this.isOrdered=ne.orderedPattern(e),this.tagName=this.isOrdered?"ol":"ul",this.children=[ne.getContent(e,this.isOrdered)]}toHTML(){const e=this.children.map((e=>{if("string"==typeof e){return D("li",ee(e))}return e.toHTML()}));return D(this.tagName,e)}static orderedPattern=e=>/^([\s\t]*[0-9]+\. )/.test(e);static unorderedPattern=e=>/^([\s\t]*[+-] )/.test(e);static taskListPattern=e=>/^[\s\t]*- \[( |x|\*)\] /.test(e);static isListPattern=e=>ne.orderedPattern(e)||ne.unorderedPattern(e);static getContent(e,s){if(s)return e.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0];if(this.taskListPattern(e)){const s=e.trimStart();return new le(s.slice(6),s.slice(0,6))}if(this.unorderedPattern(e))return e.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0];throw new Error("Unexpected list item: "+e)}}class le{constructor(e,s){this.content=e,this.isChecked="x"===s[3]||"*"===s[3]}count(){return J(this.content)}toHTML(){const e=D("input","",{type:"checkbox",checked:!!this.isChecked||void 0}),s=D("text",this.content);return D("li",[e,s],{class:"task-list-item"})}}class re{elements=[];push(e){this.elements.push(e)}toHTML(){return D("div",this.elements.map((e=>e.toHTML())),{class:"qa-block"})}}class ge{constructor(e){this.content=e.substr(3)}toHTML(){return D("div",ee(this.content),{class:"question"})}static pattern=e=>e.startsWith("Q: ")}class he{constructor(e){this.content=e.substr(3)}toHTML(){return D("div",ee(this.content),{class:"answer"})}static pattern=e=>e.startsWith("A: ")}class oe{headerCells=[""];bodyRows=[[""]];constructor(e,s){this.headerCells=e,this.bodyRows=s}#t=e=>D("th",e);#i=e=>D("td",ee(e));#a=e=>D("tr",e.map(this.#t));#n=e=>D("tr",e.map(this.#i));toHTML(){const e=D("thead",this.#a(this.headerCells)),s=D("tbody",this.bodyRows.map(this.#n));return D("div",D("table",[e,s]),{class:"table"})}static pattern=e=>e.startsWith("| ")}class ce{source="";description="";constructor(e){e=e.substr(2),this.description=U(e,"]"),e=e.substr(this.description.length+2),this.source=U(e,")")}static containerGenerator(e,s){return D("div",e,{class:["media-container",s??""]})}static patternGenerator(e){return s=>s.startsWith(e+"[")&&s.endsWith(")")}static replaceContentGenerator(e,s){return`${s}<br>${D("a",i("从这里下载！","Download Here!"),{href:e})}`}static srcUrlResolver(e){let s;if(e.startsWith("http")||e.startsWith("data"))s=e;else{s=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+e}return s}}class ue extends ce{static pattern=ce.patternGenerator("!");toHTML(){const e=D("img","",{src:ce.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return e.onclick=e=>window.open(e.target.src),e.onerror=e=>{const s=e.target;s.onclick=null,s.title=this.description,s.classList.add("load-error"),s.parentNode.classList.remove("image")},ce.containerGenerator(e,"image")}}class pe extends ce{static pattern=ce.patternGenerator(":");toHTML(){const e=ce.srcUrlResolver(this.source),s=D("audio",ce.replaceContentGenerator(e,this.description),{src:e,controls:!0});return ce.containerGenerator(s)}}class de extends ce{static pattern=ce.patternGenerator("?");toHTML(){const e=ce.srcUrlResolver(this.source),s=D("video",ce.replaceContentGenerator(e,this.description),{src:e,controls:"true"});return ce.containerGenerator(s)}}const me=e=>ce.patternGenerator("@")(e)||e.startsWith("@@@");class be extends ce{toHTML(){const e=ce.srcUrlResolver(this.source),s=D("iframe",this.description,{src:e,title:this.description,sandbox:"allow-same-origin allow-scripts",loading:"lazy"});return ce.containerGenerator(s,"iframe")}}class je{constructor(e,s){this.lang=s,this.content=e}toHTML(){const e=["plaintext","text",""].includes(this.lang);let s,t;e||globalThis.__LanguageList__.add(this.lang),e?(t="nohighlight",s="PLAINTEXT"):(t=`language-${this.lang}`,s=this.lang.toUpperCase());const i=D("code",this.content,{class:t,tabindex:0});return D("pre",i,{class:"code-block","data-language":s})}static pattern=e=>e.startsWith("```")}class fe{summary="";content="";constructor(e,s){this.summary=s,this.content=e}toHTML(){const e=D("summary",ee(this.summary)),s=D("details",e),t=D("div",D("div",this.content.map((e=>e.toHTML())),{class:"details-children"}),{class:"details-children-container"});return D("div",[s,t],{class:"details"})}static pattern=e=>e.startsWith(">>>")}class we{content="";description="";constructor(e,s){this.content=e,this.description=s}toHTML(){return globalThis.__ContainsFormula__=!0,D("div",this.content,{class:"math",title:this.description})}static pattern=e=>e.startsWith("$$$")}class ye{static#l=e=>`<style>\nbody{transition: .3s .15s}\nbody.light{color:#333;background:#fff}\nbody.dark{color:#f7f7f7;background:#252525}</style>\n<script>\nconst rootEl = document.documentElement\nfunction postHeight() {\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(rootEl).height)\n    parent.postMessage({\n        height,\n        id: "${e}"\n    }, "*")\n}\nwindow.addEventListener("load", postHeight)\nwindow.addEventListener("message", e => {\nconst { fontSize, theme } = e.data\nif (fontSize) {\n    rootEl.style.fontSize = fontSize\n    postHeight()\n}\nif (theme) {\n    document.body.classList = theme\n}\n})\n<\/script>`;constructor(e,s){globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=s,this.content=e+ye.#l(this.id)}toHTML(){const e=D("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return ce.containerGenerator(e,"iframe")}}class ve{constructor(e){const s=new Function("let option;"+e+";return option")();this.chartOptions=s,globalThis.__ChartTypeList__.add("echarts")}toHTML(){const e=D("div","",{class:"echarts-container"});return e.__ChartOptions__=this.chartOptions,e}}class _e{constructor(e){this.content=e,globalThis.__ChartTypeList__.add("flow-chart")}toHTML(){const e=D("div","",{class:"flowchart-container"});return e.__ChartContent__=this.content,e}}class Le{constructor(e){this.content=e,globalThis.__ChartTypeList__.add("sequence-chart")}toHTML(){const e=D("div","",{class:"sequencechart-container"});return e.__ChartContent__=this.content,e}}class Te{constructor(e){this.content=new Function(`const tasks = [${e}]; return tasks`)(),globalThis.__ChartTypeList__.add("gantt-chart")}toHTML(){const e=D("div","",{class:"ganttchart-container"});return e.__ChartContent__=this.content,e}}class ke{constructor(e){this.content=e,globalThis.__ChartTypeList__.add("railroad-chart")}toHTML(){const e=D("div","",{class:"railroad-container"});return e.__ChartContent__=this.content,e}}class Ce{constructor(e){this.content=e,globalThis.__ChartTypeList__.add("qrcode")}toHTML(){const e=D("div","",{class:"qrcode-container"});return e.__QRCodeContent__=this.content,e}}class xe{constructor(e){this.content=e}toHTML(){return D("span",this.content)}}class Ee{static pattern=e=>e.startsWith("!!!");#r=null;constructor(e,s){switch(s){case"":case"echarts":this.#r=new ve(e);break;case"flow":case"flowchart":case"flow chart":case"flow-chart":this.#r=new _e(e);break;case"sequence":case"sequencechart":case"sequence char":case"sequence-chart":this.#r=new Le(e);break;case"gantt":case"ganttchart":case"gantt chart":case"gantt-chart":this.#r=new Te(e);break;case"rail":case"railroad":case"railroadchart":case"railroad chart":case"railroad-chart":this.#r=new ke(e);break;case"qrcode":case"qr-code":case"qr code":this.#r=new Ce(e);break;default:const t="Unknown chart type: "+s;console.error(t),this.#r=new xe(t)}}toHTML(){const e=this.#r.toHTML();return ce.containerGenerator(e)}}function Se(e){let s=0,t=0;for(const i of e){if(i.match(/[^\s\t]/))break;"\t"!==i?(" "===i&&(t+=1),2===t&&(t=0,s+=1)):s+=1}return s}function qe(e,s){const t=Se(e),i=new ne(e);for(;s.length&&ne.isListPattern(s[0]);){const e=s.shift(),a=Se(e),n=ne.orderedPattern(e);if(a>t)i.children.push(qe(e,s));else{if(a!==t||n!==i.isOrdered){s.unshift(e);break}i.children.push(ne.getContent(e,n))}}return i}function He(e,s){let t=e.slice(2)+"\n";for(;s.length;){const e=s.shift();if(!ie.pattern(e)){s.unshift(e);break}t+=e.slice(2)+"\n"}const i=De(t);return new ie(i)}function Me(e){return e.split("|").filter((e=>e.length>0)).map((e=>e.trim()))}function Ie(e,s){const t=e,i=[];for(;s.length;){const e=s.shift();if(!oe.pattern(e)){s.unshift(e);break}i.push(e)}const a=Me(t),n=i.map(Me);return new oe(a,n)}function Ae(e,s){const t=new re;for(s.unshift(e);s.length;){const e=s[0],i=ge.pattern(e),a=he.pattern(e);if(i)t.push(new ge(e));else{if(!a)break;t.push(new he(e))}s.shift()}return t}function Re(e,s){return function(t,i){const a=t.slice(3);let n="";for(;i.length;){const s=i.shift();if(s===e)break;n+=s+"\n"}return new s(n,a)}}const We=Re("```",je),Ne=Re("!!!",Ee),Oe=Re("$$$",we);function Pe(e,s){const t=Re(">>>",fe)(e,s);return t.content=De(t.content),t}function $e(e,s){const t=Re("@@@",ye);return e.startsWith("@@@")?t(e,s):new be(e)}function De(e){const s=function(e){return-1!=e.indexOf("\r")?e.split("\r\n"):e.split("\n")}(e),t=[];for(;s.length;){const e=s.shift();e.length&&(se.pattern(e)?t.push(new se(e)):ae.pattern(e)?t.push(new ae):ie.pattern(e)?t.push(He(e,s)):ne.isListPattern(e)?t.push(qe(e,s)):ge.pattern(e)||he.pattern(e)?t.push(Ae(e,s)):oe.pattern(e)?t.push(Ie(e,s)):ue.pattern(e)?t.push(new ue(e)):pe.pattern(e)?t.push(new pe(e)):de.pattern(e)?t.push(new de(e)):fe.pattern(e)?t.push(Pe(e,s)):we.pattern(e)?t.push(Oe(e,s)):je.pattern(e)?t.push(We(e,s)):Ee.pattern(e)?t.push(Ne(e,s)):me(e)?t.push($e(e,s)):t.push(new te(e)))}return t}function Fe(e){return function(s){"Enter"!==s.key&&" "!==s.key||e.click()}}const Ge=()=>window.scrollY||document.documentElement.scrollTop;function Ue(e){window.scroll({top:e,behavior:"smooth"})}function Be(e,s){Ue(e.offsetTop+-s)}function ze(){Ue(0)}const Qe=i("空文章","Empty Article");function Ve(e,s){globalThis.__LanguageList__=new Set,globalThis.__ChartTypeList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;const t=De(s);if(l.catalog.enable){const e=function(e){return e.filter((e=>e instanceof se)).map(((e,s)=>({id:e.id="headline-"+s,content:ee(e.content),level:e.tagName})))}(t);n.emit("article-rendered",e)}let i=t.map((e=>e.toHTML()));i.length||(i=[D("h1",Qe)]);const r=document.createDocumentFragment();i.forEach((e=>r.appendChild(e))),e.innerHTML="",e.appendChild(r),async function(){const e=Array.from(W()).map((e=>new Promise(((s,t)=>e.onload=s))));await Promise.all(e)}().then(O),e.querySelectorAll("[tabindex='0']").forEach((e=>{e.onkeydown=Fe(e)})),Promise.all([c(globalThis.__LanguageList__),d(globalThis.__ContainsFormula__),R(globalThis.__ChartTypeList__)]).then((()=>{globalThis.__LanguageList__=null,globalThis.__ContainsFormula__=!1,globalThis.__ChartTypeList__=null;const e=sessionStorage.getItem("last-leave-page"),s=sessionStorage.getItem("last-leave-position")||0;if(sessionStorage.removeItem("last-leave-page"),sessionStorage.removeItem("last-leave-position"),Ge()>0)return;if(location.hash!==e)return;const t=Number.parseInt(s);!function(e,s){const t=a((function(){s()?window.removeEventListener("scroll",t):e()}),30);window.addEventListener("scroll",t),e()}((()=>Ue(t)),(()=>t-Ge()<100))}))}function Ze(e){const s=new Date(e);return(new Intl.DateTimeFormat).format(s)}function Ke(e){const s=D("span",e.title,{class:"underline-target"}),t=D("code",Ze(e.createTime));return D("li",[s,t],{class:"underline-through","data-jumpto":e.link,tabindex:0})}function Xe(e){const s=D("span",e.name,{class:"underline-target"}),t=D("code",Ze(e.modifyTime));return D("li",[s,t],{class:"underline-through","data-relative":e.name,tabindex:0})}const Ye=document.querySelector("main"),Je=document.querySelector("article"),es=Ye.querySelector("#article-list"),ss=Ye.querySelector("#directory-description"),ts=Ye.querySelector("#update-time code"),is=Ye.querySelector("paging-view");function as(e,s){const{current:t,total:i,updateTime:a}=e;is.setPage(t,i),ss.innerHTML="","dirDescription"in e&&Ve(ss,e.dirDescription),ts.textContent=a?Ze(a):"";const n=document.createDocumentFragment();e.content.map(s).forEach((e=>n.appendChild(e))),es.innerHTML="",es.appendChild(n),es.querySelectorAll("[tabindex='0']").forEach((e=>{e.onkeydown=Fe(e)})),Je.innerHTML="",Ye.classList.remove("hidden"),ze()}function ns(e,s){return new Promise(((t,i)=>{const a=document.createElement("link");a.rel="prefetch",a.href=e,a.as=s,document.head.appendChild(a),a.onload=t,a.onerror=i}))}const ls=document.querySelector("main"),rs=document.querySelector("#newest-header"),gs=document.querySelector("#directory-header"),hs=document.querySelector("article");function os(e=location.hash.slice(1)){return"./.index/"+e.split("/").slice(0,-1).join("+")+"_"+ds.current()}async function cs(e){if(!location.hash)return void ps.homepage();const s=location.hash.slice(1);if(ls.classList.add("disabled"),ps.isIn.newestPage()){const e=await g(os());if(!e)return;rs.classList.remove("hidden"),gs.classList.add("hidden"),as(e,Ke)}else if(ps.isIn.directory()){const e=await g(os());if(!e)return;rs.classList.add("hidden"),gs.classList.remove("hidden"),async function(e){const s=location.hash.slice(1),t=[];for(const i of e){if(t.length>=40)break;if(!i.name.endsWith("/"))continue;const e=os(s+i.name);t.push(ns(e,"fetch"))}await Promise.all(t)}(e.content),as(e,Xe)}else if(ps.isIn.article()){hs.innerHTML="";const e=await async function(e){return r&&r.abort(),r=new AbortController,await fetch(e,{signal:r.signal}).then((async e=>{if(200!=e.status)throw e.status;const s=await e.text();return r=null,s})).catch((s=>{if("number"!=typeof s)return console.error(s),null;switch(s){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";case DOMException:console.error(s);break;default:return console.log("Markdown request error: "+e),console.error(s),"# Unexpected request error"}}))}("./"+s);if(!e)return;ls.classList.add("hidden"),Ve(hs,e)}else ps.homepage();ls.setAttribute("data-is-root","static/"===s),ls.setAttribute("data-is-newest",s.startsWith("newest/")),ls.classList.remove("disabled");const t=e=>new URL(e).hash;e instanceof HashChangeEvent&&ps.isIn.directory(t(e.oldURL))&&ps.isIn.article(t(e.newURL))&&ze()}window.addEventListener("hashchange",cs),window.addEventListener("load",cs);const us="static/",ps={homepage(){location.hash=us},open(e){location.hash+=e},jumpTo(e){location.hash=e},parent(){if(this.isIn.root()||this.isIn.newestPage())return us;const e=location.hash.slice(1).split("/");if(this.isIn.directory())return e.slice(0,-2).join("/")+"/";if(this.isIn.article())return e.slice(0,-1).join("/")+"/";throw new Error("Unexpected hash: "+location.hash)},isIn:{root:()=>location.hash==="#"+us,newestPage:()=>"#newest/"===location.hash,directory(e){const s=e||location.hash;return s.startsWith("#static")&&s.endsWith("/")},article(e){const s=e||location.hash;return s.startsWith("#static")&&s.endsWith(".md")}}};const ds=new class{#g=[1];current=()=>this.#g[this.length()-1];next=()=>this.#g[this.length()-1]+=1;prev=()=>this.#g[this.length()-1]-=1;jumpTo=e=>this.#g[this.length()-1]=Number(e);length=()=>this.#g.length;back(){this.#g.pop(),this.#g.length||this.#g.push(1)}open(){this.#g.push(1)}},ms=e=>D("button",D("span",e,{class:"underline-target"}),{class:"icon-btn underline-side"});class bs extends HTMLElement{#h={};constructor(){super(),this.#h.input=D("input","1",{type:"number",min:1,max:1}),this.#h.maxPage=D("span","1");const e=this.#h.prevBtn=ms(i("上一页","Prev")),s=this.#h.nextBtn=ms(i("下一页","Next"));e.id="prev-btn",e.classList.add("left"),s.id="next-btn",s.classList.add("right");const t=D("label",[this.#h.input,D("text","/"),this.#h.maxPage]);this.#o();for(const i of[e,t,s])this.appendChild(i)}#o(){this.#h.input.addEventListener("keydown",(e=>{if("Enter"!==e.key)return;const s=e.target.value;if(!/^\d+$/.test(s))return void(e.target.value=1);const t=Number(s);t>0&&t<=this.#h.input.max?(ds.jumpTo(t),cs()):e.target.value=1})),this.#h.prevBtn.addEventListener("click",(()=>{ds.current()>0&&(ds.prev(),cs())})),this.#h.nextBtn.addEventListener("click",(()=>{ds.current()<this.#h.input.max&&(ds.next(),cs())}))}setPage(e,s){let t=!1,i=!1,a=!1;1===s?a=!0:(1===e&&(t=!0),e===s&&(i=!0)),this.#h.prevBtn.disabled=a||t,this.#h.nextBtn.disabled=a||i,this.#h.maxPage.textContent=s,this.#h.input.value=e,this.#h.input.max=s,this.classList.toggle("hidden",a)}}customElements.define("paging-view",bs);const js=document.querySelector("main"),fs=js.querySelector("#newest"),ws=js.querySelector("#previous-dir"),ys=js.querySelector("#article-list");fs.onkeydown=Fe(fs),ws.onkeydown=Fe(ws),ws.addEventListener("click",(()=>{ds.back(),ps.jumpTo(ps.parent())})),ys.addEventListener("click",(e=>{const s=e.target;if(s===ys)return;const t=s.getAttribute("data-relative"),i=s.getAttribute("data-jumpto");t&&(t.endsWith("/")&&ds.open(),ps.open(t)),i&&(ds.open(),ps.jumpTo(i))}));class vs{ws=null;wsServerURL="ws://"+location.host;isConnected=!1;retryCount=0;retryInterval=vs.defaultRetryInterval;connect(){vs.isAbleToConnect&&(this.ws=new WebSocket(this.wsServerURL),this.ws.addEventListener("open",(()=>{this.retryCount=0,this.retryInterval=vs.defaultRetryInterval,this.isConnected=!0,console.log("LiveReload WebSocket connected.")})),this.ws.addEventListener("message",(e=>{"refresh"===e.data&&location.reload()})),this.ws.addEventListener("error",(e=>{console.error("LiveReload WebSocket error occurred:",e),this.isConnected=!1,this.reconnect()})),this.ws.addEventListener("close",(()=>{console.warn("LiveReload WebSocket connection closed."),this.isConnected=!1,this.reconnect()})))}reconnect(){this.isConnected||(this.retryCount>10&&this.retryCount<=20?this.retryInterval=2*vs.defaultRetryInterval:this.retryCount>20?this.retryInterval=4*vs.defaultRetryInterval:this.retryInterval=vs.defaultRetryInterval,setTimeout((()=>{this.retryCount+=1,this.connect()}),this.retryInterval))}static isAbleToConnect=function(){const e=location.hostname;return"localhost"===e||"127.0.0.1"===e||e.startsWith("192.168.")}()&&"WebSocket"in window;static defaultRetryInterval=1e3}if(h("dist/chunks/skeleton.min.css"),l.fab.enable&&import("./chunks/fab.min.js"),l.search.enable&&import("./chunks/searchBox.min.js"),l.catalog.enable){function Cs(){Es&&n.emit("article-rendered",Ss)}let xs=!1,Es=!1,Ss=null;import("./chunks/catalog.min.js").then((()=>xs=!0)).then(Cs),n.on("article-rendered",(e=>{xs||(Es=!0,Ss=e)}))}const _s=document.getElementById("search-btn"),Ls=document.getElementById("light-btn"),Ts=document.getElementById("dark-btn");_s.onclick=()=>n.emit("searchbox-show"),Ls.onkeydown=Fe(Ls),Ts.onkeydown=Fe(Ts),window.addEventListener("popstate",(()=>{location.hash.endsWith("/")&&ds.back()})),window.addEventListener("beforeunload",(e=>{ps.isIn.article()&&(sessionStorage.setItem("last-leave-page",location.hash),sessionStorage.setItem("last-leave-position",window.scrollY))}));new MutationObserver(O).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("message",(e=>{if("null"!=e.origin)return;const{id:s,height:t}=e.data;document.getElementById(s).style.height=t+"px"}));(new vs).connect(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch((function(e){console.error("Registration failed with "+e)}));export{ze as a,Be as b,D as e,h as i,Fe as k,ps as p,N as s,G as t};
//# sourceMappingURL=index.min.js.map
