async function t(t){return await fetch(t).then((t=>t.json())).catch((e=>{console.log("JSON request error: "+t),console.error(e)}))}function e(t){return function(e){"Enter"!=e.key&&" "!=e.key||t.click()}}var s={homepage:"https://bhznjns.github.io/markdown-blog/",footer:"Powerd by <a href='https://github.com/BHznJNs/markdown-blog'>MarkdownBlog</a>",language:"zh",enableRSS:{value:!0,ignoreDir:["学习笔记/"]},enableNewest:{value:!0,ignoreDir:[]},pageCapacity:10,RSSCapacity:16,previewPort:3e3,katexOptions:null};function n(t,e,s=null){if("document"in globalThis){if("text"==t)return document.createTextNode(e);const n=document.createElement(t);return function(t,e){if(e)for(const[s,n]of Object.entries(e))t.setAttribute(s,n)}(n,s),function(t,e){if(e instanceof Array)for(const s of e)t.appendChild(s);else if(e instanceof HTMLElement)t.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);t.textContent=e}}(n,e),n}{function i(t){const e=[];for(const[s,n]of Object.entries(t)){const t=n.toString().replaceAll('"',"&quot;");e.push(`${s}="${t}"`)}return e.join(" ")}switch(e instanceof Array&&(e=e.join("")),t){case"text":return e;case"hr":return"<hr>";case"img":return`<img ${s?" "+i(s):""}>`}return`<${t}${s?" "+i(s):""}>${e}</${t}>`}}const i=["#","`","_","/","-",":",",","'","$"],r=new Map([["##","strong"],["``","code"],["__","u"],["//","i"],["--","del"],["::","span.dim"],[",,","sub"],["''","sup"],["$$","span.math"]]);class a{constructor(t,e){this.type=t,this.content=e}static key=Symbol("key");static text=Symbol("text");static link=Symbol("link");static phonetic=Symbol("phonetic")}class o extends a{constructor(t,e){super(),this.type=a.link,this.content=t,this.address=e}toHTML(){if(this.address.startsWith("http"))return n("a",this.content,{href:this.address,target:"_blank"});const t="static/"+this.address;return n("a",this.content,{href:"#"+t})}}class l extends a{constructor(t,e){super(),this.type=a.phonetic,this.content=t,this.notation=e}toHTML(){const t=n("rp","("),e=n("rp",")"),s=n("span",n("span",this.notation),{class:"cjk-notation-container"}),i=n("span",n("span",this.content),{class:"cjk-text-container"}),r=n("rt",this.notation);return n("ruby",[s,i,t,r,e])}}function c(t,e){let s="",n=!1;for(;t.length;){const i=t.slice(0,1);if(t=t.substr(1),"\\"!=i){if(i==e&&!n)break;s+=i,n=!1}else n=!n}return s}function h(t){const e=function(t){let e=[],s="",i="";for(const o of t)switch(o.type){case a.key:if(!s.length||o.content!=s){s=o.content;continue}const t=r.get(s);if(t.includes(".")){const[r,a]=t.split(".");"$$"==s&&(globalThis.__ContainsFormula__=!0),e.push(n(r,i,{class:a}))}else e.push(n(t,i));s="",i="";break;case a.text:s.length?i=o.content:e.push(n("text",o.content));break;case a.link:case a.phonetic:e.push(o.toHTML())}return e}(function(t){const e=[];let s="",n="",r=!1;for(;t.length;){const h=t.slice(0,1);if(t=t.substr(1),"["!=h||r)if("{"!=h||r)if(i.includes(h)){if(r){s+=h,r=!1;continue}n.length&&n==h?(e.push(new a(a.text,s)),e.push(new a(a.key,n+h)),n="",s=""):n=h}else{if("\\"==h){r=!r;continue}n.length&&(s+=n,n=""),r&&(s+="\\",r=!1),s+=h}else{e.push(new a(a.text,s)),s="";const n=c(t,"}");let i=(t=t.substr(n.length+1)).slice(0,1);if(t=t.substr(1),"("==i&&!r){const s=c(t,")");t=t.substr(s.length+1),e.push(new l(n,s))}}else{e.push(new a(a.text,s)),s="";const n=c(t,"]");let i=(t=t.substr(n.length+1)).slice(0,1);if(t=t.substr(1),"("==i&&!r){const s=c(t,")");t=t.substr(s.length+1),e.push(new o(n,s))}}}return s.length&&e.push(new a(a.text,s)),n.length&&e.push(new a(a.text,n)),e}(t));return e}const{language:u}=s;class g{tagName="";content="";toHTML(){const t=h(this.content);return n(this.tagName,t)}}class p extends g{constructor(t){super();const e=t.split(" "),s=e[0];let n=0;for(const t of s)"#"==t&&(n+=1);n>6&&(n=0),this.tagName="h"+n,this.content=e.slice(1).join(" ")}static pattern=t=>t.match(/^(#+ )/)}class m extends g{tagName="p";constructor(t){super(),this.content=t.trimStart()}}class d extends g{tagName="blockquote";children=[];constructor(t){super(),this.children=t}toHTML(){const t=this.children.map((t=>t.toHTML()));return n(this.tagName,t)}static pattern=t=>">"==t||t.startsWith("> ")}class b extends g{toHTML=()=>n("hr",[]);static pattern=t=>t.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!t.match(/[a-zA-Z0-9]/)}class j extends g{children=[];constructor(t){super(),this.isOrdered=Boolean(j.orderedPattern(t)),this.tagName=this.isOrdered?"ol":"ul",this.children=[j.getContent(t,this.isOrdered)]}push=t=>this.children.push(t);toHTML(){const t=[];for(const e of this.children)if("string"==typeof e){const s=h(e);t.push(n("li",s))}else t.push(e.toHTML());return n(this.tagName,t)}static unorderedPattern=t=>Boolean(t.match(/^([\s\t]*[+-]+ )/));static orderedPattern=t=>Boolean(t.match(/^([\s\t]*[0-9]+. )/));static isListPattern=t=>j.orderedPattern(t)||j.unorderedPattern(t);static getContent(t,e){return e?t.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0]:t.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0]}}class f extends g{headerCells=[""];bodyRows=[[""]];constructor(t,e){super(),this.headerCells=t,this.bodyRows=e}#t=t=>n("th",t);#e=t=>n("td",h(t));#s=t=>n("tr",t.map(this.#t));#n=t=>n("tr",t.map(this.#e));toHTML(){const t=n("thead",this.#s(this.headerCells)),e=n("tbody",this.bodyRows.map(this.#n));return n("table",[t,e])}static pattern=t=>t.startsWith("| ")}class k extends g{source="";description="";constructor(t){super(),t=t.substr(2),this.description=c(t,"]"),t=t.substr(this.description.length+2),this.source=c(t,")")}static containerGenerator(t){return n("div",t,{class:"media-container"})}static patternGenerator(t){return e=>e.startsWith(t+"[")&&e.endsWith(")")}static replaceContentGenerator(t,e){let s;"cn"==u?s=n("a","从这里下载！",{href:t}):"en"==u&&(s=n("a","Download this!",{href:t}));return`${e}<br>${s}`}static srcUrlResolver(t){let e;if(t.startsWith("http"))e=t;else if("location"in globalThis){e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+t}else{e=globalThis.__ResourcePath__+"/"+t}return e}}class _ extends k{static pattern=k.patternGenerator("!");toHTML(){const t=n("img",[],{src:k.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return k.containerGenerator(t)}}class y extends k{static pattern=k.patternGenerator(":");toHTML(){const t=k.srcUrlResolver(this.source),e=n("audio",k.replaceContentGenerator(t,this.description),{src:t,controls:!0});return k.containerGenerator(e)}}class w extends k{static pattern=k.patternGenerator("?");toHTML(){const t=k.srcUrlResolver(this.source),e=n("video",k.replaceContentGenerator(t,this.description),{src:t,controls:"true"});return k.containerGenerator(e)}}const x=t=>k.patternGenerator("@")(t)||t.startsWith("@@@");class T extends k{toHTML(){const t=k.srcUrlResolver(this.source),e=n("iframe",this.description,{src:t,title:this.description,sandbox:"allow-scripts"});return k.containerGenerator(e)}}class L extends g{constructor(t,e){super(),this.lang=e,"object"==typeof window?this.content=t:this.content=t.replaceAll("<","&lt;").replaceAll(">","&gt;")}append(t){this.content+=t}toHTML(){"object"==typeof window&&globalThis.__LanguageList__.add(this.lang);const t=n("code",this.content,{class:`language-${this.lang}`,"data-language":this.lang.toUpperCase()});return n("pre",t)}static pattern=t=>t.startsWith("```")}class C extends g{summary="";content="";constructor(t,e){super(),this.summary=e,this.content=N(t)}toHTML(){const t=n("summary",this.summary),e=n("details",t),s=n("div",n("div",this.content.map((t=>t.toHTML()))),{class:"details-children"});return n("div",[e,s],{class:"details"})}static pattern=t=>t.startsWith(">>>")}class v extends g{content="";description="";constructor(t,e){super(),this.content=t,this.description=e}toHTML(){return globalThis.__ContainsFormula__=!0,n("div",this.content,{class:"math",title:this.description})}static pattern=t=>t.startsWith("$$$")}class M extends g{static#i=t=>`<style>\n@media (prefers-color-scheme: dark) {\n  :root {\n    color: white;\n    background-color: #121212;\n  }\n}\n</style>\n<script>\nwindow.addEventListener("load", (e) => {\n  const iframeRootEl = e.target.documentElement\n  const parent = window.parent\n  const height = parseFloat(getComputedStyle(iframeRootEl).height)\n  parent.postMessage({\n    height,\n    id: "${t}"\n  }, "*")\n})\n<\/script>`;constructor(t,e){super(),globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=e,"object"==typeof window?this.content=t+M.#i(this.id):this.content=t}toHTML(){const t=n("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return k.containerGenerator(t)}}function E(t){let e=0,s=0;for(const n of t){if(n.match(/[^\s\t]/))break;"\t"!=n?(" "==n&&(s+=1),2==s&&(s=0,e+=1)):e+=1}return e}function H(t,e){const s=E(t),n=new j(t);for(;e.length&&j.isListPattern(e[0]);){const t=e.shift(),i=E(t),r=j.orderedPattern(t);if(i>s)n.push(H(t,e));else{if(i!=s||r!=n.isOrdered){e.unshift(t);break}n.push(j.getContent(t,r))}}return n}function S(t,e){let s=t.slice(2)+"\n";for(;e.length;){const t=e.shift();if(!d.pattern(t)){e.unshift(t);break}s+=t.slice(2)+"\n"}const n=N(s);return new d(n)}function $(t){return t.split("|").filter((t=>t.length>0)).map((t=>t.trim()))}function q(t,e){const s=t,n=[];for(;e.length;){const t=e.shift();if(!f.pattern(t)){e.unshift(t);break}n.push(t)}const i=$(s),r=n.map($);return new f(i,r)}function P(t,e){return function(s,n){const i=s.slice(3);let r="";for(;n.length;){const e=n.shift();if(e==t)break;r+=e+"\n"}return new e(r,i)}}const A=P("```",L),R=P(">>>",C),W=P("$$$",v);function G(t,e){const s=P("@@@",M);return t.startsWith("@@@")?s(t,e):new T(t)}function N(t){const e=function(t){return-1!=t.indexOf("\r")?t.split("\r\n"):t.split("\n")}(t),s=[];for(;e.length;){const t=e.shift();0!=t.length&&(p.pattern(t)?s.push(new p(t)):b.pattern(t)?s.push(new b):d.pattern(t)?s.push(S(t,e)):j.isListPattern(t)?s.push(H(t,e)):f.pattern(t)?s.push(q(t,e)):_.pattern(t)?s.push(new _(t)):y.pattern(t)?s.push(new y(t)):w.pattern(t)?s.push(new w(t)):C.pattern(t)?s.push(R(t,e)):v.pattern(t)?s.push(W(t,e)):L.pattern(t)?s.push(A(t,e)):x(t)?s.push(G(t,e)):s.push(new m(t)))}return s}const{katexOptions:B}=s;let O=null,F=null;async function U(){function t(){const t=Array.from(globalThis.__LanguageList__),e=t.filter((t=>!O.getLanguage(t))).map((t=>function(t){switch(t){case"../libs/highlight-es/languages/armasm.js":return import("./chunks/armasm.min.js");case"../libs/highlight-es/languages/asciidoc.js":return import("./chunks/asciidoc.min.js");case"../libs/highlight-es/languages/bash.js":return import("./chunks/bash.min.js");case"../libs/highlight-es/languages/c.js":return import("./chunks/c.min.js");case"../libs/highlight-es/languages/clojure.js":return import("./chunks/clojure.min.js");case"../libs/highlight-es/languages/cmake.js":return import("./chunks/cmake.min.js");case"../libs/highlight-es/languages/cos.js":return import("./chunks/cos.min.js");case"../libs/highlight-es/languages/cpp.js":return import("./chunks/cpp.min.js");case"../libs/highlight-es/languages/csharp.js":return import("./chunks/csharp.min.js");case"../libs/highlight-es/languages/css.js":return import("./chunks/css.min.js");case"../libs/highlight-es/languages/dart.js":return import("./chunks/dart.min.js");case"../libs/highlight-es/languages/django.js":return import("./chunks/django.min.js");case"../libs/highlight-es/languages/dockerfile.js":return import("./chunks/dockerfile.min.js");case"../libs/highlight-es/languages/elixir.js":return import("./chunks/elixir.min.js");case"../libs/highlight-es/languages/erlang.js":return import("./chunks/erlang.min.js");case"../libs/highlight-es/languages/excel.js":return import("./chunks/excel.min.js");case"../libs/highlight-es/languages/go.js":return import("./chunks/go.min.js");case"../libs/highlight-es/languages/gradle.js":return import("./chunks/gradle.min.js");case"../libs/highlight-es/languages/groovy.js":return import("./chunks/groovy.min.js");case"../libs/highlight-es/languages/haml.js":return import("./chunks/haml.min.js");case"../libs/highlight-es/languages/haskell.js":return import("./chunks/haskell.min.js");case"../libs/highlight-es/languages/http.js":return import("./chunks/http.min.js");case"../libs/highlight-es/languages/ini.js":return import("./chunks/ini.min.js");case"../libs/highlight-es/languages/java.js":return import("./chunks/java.min.js");case"../libs/highlight-es/languages/javascript.js":return import("./chunks/javascript.min.js").then((function(t){return t.b}));case"../libs/highlight-es/languages/json.js":return import("./chunks/json.min.js");case"../libs/highlight-es/languages/julia.js":return import("./chunks/julia.min.js");case"../libs/highlight-es/languages/kotlin.js":return import("./chunks/kotlin.min.js");case"../libs/highlight-es/languages/latex.js":return import("./chunks/latex.min.js");case"../libs/highlight-es/languages/less.js":return import("./chunks/less.min.js");case"../libs/highlight-es/languages/lisp.js":return import("./chunks/lisp.min.js");case"../libs/highlight-es/languages/llvm.js":return import("./chunks/llvm.min.js");case"../libs/highlight-es/languages/lua.js":return import("./chunks/lua.min.js");case"../libs/highlight-es/languages/makefile.js":return import("./chunks/makefile.min.js");case"../libs/highlight-es/languages/markdown.js":return import("./chunks/markdown.min.js");case"../libs/highlight-es/languages/mathematica.js":return import("./chunks/mathematica.min.js");case"../libs/highlight-es/languages/matlab.js":return import("./chunks/matlab.min.js");case"../libs/highlight-es/languages/nginx.js":return import("./chunks/nginx.min.js");case"../libs/highlight-es/languages/nim.js":return import("./chunks/nim.min.js");case"../libs/highlight-es/languages/nix.js":return import("./chunks/nix.min.js");case"../libs/highlight-es/languages/objectivec.js":return import("./chunks/objectivec.min.js");case"../libs/highlight-es/languages/ocaml.js":return import("./chunks/ocaml.min.js");case"../libs/highlight-es/languages/perl.js":return import("./chunks/perl.min.js");case"../libs/highlight-es/languages/php.js":return import("./chunks/php.min.js");case"../libs/highlight-es/languages/powershell.js":return import("./chunks/powershell.min.js");case"../libs/highlight-es/languages/python.js":return import("./chunks/python.min.js");case"../libs/highlight-es/languages/ruby.js":return import("./chunks/ruby.min.js");case"../libs/highlight-es/languages/rust.js":return import("./chunks/rust.min.js");case"../libs/highlight-es/languages/scala.js":return import("./chunks/scala.min.js");case"../libs/highlight-es/languages/scss.js":return import("./chunks/scss.min.js");case"../libs/highlight-es/languages/shell.js":return import("./chunks/shell.min.js");case"../libs/highlight-es/languages/sql.js":return import("./chunks/sql.min.js");case"../libs/highlight-es/languages/stata.js":return import("./chunks/stata.min.js");case"../libs/highlight-es/languages/stylus.js":return import("./chunks/stylus.min.js");case"../libs/highlight-es/languages/swift.js":return import("./chunks/swift.min.js");case"../libs/highlight-es/languages/toml.js":return import("./chunks/toml.min.js");case"../libs/highlight-es/languages/typescript.js":return import("./chunks/typescript.min.js");case"../libs/highlight-es/languages/vim.js":return import("./chunks/vim.min.js");case"../libs/highlight-es/languages/wasm.js":return import("./chunks/wasm.min.js");case"../libs/highlight-es/languages/x86asm.js":return import("./chunks/x86asm.min.js");case"../libs/highlight-es/languages/xml.js":return import("./chunks/xml.min.js");case"../libs/highlight-es/languages/xquery.js":return import("./chunks/xquery.min.js");case"../libs/highlight-es/languages/yaml.js":return import("./chunks/yaml.min.js");default:return new Promise((function(e,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`../libs/highlight-es/languages/${t.toLowerCase()}.js`)));Promise.all(e).then((e=>e.forEach(((e,s)=>{const n=t[s],i=e.default;O.registerLanguage(n,i)})))).then((()=>O.highlightAll())).catch((t=>console.error(t)))}0!=globalThis.__LanguageList__.size&&(O?t():await import("./chunks/highlight.min.js").then((t=>O=t.default)).then(t).catch((t=>console.error(t))))}async function I(){function t(){document.querySelectorAll(".math").forEach((t=>F.render(t.textContent,t,B)))}if(!globalThis.__ContainsFormula__)return;if(F)return void t();const e=[import("./chunks/katex.min.js"),fetch("dist/katex.min.css")];await Promise.all(e).then((([e,s])=>(F=e.default,t(),s.text()))).then((t=>{const e=document.createElement("style");e.textContent=t,document.head.appendChild(e)})).catch((t=>console.error(t)))}const z=document.querySelector("article:not(#directory-description)"),D=document.querySelector("main"),J=D.querySelector("#directory-description"),Z=D.querySelector("#previous-dir li"),K=D.querySelector("#article-list");function Q(t){globalThis.__LanguageList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;let e=N(t).map((t=>t.toHTML()));return e.length||(e=n("h1","404 Not Found")),e}function V(t,s){const{current:n,total:i}=t;let r=!1,a=!1,o=!1;if(1==i?o=!0:(1==n&&(r=!0),n==i&&(a=!0)),D.setAttribute("data-is-first-page",r),D.setAttribute("data-is-last-page",a),D.setAttribute("data-is-only-page",o),J.innerHTML="","directoryDescription"in t){Q(t.directoryDescription).forEach((t=>J.appendChild(t))),J.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=e(t)})),U().then((()=>globalThis.__LanguageList__=null)),I().then((()=>globalThis.__ContainsFormula__=!1))}K.innerHTML="",t.content.map(s).forEach((t=>K.appendChild(t))),K.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=e(t)})),z.style.display="none",D.style.display="block",document.body.scrollTop=0,document.documentElement.scrollTop=0}z.addEventListener("click",(t=>{const e=t.target;"IMG"==e.tagName&&window.open(e.src)})),Z.addEventListener("click",(()=>{const t=location.hash.split("/");globalThis.__CurrentPage__=1,location.hash=t.slice(0,-2).join("/")+"/"})),K.addEventListener("click",(t=>{const e=t.target;e!=K&&(e.getAttribute("data-target-blog")?(globalThis.__CurrentPage__=1,location.hash=e.getAttribute("data-target-blog")):(e.innerText.endsWith("/")&&(globalThis.__CurrentPage__=1),location.hash+=e.innerText))})),globalThis.__CurrentPage__=1;const X="./.index/",Y=document.querySelector("#light-btn"),tt=document.querySelector("#dark-btn"),et=document.querySelector("button#previous"),st=document.querySelector("button#next");Y.onkeydown=e(Y),tt.onkeydown=e(tt),et.addEventListener("click",(()=>{globalThis.__CurrentPage__>0&&(globalThis.__CurrentPage__-=1,rt())})),st.addEventListener("click",(()=>{globalThis.__CurrentPage__+=1,rt()}));const nt=document.querySelector("main"),it=document.getElementById("article-list");async function rt(){if(!location.hash)return void(location.hash="static/");const s=location.hash.slice(1);if(it.classList.add("disabled"),"newest/"==s){V(await t(X+"newest_"+globalThis.__CurrentPage__),(t=>{const e=n("code",t.date),s=n("span",t.title);return n("li",[e,n("text",": "),s],{tabindex:0,"data-target-blog":t.link})}))}else if(s.startsWith("static")&&s.endsWith("/")){const e=s.split("/").slice(0,-1),i=X+e.join("+")+"_"+globalThis.__CurrentPage__;V(await t(i),(t=>n("li",n("span",t),{tabindex:0})))}else{if(!s.startsWith("static")||!s.endsWith(".md"))return void(location.hash="static/");!function(t){const s=Q(t);z.innerHTML="",s.forEach((t=>z.appendChild(t))),D.style.display="none",z.style.display="block",z.querySelectorAll("[tabindex='0']").forEach((t=>{t.onkeydown=e(t)})),document.body.scrollTop=0,document.documentElement.scrollTop=0,U().then((()=>globalThis.__LanguageList__=null)),I().then((()=>globalThis.__ContainsFormula__=!1))}(await async function(t){return await fetch(t).then((t=>{if(200!=t.status)throw t.status;return t.body})).then((async t=>{const e=t.getReader(),s=new TextDecoder("utf-8");let n="";const i=t=>t.done?n:(n+=s.decode(t.value,{stream:!0}),e.read().then(i)),r=await e.read();return i(r)})).catch((e=>{switch(e){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";default:console.log("Markdown request error: "+t),console.error(e)}}))}("./"+s))}nt.setAttribute("data-is-root","static/"==s),it.classList.remove("disabled")}window.onload=rt,window.addEventListener("hashchange",rt),window.addEventListener("message",(t=>{if("null"!=t.origin)return;const{id:e,height:s}=t.data;document.getElementById(e).style.height=s+"px"}),!1);
//# sourceMappingURL=./sourcemaps/index.map
